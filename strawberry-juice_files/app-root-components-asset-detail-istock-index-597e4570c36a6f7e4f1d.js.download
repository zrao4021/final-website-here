/*! For license information please see app-root-components-asset-detail-istock-index-597e4570c36a6f7e4f1d.js.LICENSE.txt */
"use strict";(self.webpackChunkasset_detail=self.webpackChunkasset_detail||[]).push([[2872],{37091:function(e,t,n){n.r(t),n.d(t,{MOSAIC_GRID_TYPES:function(){return G},default:function(){return V}});var r=n(70277),i=n.n(r),a=n(24253),o=(n(54824),n(23252)),s=n(9975),c=n(32485),l=n.n(c),u="PuyvOPr2BzkrGPUNVWpH",d="j9jfWz7OteO3Iz2f3OZZ",f="Dllyt68qL_MrzLazUZs_",p="BmKOR4U2E1Lxf96KZL85",_="UAd5bLpE040Jp85G38YJ",h="nMFQhlgnc9XtAKKnrHaG",m="QLe6nCAqbhRDXWSoI7pF",v=n(71087),g=["styles"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(null,arguments)}var b=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,g);return i().createElement("svg",y({width:"23",height:"17",viewBox:"0 0 23 7",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("g",{fill:"none",fillRule:"evenodd"},i().createElement("path",{d:"M-1-1h24v9H-1z"}),i().createElement("path",{d:"M9.813 0v4.4h1.3v1.2h-1.3v.9h-2.6v-1h-6.5c-1.1 0-.6-1.1-.6-1.1s5.9-4.3 6.1-4.4h3.6zm-2.6 1.5l-3.8 2.6h3.8V1.5zm4.3-1.5v6.5h2.7V3.8l4.3 2.7h3.6l-5.7-3.5 5.3-3h-3.4l-4.1 2.4V0h-2.7z",fill:"#FFF",fillRule:"nonzero"})))},w=["styles"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(null,arguments)}var E=function(e){var t=e.styles,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,w);return i().createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:"17.103",height:"11.732",viewBox:"0 0 17.103 11.732"},r),i().createElement("path",{className:n.st0||"st0",d:"M17.103.816l-5.371 3.1V0H0v11.732h11.732V7.815l5.37 3.1z"}))},O=n(16006),C="yDt6YLsSS0dqFByfmdsN",A="gcO2GOLxYZJdo_FnFYWn",I="vnIe56HnfVYeyOJLhXbI",N=n(74848);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){var t=e.src,n=e.poster,i=e.filmDefinition,a=e.alt,o=(0,r.useRef)(),s=T((0,O.A)(o),2),c=s[0],l=s[1];return(0,N.jsxs)("div",{ref:o,className:C,"data-testid":"mosaic-grid-video-asset",children:[(0,N.jsx)("img",{src:n,alt:a,loading:"lazy"}),c&&(0,N.jsx)("video",{loop:!0,muted:!0,preload:"none",ref:l,src:t,poster:n,onFocus:function(e){return e.target.play()},onBlur:function(e){return e.target.pause()}}),"4K"===i?(0,N.jsx)(b,{"aria-label":"video4k",className:I}):(0,N.jsx)(E,{"aria-label":"video",className:A})]})};j.defaultProps={src:null,poster:null,filmDefinition:null};var P=j,D="DcdVECpRwHut2mLnDHb1",L="_W9K4IqmnuZRk_cy8Dk6",R=function(e){var t,n,r,i,a=e.asset,o=e.href,s=e.trackOnClick,c=e.overlay,l=void 0===c?null:c,u=(t=a.maxWidth?a.maxWidth:0,n=a.maxHeight?a.maxHeight:0,r="film"===a.assetType?640:612,i=Math.min(r/t,r/n),{width:Math.floor(t*i),height:Math.floor(n*i)}),d="image"===a.assetType?D:L,f=(0,v.A)();return(0,N.jsxs)("a",{"data-testid":"mosaic-grid-asset",className:d,href:o,onClick:function(){return s(f)},style:{"--width":u.width,"--height":u.height},"data-max-width":u.width,"data-max-height":u.height,children:[l,"image"===a.assetType&&(0,N.jsx)("img",{src:a.thumb612Url,alt:a.title}),"film"===a.assetType&&(0,N.jsx)(P,{src:a.filmThumbUrl,poster:a.thumbUrl,filmDefinition:a.filmDefinition,alt:a.title})]},a.assetId)};R.defaultProps={overlay:null};var k=(0,o.A)(R,"thumbnail"),F="dy14Avp0hRBvPyqjQ53W",U="tq5KW65mECljmFid6S_q",M="Rx7VzIfm0IMuXBG4x7eh",B="ftxX7VHWypGMQRZnu6t5",W=function(e){var t=e.count,n=e.text;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:F,"data-testid":"mosaic-grid-overlay"}),(0,N.jsxs)("div",{className:U,children:[(0,N.jsxs)("div",{className:M,children:["+",t]}),(0,N.jsx)("div",{className:B,children:n})]})]})};function z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G={SINGLE_ROW:"single-row",MULTI_ROW:"multi-row"},H=function(e){var t=e.data,n=e.isImage,r=e.header,i=e.linkText,o=e.viewAllUrl,c=e.overlayText,v=e.tracking,g=e.inGridCount,y=e.gridType,b=void 0===y?G.MULTI_ROW:y,w=e.searchScope,S=(0,a.F)(),E=t.totalNumberOfResults-g+1,O=function(e){return w?S.prefixedPath(function(e){return s.A.appendQueryParamsToString(e,{searchscope:w})}(e)):S.prefixedPath(e)};return(0,N.jsxs)("section",{className:l()(u,z(z({},d,n),p,!n)),"data-testid":"mosaic-grid-assets",children:[(0,N.jsxs)("div",{className:f,children:[(0,N.jsx)("h2",{"data-testid":"mosaic-grid-header",className:_,children:r}),b===G.SINGLE_ROW?null:(0,N.jsxs)("a",{href:o,onClick:v.trackViewAll,children:[i,">"]})]}),(0,N.jsx)("div",{className:b===G.SINGLE_ROW?m:h,children:t.assets.map((function(e,n){var r=function(e){var n=t.assets.length-1,r=t.totalNumberOfResults>g;return e===n&&r}(n);return(0,N.jsx)(k,{asset:e,href:r?o:O(e.landingUrl),trackOnClick:function(t){return r?v.trackViewAllOverlay():v.trackAssetClick(e,n+1,t)},overlay:r?(0,N.jsx)(W,{count:E,text:c}):null},e.id)}))})]})};H.defaultProps={data:null,isImage:!1,gridType:G.MULTI_ROW,searchScope:null};var V=(0,o.A)(H,"mosaic_grid")},76954:function(e,t,n){n.r(t),n.d(t,{default:function(){return wh}});var r=n(70277),i=n.n(r),a=n(31876),o=n(25759),s=n(2896),c=n(91829),l=n(1265),u=n(65054),d=n(18628),f=Object.freeze({active:"Active",cancelled:"Cancelled",expired:"Expired",paused:"Paused",pending:"Pending",suspended:"Suspended"});var p=function(e){if(e.subscription){switch(e.subscription.status){case f.paused:case f.suspended:case f.expired:return!0}return!1}},_=Object.freeze({PICK_PAYMENT_OPTION:"PICK_PAYMENT_OPTION",REDOWNLOAD_FOR_FREE:"REDOWNLOAD_FOR_FREE",PICK_PRICING_CLARITY_PAYMENT_OPTION:"PICK_PRICING_CLARITY_PAYMENT_OPTION",FREE_ADMIN_DOWNLOAD:"FREE_ADMIN_DOWNLOAD",INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP:"INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP",PURCHASE_AND_SELECT_LICENCES_STEP:"PURCHASE_AND_SELECT_LICENCES_STEP",CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS:"CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS",CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS:"CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS",CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS",CONFIRM_DOWNLOAD_BY_TEAM_CREDITS:"CONFIRM_DOWNLOAD_BY_TEAM_CREDITS",CONFIRM_REDOWNLOAD_FOR_FREE:"CONFIRM_REDOWNLOAD_FOR_FREE",MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION",TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS:"TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS",COMPLETE_DOWNLOAD:"COMPLETE_DOWNLOAD",COMPLETE_REDOWNLOAD:"COMPLETE_REDOWNLOAD",CHOOSE_ACCOUNT:"CHOOSE_ACCOUNT",TEAM_ACCOUNT_OUT_OF_CREDITS:"TEAM_ACCOUNT_OUT_OF_CREDITS",SELECT_ACCOUNT_TYPE:"SELECT_ACCOUNT_TYPE"});function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=h(h(h(h(h(h({},_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES,(function(){return"insufficient_credits"})),_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION,(function(){return"insufficient_credits"})),_.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION,(function(){return"asset_unavailable_with_plan"})),_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS,(function(){return"asset_unavailable_with_plan"})),_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING,(function(){return"insufficient_subscription_downloads"})),_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION,(function(e){switch(function(e){if(e.subscription)switch(e.subscription.status){case f.paused:return f.paused;case f.suspended:return f.suspended;case f.expired:return f.expired}}(e)){case f.expired:return"expired_subscription";case f.suspended:return"suspended_subscription";case f.paused:return"paused_subscription";default:return"blocked_subscription"}})),v=Object.keys(m),g={INITIALIZE:"INITIALIZE",SET_AVAILABLE_CREDITS:"SET_AVAILABLE_CREDITS",SET_AGREEMENTS:"SET_AGREEMENTS",LOAD_SUBSCRIPTION:"LOAD_SUBSCRIPTION",SELECT_AGREEMENT_TYPE:"SELECT_AGREEMENT_TYPE",SET_SELECTED_ACCOUNT:"SET_SELECTED_ACCOUNT",SET_DISPLAY_ERROR:"SET_DISPLAY_ERROR",SET_LICENSES:"SET_LICENSES",SET_TOASTER:"SET_TOASTER",SET_BUY_AND_BURN_DOWNLOAD:"SET_BUY_AND_BURN_DOWNLOAD",CHECK_LICENSE:"CHECK_LICENSE",SELECT_ASSET_SIZE:"SELECT_ASSET_SIZE",SET_CTA_IN_PROGRESS:"SET_CTA_IN_PROGRESS",SET_MINI_PNP_OPEN:"SET_MINI_PNP_OPEN",SELECT_PRICING_CLARITY_OPTION_TOGGLE:"SELECT_PRICING_CLARITY_OPTION_TOGGLE",GO_TO_BEGINNING:"GO_TO_BEGINNING",CANCEL_AND_BACK_TO_BEGINING:"CANCEL_AND_BACK_TO_BEGINING",GO_TO_FREE_ADMIN_DOWNLOAD:"GO_TO_FREE_ADMIN_DOWNLOAD",GO_TO_CONFIRM_DOWNLOAD:"GO_TO_CONFIRM_DOWNLOAD",GO_TO_COMPLETE_DOWNLOAD:"GO_TO_COMPLETE_DOWNLOAD",GO_TO_COMPLETE_REDOWNLOAD:"GO_TO_COMPLETE_REDOWNLOAD",GO_TO_NEXT_STEP:"GO_TO_NEXT_STEP",FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED:"FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED",SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD:"SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD",POST_ASSET_TO_CREATE_DOWNLOAD:"POST_ASSET_TO_CREATE_DOWNLOAD",REDIRECT_TO_URL:"REDIRECT_TO_URL",SET_DOWNLOAD_DATA:"SET_DOWNLOAD_DATA",SELECT_ACCOUNT_STEP:"SELECT_ACCOUNT_STEP",CONFIRM_DOWNLOAD_STEP:"CONFIRM_DOWNLOAD_STEP",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP",SET_SPECTRUM_DOWNLOADED_ASSET_ID:"SET_SPECTRUM_DOWNLOADED_ASSET_ID",SHOW_POST_DOWNLOAD_ONBOARDING:"SHOW_POST_DOWNLOAD_ONBOARDING",HIDE_POST_DOWNLOAD_ONBOARDING:"HIDE_POST_DOWNLOAD_ONBOARDING"},y=function(e){return function(t){return function(n){var r=e.getState(),i=t(n),a=e.getState();if(n.type===g.GO_TO_NEXT_STEP){var o,s,c=(null===(o=a.calc)||void 0===o?void 0:o.step)||{},l=c.warningBox,f=c.name;if(l&&f!==(null===(s=r.calc)||void 0===s||null===(s=s.step)||void 0===s?void 0:s.name)&&v.includes(f)){var p=function(e){return m[e.calc.step.name](e)}(a),_=(0,u.A)({error_message_selection:"download_error",error_message_name:p,ui_element_location:"buy_card"});(0,d.C)(_)}}return i}}},b=[l.A,y];"undefined"!=typeof window&&window.reduxLogger&&b.push(window.reduxLogger.createLogger({diff:!0,duration:!0,collapsed:!0,stateTransformer:function(e){return e.toJS?e.toJS():e}}));var w="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.Zz,S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,c.y$)(e,t,w(c.Tw.apply(void 0,b)))},E=n(50279),O=n.n(E);function C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var N={Small:"small_file_size",Medium:"medium_file_size",Large:"large_file_size",Xlarge:"xlarge_file_size",Xxlarge:"xxlarge_file_size",eps:"EPS",epsUnavailable:"EPS"},T=null,x=!1,j=function(e,t,n){if("film"===t)return e;var r=A(e);return"illustration"!==n||x||r.push({name:"epsUnavailable",teeShirtSize:"epsUnavailable",description:"eps_not_available",epsUnavailable:!0}),r},P={formatAsset:function(e){return"film"!==e.assetType&&function(e){if(T=e.findIndex((function(e){return"eps"===e.name})),x=T>=0){var t=e[T];t.teeShirtSize=t.name,t.isEps=!0}}(e.imageSizes),{actualMaxDimensions:e.actualMaxDimensions,agreements:e.agreements,allowedUseCodeKey:e.allowedUseCodeKey,artist:e.artist,assetDimensions:e.assetDimensions,assetFamily:e.family,assetId:e.id,assetQuality:e.quality,assetType:e.assetType,category:e.category,clipLength:e.clipLength,contributor:e.contributor,dateSubmittedVideo:e.dateSubmittedVideo,dateSubmittedVideoFormatted:e.dateSubmittedVideoFormatted,dateSubmitted:e.dateSubmitted,dateSubmittedFormatted:e.dateSubmittedFormatted,defaultMainImageURL:e.defaultMainImageURL,defaultMainWebPURL:e.defaultMainWebPURL,epsFileSizeIndex:T,exclusiveContent:e.exclusiveContent,experiences:e.experiences,filmDefinition:e.filmDefinition,filmCompUrl:e.filmCompUrl,downloadableFilmCompUrl:e.downloadableFilmCompUrl,filmPreviewDimensions:e.filmPreviewDimensions,freeFile:e.isFreeFile,galleryComp1024Url:e.galleryComp1024Url,galleryHighResCompUrl:e.galleryHighResCompUrl,hasEpsFileSize:x,includedWithSubscription:(null!=e.agreements?e.agreements.indexOf("RF"):void 0)>=0,is360Image:e.is360Image,isEditorialUseOnly:e.isEditorialUseOnly,isEssentialImage:e.isEssentialImage,isSignatureImage:e.isSignatureImage,isFilm:e.isFilm,isHidden:e.isHidden,isIllustration:e.isIllustration,isImage:e.isImage,isIstockExclusive:e.isIstockExclusive,isVector:e.isVector,istockCollection:e.istockCollection,keywords:e.keywords,largeMainImageURL:e.largeMainImageURL,largeMainWebPURL:e.largeMainWebPURL,licenseType:e.licenseType,localizedCaption:e.localizedCaption,location:e.location,mainImageUrl:e.mainImageUrl,mainWebPUrl:e.mainWebPUrl,mediaType:e.mediaType,orderId:e.orderId,orientation:e.orientation,ratio:e.ratio,showCreditExpiryDisclaimer:e.showCreditExpiryDisclaimer,sizes:j(e.imageSizes,e.assetType,e.mediaType),stackId:e.stackId,standardLicense:e.standardLicense,thumb612Url:e.thumb612Url,thumbUrl:e.thumbUrl,title:e.title,zoomedImageUrl:e.zoomedImageUrl,zoomedWebPUrl:e.zoomedWebPUrl}},getSizeMap:function(){return N},getPreferredSize:function(e){return e.istock_user_preferred_download_size},getVideoPreferredSize:function(e){return{name:e.istock_user_preferred_video_download_size_name,definition:e.istock_user_preferred_video_download_size_definition}},getEpsPreferredSize:function(e){return e.istock_user_preferred_eps_download_size},setPreferredSize:function(e){var t="istock_user_preferred_download_size";"eps"===e&&(t="istock_user_preferred_eps_download_size"),O().post("/detail/preferences",{asset_detail_preferences:C({},t,e)})},setPreferredVideoSize:function(e,t){O().post("/detail/preferences",{asset_detail_preferences:{istock_user_preferred_video_download_size_name:e,istock_user_preferred_video_download_size_definition:t}})}},D=P,L="signature",R="essentials",k=function(e){if(e)return e.match(/premium|signature/i)},F={SIGNATURE:L,ESSENTIALS:R,isPPV:function(e){return!!e&&/video/i.test(e)},isSignature:k,isEssentials:function(e){return!!(e?e.match(/essentials/i):void 0)},getAssetCollectionName:function(e){return k(e.istockCollection)?L:R}},U=F,M={subsInfo:{}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name||"";return M.subsInfo={isPPV:U.isPPV(t),isSignature:U.isSignature(t),isEssentials:U.isEssentials(t),downloadedCount:e.download_count||0,downloadLimit:e.download_limit||0,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0},M.subsInfo.downloadsRemaining=M.subsInfo.downloadLimit-M.subsInfo.downloadedCount},W=function(e){window.tracking_data.has_purchased=e.has_purchase_history,window.tracking_data.has_credits=e.has_credits,window.tracking_data.has_subscription=e.has_subscription,window.tracking_data.has_subs_downloads=e.subsInfo.downloadsRemaining>0,window.tracking_data.remembered=e.remembered,window.tracking_data.authenticated=e.authenticated},z={formatUser:function(){return(M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).credit_amount=M.credit_amount||0,M.authenticated=M.authenticated||!1,M.remembered=M.remembered||!1,M.team_member=M.team_member||!1,M.team_leader=M.team_leader||!1,M.has_credits=M.has_credits||!1,M.has_subscription=M.has_subscription||!1,M.team_credits=M.team_credits||0,M.team_name=M.team_name||"",M.free_trial_subscription_test_active=M.free_trial_subscription_test_active||!1,M.free_trial_subscription_multivariant_eligible=M.free_trial_subscription_multivariant_eligible||!1,B(),"undefined"!=typeof window&&void 0!==window.tracking_data&&W(M),M}},G=z,H=n(9404),V=n.n(H);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K(r.key),r)}}function K(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var q=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"isMappable",value:function(e){return null!==e&&"object"==typeof e&&!V().Iterable.isIterable(e)}},{key:"mapArray",value:function(e){var t=this;return V().List(e.map((function(e){return t.mapJS(e)})))}},{key:"mapHash",value:function(e){for(var t in e){var n=e[t];e[t]=this.mapJS(n)}return V().Record(e)()}},{key:"mapJS",value:function(e){return this.isMappable(e)?Array.isArray(e)?this.mapArray(e):this.mapHash(e):e}},{key:"fromJS",value:function(e){return this.mapJS(e)}}],(t=null)&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),J=q.fromJS({userDetails:{country_code:"",authenticated:!1,remembered:!1,anonymous:!0,has_subscription:!1,has_purchase_history:!1,team_member:!1,team_leader:!1,team_name:"",eligible_for_free_trial:!1,fast_checkout_sub:!1,fast_checkout_subs_pack_sku:"",istock_fast_checkout_larger_offer_credit_pack_sku:"",pricing_clarity_flow:!1,credit_amount:0,has_ai_generations:!1,show_unlimited_content:!1,price_book:{},has_credits:!1,team_credits:0,subsInfo:{isPPV:!1,isSignature:!1,isEssentials:!1,downloadedCount:0,downloadLimit:0,autoRenews:!1,daysUntilExpiry:0,downloadsRemaining:0}},asset:{agreements:[],allowedUseCodeKey:"",assetDimensions:{width:0,height:0},assetFamily:"",assetId:"",assetType:"",dateSubmitted:"",dateSubmittedFormatted:"",defaultMainImageURL:"",epsFileSizeIndex:-1,exclusiveContent:"",freeFile:!1,hasEpsFileSize:!1,isEditorialUseOnly:!1,isEssentialImage:!1,isSignatureImage:!1,isFilm:!1,isHidden:!1,isIllustration:!1,isImage:!1,isIstockExclusive:!1,isVector:!1,istockCollection:"",keywords:[],licenseType:"",localizedCaption:null,location:"",mainImageUrl:"",mediaType:"",sizes:[],standardLicense:{license_type:"",description:"",credit_cost:Number.MAX_VALUE,is_purchase_required:!0,acquired:!1,is_acquired_and_not_repurchasable:!1,is_selected:!1},thumbUrl:"",zoomedImageUrl:""},agreements:[],subscription:null,licenses:[],calc:{step:{name:_.PICK_PAYMENT_OPTION,viewLicenseSelection:!1,showFileTypeDropdown:!1,showPricingClarity:null,redownloadSection:null,showCreditCost:null,title:null},assetIsIllustration:!1,assetIsImage:!1,assetIsVideo:!1,assetCollectionName:"",assetCollectionIsSignature:!1,buyAndBurnDownload:!1,localePhoneNumber:void 0,redownloadForFree:!1,isMiniPnpOpen:!1,isFreeAdminDownload:!1,teamCreditsAvailable:0,includedWithSubscription:void 0,selectedAccount:void 0,selectedAccountCredits:0,selectedAccountHasAnyCredits:!1,selectedAccountHasEnoughCredits:!1,selectedAgreement:void 0,selectedAgreementType:void 0,selectedAgreementSize:void 0,selectedAssetSize:{},largestSizeAvailable:{},userIsTeamUser:!1,isTeamAccountSelected:!1,totalCreditCost:Number.MAX_VALUE,isInPricingClarity:!1,ctaInProgress:!1,showDropboxModal:void 0,showIncentivizationModal:void 0,hasSubscription:!1,isSubscriptionDownloadAllowed:!1,optionalLicenseIndexes:[],hasSelectedOptionalLicenses:!1,notAcquiredSelectedLicenses:[],hasAvailableCredits:!1},buyCardData:{},categories:{categoriesView:{ftlpCategory:"",parentKeywordCategory:"",matchingInspirePages:""}},downloadData:null,displayError:null,editable:!1,isAiEditable:!1,keywordsView:{},metaTags:{seoAlt:"",seoImageTitle:"",seoFilmAlt:"",seoFigCaption:""},redirectToUrl:null,postDownloadOnboarding:!1,mobileSimplification:!1,showVideoPnp:!1,searchPhrase:null,searchScope:null,versionCount:0}),Q=function(e){return{type:g.SET_SELECTED_ACCOUNT,selectedAccountName:e}},Z=function(){return{type:g.GO_TO_NEXT_STEP}},X="RoyaltyFreeSubscription",$="CreditPack",ee="EasyAccess",te={ROYALTY_FREE_SUBSCRIPTION:X,CREDIT_PACK:$,EASY_ACCESS:ee,ALL:[X,$,ee]},ne=n(31776),re={singleDownload:function(e,t){return e&&(tracking_data.payment_source=e),t&&(tracking_data.extended_licenses=t,tracking_data.ui_element_location="extended_license"),delete tracking_data.asset_details.asset_size}},ie=function(e,t){var n=function(e){return e.asset.freeFile?"free_download":e.calc.buyAndBurnDownload?"credits":e.calc.redownloadForFree?"redownload":e.calc.selectedAgreementType===te.CREDIT_PACK?"credits":e.calc.selectedAgreementType===te.ROYALTY_FREE_SUBSCRIPTION?"subscription":null}(e),r=e.calc.selectedAssetSize;tracking_data.asset_details.asset_size=null==r?void 0:r.teeShirtSize;var i=(0,ne.A)({asset_details:tracking_data.asset_details,download_method:n,is_eps:t});return(0,d.C)(i),re.singleDownload(n,function(e){return e.calc.hasSelectedOptionalLicenses?e.licenses.filter((function(e){return e.is_selected&&"Standard"!==e.license_type})).map((function(e){return e.license_type})).toArray():null}(e))},ae=function(){return{type:g.SET_DISPLAY_ERROR,message:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}},oe=function(e){return{type:g.REDIRECT_TO_URL,url:e}},se=function(e){return{type:g.SET_BUY_AND_BURN_DOWNLOAD,buyAndBurnDownload:e}},ce=n(43237),le=n(45498),ue=function(e){return e.selectedAgreementType===te.CREDIT_PACK&&e.hasSelectedOptionalLicenses?e.notAcquiredSelectedLicenses:null},de=function(e){var t=function(n){if(!(n>=e.length)){var r=e[n],i=document.createElement("a");i.href=r,i.download="Original.jpeg",(document.body||document.documentElement).appendChild(i),i.click(),i.parentNode.removeChild(i),setTimeout((function(){t(n+1)}),5e3)}};try{t(0)}catch(e){(0,ce.d)(e)}},fe=function(e,t,n,r,i,a,o){return function(s,c){var l,u=c(),d=u.asset,f=u.calc,p="image/eps"===(null===(l=f.selectedAgreementSize)||void 0===l?void 0:l.content_type);return function(e){var t,n=e.isImageEdited,r=e.asset,i=e.calc,a=e.korrelationId,o=e.editDetails;if(n){var s={assetId:r.assetId,downloadToken:i.selectedAgreementSize.download_token,korrelationId:a,isImageEdited:n,editDetails:o};return(0,le.A)(s)}return O().post("/downloads/create-download",{data:{asset:{asset_id:r.assetId,asset_type:r.assetType,asset_collection:r.istockCollection},tokens:[i.selectedAgreementSize.download_token],licenses:null===(t=ue(i))||void 0===t?void 0:t.toJS(),korrelation_id:a,credit_share:i.isTeamAccountSelected}})}({isImageEdited:r,asset:d,calc:f,korrelationId:e,editDetails:o}).then((function(e){s(function(e){return{type:g.SET_DOWNLOAD_DATA,downloadData:e}}(e.data));var t=c(),r=t.downloadData,o=!1,l=(null==r?void 0:r.data).modifications_url;return n||!r.hasDownloadDestinations||l?"complete"===document.readyState?l?(de([l,r.downloadDestinationUrl]),a(!1)):window.location.href=r.downloadDestinationUrl:window.addEventListener("load",(function(){l?de([l,r.downloadDestinationUrl]):window.location.href=r.downloadDestinationUrl})):o=r.dropboxEnabled,ie(t,p),i(),s(function(e,t){return{type:g.SET_TOASTER,forceDownload:e,dropboxEnabled:t}}(n,o)),t.calc.buyAndBurnDownload?s(se(!1)):t.calc.redownloadForFree?s(function(e){return{type:g.GO_TO_COMPLETE_REDOWNLOAD,dropboxEnabled:e}}(o)):void s(function(e){return{type:g.GO_TO_COMPLETE_DOWNLOAD,dropboxEnabled:e}}(o))})).catch((function(e,n){403===e.status&&s(oe(t)),s(ae("download_failed")),a(!1)}))}},pe={PERSONAL:"personalAccount",TEAM:"teamAccount"},_e=n(62111),he=function(){return null!=function(e){var t=new _e.A,n=t.normalizeUrl(e)[1];return t.parseQuery(n)[0]}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.referrer).phrase?window.giLocalStorage.setItem("spectrum.downloadAssetId",window.tracking_data.asset_details.asset_id):window.giLocalStorage.getItem("spectrum.downloadAssetId")!==window.tracking_data.asset_details.asset_id&&window.giLocalStorage.removeItem("spectrum.downloadAssetId"),{type:g.SET_SPECTRUM_DOWNLOADED_ASSET_ID}};var me=function(){return function(e,t){if(t().userDetails.authenticated)return O().get("/downloads/subscription",{headers:{Accept:"application/json"}}).then((function(t){return e({subscription:t.data,type:g.LOAD_SUBSCRIPTION}),Promise.resolve(!0)})).catch((function(e){}))}},ve=function(e){return{type:g.SET_AGREEMENTS,agreements:e}},ge=function(){return function(e,t){var n=t(),r=n.agreements,i=n.asset;return 0!==r.size?Promise.resolve(!0):t().userDetails.authenticated?O().get("/downloads/asset-agreements/".concat(i.assetId),{headers:{Accept:"application/json"}}).then((function(t){return e(ve((null!=t.data?t.data.agreements:void 0)||[])),e(me()),Promise.resolve(!0)})).catch((function(t){return e(ve([])),e(me()),Promise.resolve(!1)})):(e(ve([])),e(me()),Promise.resolve(!1))}},ye=function(){return function(e){return O().get("/downloads/download-agreements-overview",{headers:{Accept:"application/json"}}).then((function(t){return e((n=t.data,{type:g.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED,agreementOverview:n}));var n})).catch((function(t){return e(ae("download_failed"))}))}},be=function(){return function(e){return O().get("/downloads/customer/credit-balances",{headers:{Accept:"application/json"}}).then((function(t){return e((n=t.data.personal_credits,r=t.data.team_credits,{type:g.SET_AVAILABLE_CREDITS,personalCredits:n,teamCredits:r}));var n,r})).catch((function(t){return e(ae("download_failed"))}))}},we=function(){return function(e,t){if(e({type:g.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD}),!t().redirectToUrl)return e(he()),t().userDetails.team_member||e(Q(pe.PERSONAL)),e(ge()).then((function(n){return e(be()).then((function(){return t().calc.isFreeAdminDownload?e({type:g.GO_TO_FREE_ADMIN_DOWNLOAD}):e(ye()).then((function(){if(!t().redirectToUrl)return e(Z())}))}))})).catch((function(t){return e(ae("download_failed"))}))}},Se=function(e){return{type:g.SET_LICENSES,licenses:e}},Ee=function(e,t){return function(n,r){var i=r().licenses.toJS();return i.size>1?n(Se(i)):O().get(window.siteMap.cleanRelativePath("/asset-detail/".concat(e.assetId,"/licenses")),{params:{asset_type:e.assetType,allowed_use_code_key:e.allowedUseCodeKey,istock_collection:e.istockCollection,credit_share:t},headers:{Accept:"application/json"}}).then((function(e){var t=e.data||[];n(Se(t)),n({type:g.SET_CTA_IN_PROGRESS,inProgress:!1})})).catch((function(e){return n(ae("can_not_get_extended_licenses"))}))}},Oe=function(){return function(e,t){return e(ge()).then((function(){if(function(e){return e.userDetails.team_member&&e.userDetails.has_purchase_history&&!e.calc.selectedAccount}(t()))return e(be()).then((function(){return e({type:g.SELECT_ACCOUNT_STEP,nextStepIsToDownloadWithLicenseSelection:!0})}));var n=t();e(Ee(n.asset,n.calc.isTeamAccountSelected))})).catch((function(t){e(ae("download_failed"))}))}},Ce=function(){return function(e,t){return e(Oe()).then((function(){return e({type:g.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP})}))}},Ae={initializeDataStep:function(e,t,n,r,i){return{type:g.INITIALIZE,asset:e,userDetails:t,preferredDownloadSize:n,preferredEpsDownloadSize:r,localePhoneNumber:i,buyCardData:arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},categories:arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},editable:arguments.length>7?arguments[7]:void 0,isAiEditable:arguments.length>8?arguments[8]:void 0,keywordsView:arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},metaTags:arguments.length>10&&void 0!==arguments[10]?arguments[10]:{},mobileSimplification:arguments.length>11?arguments[11]:void 0,showVideoPnp:arguments.length>12?arguments[12]:void 0,searchPhrase:arguments.length>13?arguments[13]:void 0,searchScope:arguments.length>14?arguments[14]:void 0,versionCount:arguments.length>15?arguments[15]:void 0,hasAvailableCredits:arguments.length>16?arguments[16]:void 0}},cancelDownload:function(){return{type:g.CANCEL_AND_BACK_TO_BEGINING}},closeDownloadErrorMessage:function(){return function(e,t){e({type:g.CANCEL_AND_BACK_TO_BEGINING})}},closeLicensePicker:function(){return{type:g.CANCEL_AND_BACK_TO_BEGINING}},selectAssetSize:function(e){return{type:g.SELECT_ASSET_SIZE,assetSize:e}},setCtaInProgress:function(e){return{type:g.SET_CTA_IN_PROGRESS,inProgress:e}},setMiniPnpOpen:function(e){return{type:g.SET_MINI_PNP_OPEN,open:e}},checkLicense:function(e){return{type:g.CHECK_LICENSE,licenseIndex:e}},selectPricingClarityOptionToggle:function(e){return{type:g.SELECT_PRICING_CLARITY_OPTION_TOGGLE,pricingOptionSelected:e}},setSelectedAgreementType:function(e){return{type:g.SELECT_AGREEMENT_TYPE,agreementType:e}},setRedirectUrl:function(e){return{type:g.REDIRECT_TO_URL,url:e}},goToInitialLoad:function(){return function(e,t){return e(ge()).then((function(t){return e({type:g.GO_TO_BEGINNING})})).catch((function(e){}))}},goToNextStep:Z,setSelectedAccount:Q,initiateDownload:we,openMiniPnp:function(){return function(e,t){e({type:g.SET_MINI_PNP_OPEN,open:!0})}},pickOptionalLicenses:Oe,performDownload:fe,goToInitiateDownloadAndSelectLicensesStep:Ce,showPostDownloadOnboarding:function(){return{type:g.SHOW_POST_DOWNLOAD_ONBOARDING}},hidePostDownloadOnboarding:function(){return{type:g.HIDE_POST_DOWNLOAD_ONBOARDING}}},Ie=Ae,Ne=n(89593);var Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(t.type===g.LOAD_SUBSCRIPTION)e=q.fromJS(t.subscription);return e},xe=new Map;xe.set(g.SHOW_POST_DOWNLOAD_ONBOARDING,!0),xe.set(g.HIDE_POST_DOWNLOAD_ONBOARDING,!1);var je=function(e,t){var n;return null!==(n=xe.get(t.type))&&void 0!==n?n:e},Pe=function(e,t){return e=e.set("displayError",t.message)},De=function(e,t){return e=e.setIn(["calc","ctaInProgress"],t.inProgress)},Le=function(e,t){var n,r,i,a;return e=e.mergeIn(["calc"],{showDropboxModal:(n=t,r=n.forceDownload,i=n.dropboxEnabled,a=null!=giLocalStorage.getItem("dropboxOptOut"),!r&&!i&&!a)})},Re=function(e){return e.calc.optionalLicenseIndexes.map((function(t){return e.licenses.get(t)}))},ke=function(e){return Re(e).reduce((function(e,t){return e||t.is_selected}),!1)},Fe=function(e){var t=Be(e),n=null!=e.calc.selectedAssetSize?e.calc.selectedAssetSize.get(t):void 0;return n?Ue(n):Me},Ue=function(e){var t=new RegExp("^".concat(e,"$"),"i");return function(e,n){return n.reduce((function(n,r){return n||null!=(null!=e[r]?e[r].match(t):void 0)}),!1)}},Me=function(){return!1},Be=function(e){return e.calc.assetIsImage||e.calc.assetIsIllustration?"teeShirtSize":e.calc.assetIsVideo?"name":null},We=function(e){var t=[];return e.calc.assetIsImage&&t.push("tee_shirt_size"),(e.calc.assetIsIllustration||e.calc.assetIsVideo)&&t.push("teams_size"),t},ze=function(e,t,n){return e.flatMap((function(e){return e.authorized_sizes})).find((function(e){return e.is_free&&n(e,t)}))},Ge=function(e,t,n){return e.flatMap((function(e){return e.authorized_sizes})).find((function(e){return n(e,t)}))},He=function(e){var t;return e.calc.redownloadForFree&&!ke(e)?t=function(e){var t=Fe(e),n=We(e),r=e.agreements.filter((function(e){return e.type===te.ROYALTY_FREE_SUBSCRIPTION})),i=ze(r,n,t);if(!i){var a=e.agreements.filter((function(e){return e.type===te.CREDIT_PACK}));i=ze(a,n,t)}return i}(e)||e.calc.selectedAgreementSize:e.calc.isFreeAdminDownload?t=function(e){var t=Fe(e),n=We(e),r=e.agreements.filter((function(e){return e.type===te.EASY_ACCESS}));return Ge(r,n,t)}(e)||e.calc.selectedAgreementSize:e.calc.selectedAgreement&&(t=function(e){var t=Fe(e),n=We(e);return e.calc.selectedAgreement.authorized_sizes.find((function(e){return t(e,n)}))}(e)),e=e.setIn(["calc","selectedAgreementSize"],t)},Ve=function(e){var t,n=e.find((function(e){return e.type===te.CREDIT_PACK&&e.agreement_details.is_credit_share}));return(null==n||null===(t=n.agreement_details)||void 0===t?void 0:t.available_credits)||0},Ye=function(e){return e.some((function(e){return e.agreement_details.available_credits>0}))},Ke=function(e){return!!e.find((function(e){return e.authorized_sizes.find((function(e){return e.is_free}))}))},qe=function(e,t){return e.some((function(e){return e.type===t}))},Je=function(e,t){var n=t.agreements||e.agreements||[];return e=(e=e.set("agreements",q.fromJS(n))).mergeIn(["calc"],{includedWithSubscription:qe(n,te.ROYALTY_FREE_SUBSCRIPTION),redownloadForFree:!e.asset.freeFile&&Ke(n),isFreeAdminDownload:qe(n,te.EASY_ACCESS),teamCreditsAvailable:Ve(n),hasAvailableCredits:Ye(n)}),e=He(e)},Qe=function(e,t){if(!t)return null;var n=new RegExp("^".concat(t,"$"),"i");return e.find((function(e){return null!=e.teeShirtSize?e.teeShirtSize.match(n):void 0}))},Ze=function(e,t){var n=t.assetSize,r=n;return!n&&e.calc.assetIsImage&&(r=function(e,t){var n,r=e.sizes;if(e.hasEpsFileSize)return Qe(r,t.preferredEpsDownloadSize)||r.get(e.epsFileSizeIndex);if(null!==(n=r.last())&&void 0!==n&&n.epsUnavailable){var i=r.pop();return Qe(r,t.preferredDownloadSize)||i.last()}return Qe(r,t.preferredDownloadSize)||r.last()}(e.asset,t)),e=e.setIn(["calc","selectedAssetSize"],r),e=He(e)},Xe=function(e,t){var n=e.calc.totalCreditCost<=e.calc.selectedAccountCredits;return e=e.setIn(["calc","selectedAccountHasEnoughCredits"],n)},$e=function(e){return function(e){return e.asset.freeFile?e.agreements.find((function(e){return e.type===te.CREDIT_PACK})):null}(e)||function(e){return e.agreements.find((function(t){return t.type===e.calc.selectedAgreementType&&(function(e,t){return function(e){return!!e.agreement_details.is_credit_share}(t)===e.calc.isTeamAccountSelected||function(e){return!!e.agreement_details.is_shared_subscription}(t)===e.calc.isTeamAccountSelected}(e,t)||e.userDetails.team_leader)}))}(e)},et=function(e,t){return e=e.setIn(["calc","selectedAgreement"],$e(e)),e=He(e)},tt=function(e,t){var n=(null!=t?t.agreementType:void 0)||e.calc.selectedAgreementType;return e=e.setIn(["calc","selectedAgreementType"],function(e,t){return t===te.ROYALTY_FREE_SUBSCRIPTION?e.calc.step.subsAvailable:t===te.CREDIT_PACK&&e.calc.step.creditsAvailable}(e,n)?n:null),e=et(e)},nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=null!=t?t.selectedAccountName:void 0,r=null,i=n===pe.TEAM||!!e.userDetails.team_leader;return i?r=e.calc.teamCreditsAvailable:n===pe.PERSONAL&&(r=e.userDetails.credit_amount),e=e.mergeIn(["calc"],{selectedAccount:n,selectedAccountCredits:r,selectedAccountHasAnyCredits:r>0,isTeamAccountSelected:i}),e=function(e){var t;return e.calc.isTeamAccountSelected&&e.calc.selectedAccountHasEnoughCredits&&(t=te.CREDIT_PACK),!e.calc.isTeamAccountSelected&&e.calc.isSubscriptionDownloadAllowed&&e.calc.userIsTeamUser&&(t=te.ROYALTY_FREE_SUBSCRIPTION),tt(e,{agreementType:t})}(e=Xe(e))},rt=function(e,t){var n,r,i,a,o=t.downloadData,s=(null===(n=(null===(r=o.single_downloads)||void 0===r?void 0:r[0])||(null===(i=o.singleDownloads)||void 0===i?void 0:i[0]))||void 0===n?void 0:n.url)||null,c=!!(o.download_destinations&&o.download_destinations[0]&&o.download_destinations[0].token);return e=e.set("downloadData",q.fromJS({data:o,hasDownloadDestinations:(null===(a=o.download_destinations)||void 0===a?void 0:a.length)>0,downloadDestinationUrl:s,dropboxEnabled:c}))};function it(e){return function(e){if(Array.isArray(e))return at(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return at(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ot={title:null,ctaClass:"",ctaTitle:null,ctaAction:"",showPricingClarity:!1,reasonForBox:"",creditsAvailable:!0,subsAvailable:!0,selectedAccount:void 0,viewLicenseSelection:!1},st=function(e,t){for(var n=function(e){return e.calc.step.showSubTypeMessage}(e)&&!function(e){return e.calc.step.selectedAccount===pe.TEAM}(e),r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var o=Object.assign.apply(Object,[{},ot,t,{showSubTypeMessage:n}].concat(it(Array.from(i)))),s=q.fromJS(o);return e=e.setIn(["calc","step"],s),e=tt(e,{agreementType:e.calc.selectedAgreementType||s.selectedAgreementType})},ct=Object.freeze({CREATE_DOWNLOAD:"createDownload",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"goToInitiateDownloadAndSelectLicensesStep",HANDLE_ACCOUNT_SELECTION:"handleAccountSelection",INITIATE_DOWNLOAD:"initiateDownload",OPEN_MINI_PNP:"openMiniPnp",REDIRECT_TO_CHECKOUT:"redirectToCheckout",REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL:"redirectToCheckoutWithFreeTrial",REDIRECT_TO_CREDITPACKS:"redirectToCreditPacks",REDIRECT_TO_FAST_CHECKOUT:"redirectToFastCheckout",REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK:"redirectToFastCheckoutWithAnnualPack",REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION:"redirectToFastCheckoutWithSubscription",REDIRECT_TO_PRICING:"redirectToPricing"}),lt=Object.freeze({FULL_WIDTH_SUPER_CTA:"super-cta super-cta--full-width",HOLLOW_CTA:"hollow-cta",PRIMARY_CTA:"primary-cta",SUPER_CTA:"super-cta"}),ut=Object.freeze({BUY_CREDITS:"buy_credits",CHOOSE_ACCOUNT:"choose_account",CONFIRM_DOWNLOAD:"confirm_download",CONTINUE_TO_CHECKOUT:"continue_to_checkout",DOWNLOAD_FOR_FREE:"download_for_free",DOWNLOAD_METHOD:"download_method",DOWNLOAD_THIS_IMAGE:"download_this_image",DOWNLOAD_THIS_VIDEO:"download_this_video_clip",FREE_DOWNLOAD:"free_download_cta",REDOWNLOAD_FOR_FREE:"re-download_for_free"}),dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ut.CHOOSE_ACCOUNT,r=lt.PRIMARY_CTA,i=ct.HANDLE_ACCOUNT_SELECTION;return e=st(e,{name:_.CHOOSE_ACCOUNT,title:"".concat(e.calc.assetCollectionName,"_collection"),ctaTitle:n,ctaClass:r,selectedAccount:pe.TEAM,ctaAction:t.nextStepIsToDownloadWithLicenseSelection?ct.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:i,showAccountChoices:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0}),e=nt(e,{selectedAccountName:e.calc.step.selectedAccount})},ft=function(e){return nt(e,void 0)},pt=function(e,t){return e+t.credit_cost},_t=function(e){return e.reduce(pt,0)},ht=function(e){var t=function(e){return e.licenses.filter((function(e){return e.is_selected&&!e.is_acquired_and_not_repurchasable}))}(e);return e=e.mergeIn(["calc"],{totalCreditCost:_t(t),notAcquiredSelectedLicenses:t}),e=Xe(e)},mt=function(e){var t=e.licenses.withMutations((function(t){return e.calc.optionalLicenseIndexes.forEach((function(e){return t.setIn([e,"is_selected"],!1)}))}));return e=(e=e.set("licenses",t)).setIn(["calc","hasSelectedOptionalLicenses"],!1),e=(e=ht(e)).setIn(["calc","step","viewLicenseSelection"],!1)},vt=function(e){return e.userDetails.premium_video_subscription_enabled},gt=function(e){var t;return null===(t=e.subscription)||void 0===t?void 0:t.include_video},yt=function(e){return e.userDetails.video_credit_pack_fco_eligible},bt=function(e){return vt(e)?ct.REDIRECT_TO_CREDITPACKS:ct.REDIRECT_TO_PRICING},wt=function(e){return!e.userDetails.has_purchase_history&&(function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:["AUT","BEL","BRA","DEU","IRL","NLD","CHE"]).includes(e)}(e.userDetails.country_code,["BRA"])||St(e))},St=function(e){return Et(e.userDetails.country_code)||Ot(e)||Ct(e)},Et=function(e){return function(e){return["PER","IDN","COL"].includes(e)}(e)||function(e){return["RUS","THA","IND"].includes(e)}(e)||function(e){return["VNM","TUR","CHL","ARG","NGA","MYS","UKR"].includes(e)}(e)},Ot=function(e){return e.userDetails.fast_checkout_sub||e.userDetails.fast_checkout_sub_savings},Ct=function(e){return e.userDetails.pricing_clarity_flow&&e.calc.assetIsVideo},At=function(e){return e.mobileSimplification},It={buildInsufficientCreditsHtmlTranslation:function(e){var t,n,r=e.calc.totalCreditCost,i=e.calc.selectedAccountCredits,a=e.userDetails.istock_asset_credit_cost,o={zero:"<strong>",one:"</strong>",two:"<strong>",three:"</strong>",credit_cost:r,greaterthan1_credit_balance:i,credit_amount:a};return{tag:(t=e.calc.assetIsVideo?"video_":"image_",n=1===r?"insf_one_credit_cost":1===i?"insf_one_credit":"insf_credits","".concat(t).concat(n)),translationVariables:o}},ctaActionForInitiateDownload:function(e){return e.userDetails.mini_pnp_active?ct.OPEN_MINI_PNP:ct.INITIATE_DOWNLOAD},defaultCtaTitle:function(e){var t=ut.CONTINUE_TO_CHECKOUT,n=ut.FREE_DOWNLOAD,r=ut.DOWNLOAD_THIS_VIDEO,i=ut.DOWNLOAD_THIS_IMAGE;return e.asset.freeFile?n:wt(e)?t:e.calc.assetIsVideo?r:i},buildConfirmDownloadPaidByCreditsStep:function(e){return{name:"PLACEHOLDER",title:null,ctaTitle:ut.CONFIRM_DOWNLOAD,ctaClass:lt.PRIMARY_CTA,ctaAction:ct.CREATE_DOWNLOAD,showCreditCost:!0,confirmSection:!e.calc.step.viewLicenseSelection,selectedAgreementType:te.CREDIT_PACK,isConfirmationState:!0,subsAvailable:!0,triggerTracking:function(){var t=e.userDetails.team_leader,n=e.calc.userIsTeamUser,r=e.userDetails.team_member&&e.calc.isTeamAccountSelected;n&&!t&&(window.tracking_data.download_with_team_credits=r)}}},buildMustBuyStep:function(e){var t=yt(e),n=lt.PRIMARY_CTA,r=e.calc.totalCreditCost,i=e.calc.selectedAccountCredits,a=ut.BUY_CREDITS;return t&&(a=ut.CONTINUE_TO_CHECKOUT),{name:"PLACEHOLDER_BUY_CREDITS_NAME",ctaTitle:a,ctaClass:n,ctaAction:e.calc.assetIsVideo&&t?ct.REDIRECT_TO_FAST_CHECKOUT:bt(e),ctaTranslationVariables:{credit_cost:r,selected_credits:i}}},buildStepDetailsToShowDownloadChoices:function(e){var t="".concat(gt(e)?"premium_video":function(e){var t;return null===(t=e.subscription)||void 0===t||null===(t=t.sku)||void 0===t?void 0:t.includes("PREM")}(e)?"premium":"basic","_subscription");return{showDownloadChoices:!0,showSubscriptionField:e.calc.selectedAccount===pe.PERSONAL&&e.calc.hasSubscription,subTitleTranslation:t,subDownloadsTranslationValue:e.userDetails.subsInfo.downloadsRemaining}},hasPremiumVideoSub:gt,isUsingTeamAccount:function(e){return e.userDetails.team_member&&e.calc.isTeamAccountSelected},inGeoLocPricingTest:Et,inFreeTrialSubscriptionMultivariant:function(e){return e.userDetails.free_trial_subscription_test_active&&e.userDetails.free_trial_subscription_multivariant_eligible},inFastCheckoutSub:Ot,inVideoPricingClarityTest:Ct,inVideoPricingClarityPremiumVideoSub:function(e){return e.userDetails.pricing_clarity_flow&&e.userDetails.eligible_for_pricing_clarity_premium_video_subscription_flow},premiumVideoEnabled:vt,selfServeUpgradeEnabled:function(e){return e.userDetails.self_serve_upgrade_enabled},ctaPricingActionData:bt,inMobileSimplification:At,inMobileSimplificationFreeTrial:function(e){return At(e)&&function(e){return e.userDetails.free_trial_subscription_test_active}(e)},isPricingClarityDurationToggleDefaultAnnual:function(e){return e.userDetails.is_annual_monthly_toggle_annual_active},isVideoCreditPackFCO:yt},Nt=It.ctaActionForInitiateDownload,Tt=It.defaultCtaTitle,xt=function(e){return st(e,{name:_.PICK_PAYMENT_OPTION,title:"".concat(e.calc.assetCollectionName,"_collection"),ctaClass:lt.SUPER_CTA,ctaTitle:Tt(e),ctaAction:Nt(e),showTshirtSizes:!0,confirmSection:!1,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection},function(e){var t=e.calc.includedWithSubscription;return{showSubTypeMessage:t,showFileTypeDropdown:e.calc.assetIsVideo,showCreditCost:!t}}(e))},jt=function(e){var t=e.asset;return st(e,{name:_.REDOWNLOAD_FOR_FREE,title:"previously_downloaded",ctaClass:lt.PRIMARY_CTA,ctaTitle:ut.REDOWNLOAD_FOR_FREE,ctaAction:ct.CREATE_DOWNLOAD,lightBlueWarning:!0,showTshirtSizes:!0,showFileTypeDropdown:!0,confirmSection:!1,persistentWarning:!0,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection,reasonForBox:t.isIllustration?"download_no_charge_illustration":t.isFilm?"download_no_charge_video":"download_no_charge_photo",warningBox:!0})},Pt=Object.freeze({PRICING_OPTION_CHECKOUT:"checkout",PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK:"checkoutLargerCreditPack",PRICING_OPTION_FREE_TRIAL_SUBSCRIPTION_MULTIVARIANT:"freeTrialSubscriptionMultivariantOption",PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:"checkoutWithAnnualMonthlyToggleOption",PRICING_OPTION_PRICING:"pricing",PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:"checkoutSubscription",PRICING_OPTION_FREE_TRIAL:"checkoutFreeTrial"}),Dt=It.inVideoPricingClarityPremiumVideoSub,Lt=It.inFreeTrialSubscriptionMultivariant,Rt=It.inMobileSimplification,kt=It.inMobileSimplificationFreeTrial,Ft=It.inVideoPricingClarityTest,Ut=It.inFastCheckoutSub,Mt=It.inGeoLocPricingTest,Bt=It.defaultCtaTitle,Wt=It.isPricingClarityDurationToggleDefaultAnnual,zt=_.PICK_PRICING_CLARITY_PAYMENT_OPTION,Gt=["DEU","BRA"],Ht=function(e){switch(!0){case Lt(e):return Pt.PRICING_OPTION_FREE_TRIAL_SUBSCRIPTION_MULTIVARIANT;case kt(e):return Pt.PRICING_OPTION_FREE_TRIAL;case Rt(e):return Pt.PRICING_OPTION_CHECKOUT;case Dt(e):case Ut(e):return Wt(e)?Pt.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:Pt.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION;case Mt(e.userDetails.country_code):case Gt.includes(e.userDetails.country_code):return Pt.PRICING_OPTION_CHECKOUT;default:return Pt.PRICING_OPTION_PRICING}},Vt=function(e,t){return e.calc.step.name!==zt?Ht(e):function(e,t){return t||Ht(e)}(e,t.pricingOptionSelected)},Yt=function(e){return Ut(e)||Ft(e)?lt.FULL_WIDTH_SUPER_CTA:lt.SUPER_CTA},Kt=function(e,t){var n=Vt(e,t),r=function(e,t){switch(t){case Pt.PRICING_OPTION_FREE_TRIAL_SUBSCRIPTION_MULTIVARIANT:return{ctaTitle:ut.DOWNLOAD_FOR_FREE,ctaAction:ct.REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL};case Pt.PRICING_OPTION_FREE_TRIAL:return{ctaTitle:Bt(e),ctaAction:ct.REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL};case Pt.PRICING_OPTION_CHECKOUT:case Pt.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK:return{ctaTitle:Bt(e),ctaAction:ct.REDIRECT_TO_CHECKOUT};case Pt.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:return{ctaTitle:Bt(e),ctaAction:ct.REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION};case Pt.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:return{ctaTitle:Bt(e),ctaAction:ct.REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK};default:return{ctaTitle:ut.DOWNLOAD_METHOD,ctaAction:ct.REDIRECT_TO_PRICING}}}(e,n);return st(e,{name:zt,title:"".concat(e.calc.assetCollectionName,"_collection"),ctaClass:Yt(e),ctaTitle:r.ctaTitle,ctaAction:r.ctaAction,showPricingClarity:!0,showCreditCost:!0,showFileTypeDropdown:e.calc.assetIsVideo,pricingOption:n,viewLicenseSelection:e.calc.step.viewLicenseSelection})},qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(e=e.setIn(["calc","isInPricingClarity"],function(e){return e.userDetails.pricing_clarity_flow}(e))).calc.isInPricingClarity&&(e=Kt(e,t)),e},Jt=function(e){return e=ft(e),e=mt(e),(e=qt(e)).calc.isInPricingClarity||(e=xt(e)),e.calc.redownloadForFree&&(e=jt(e)),e},Qt=function(e){if(e.calc.step.name===_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION||e.calc.step.name===_.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS){var t,n,r,i;e.subscription&&(t=e.subscription.sku,n=e.subscription.status);var a=window.tracking_data.page_name;switch(n){case"Suspended":e.subscription.can_unsuspend?(r="Unsuspend_Subscription_Notification_Dismiss",i=window.tracking_data.page_name,a="adp_unsuspend_subscription_message"):(r="Subscription_Suspended_Notification_Dismiss",i="adp_subscription_suspended_message");break;case"Expired":r="Account_Subscription_Expired_Warning_Dismiss",i="adp_subscription_expired_message"}r&&i&&window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:r,account_selection:a,sku:t,ui_element_location:i})}},Zt=function(e,t){return Qt(e),e=Je(e,t),e=ft(e),e=mt(e),(e=qt(e)).calc.isInPricingClarity||(e=xt(e)),e.calc.redownloadForFree&&(e=jt(e)),e},Xt=function(e,t){return e=e.mergeIn(["calc","isMiniPnpOpen"],t.open)},$t=function(e,t){return e=e.mergeIn(["userDetails"],{credit_amount:Math.max(0,t.personalCredits||0),team_credits:Math.max(0,t.teamCredits||0)}),e=nt(e,{selectedAccountName:e.calc.selectedAccount})},en=function(e){return e=st(e,{name:_.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP,title:"".concat(e.calc.assetCollectionName,"_collection"),ctaTitle:It.defaultCtaTitle(e),ctaClass:lt.SUPER_CTA,ctaAction:It.ctaActionForInitiateDownload(e),showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0})},tn=function(e,t){return st(e,{name:_.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showCreditCost:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled})},nn=function(e,t){return st(e,{name:_.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled})},rn=function(e){var t=_.PURCHASE_AND_SELECT_LICENCES_STEP;return e=st(e,{name:t,title:"".concat(e.calc.assetCollectionName,"_collection"),ctaTitle:It.defaultCtaTitle(e),ctaClass:lt.SUPER_CTA,ctaAction:It.ctaPricingActionData(e),showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0})},an=function(e,t){var n=e.licenses.getIn([t.licenseIndex,"is_selected"]);return e=(e=e.setIn(["licenses",t.licenseIndex,"is_selected"],!n)).setIn(["calc","hasSelectedOptionalLicenses"],ke(e)),(e=ht(e)).calc.step.viewLicenseSelection&&(e=e.calc.isInPricingClarity?rn(e):en(e)),e},on=function(e){var t=ut.CONFIRM_DOWNLOAD;return st(e,{name:_.FREE_ADMIN_DOWNLOAD,title:"Free admin download",ctaTitle:t,ctaClass:lt.PRIMARY_CTA,ctaAction:ct.CREATE_DOWNLOAD,confirmSection:!1,selectedAgreementType:te.EASY_ACCESS})},sn=function(e,t){var n=t.subscription.isEssentials||t.subscription.isSignature;return e=e.mergeIn(["calc"],{hasSubscription:n,isSubscriptionDownloadAllowed:n&&t.includedWithSubscription&&t.subscription.downloadsRemaining>0})},cn=function(e){var t;return e.calc.assetIsImage&&(t=function(e){var t,n=e.sizes;return e.hasEpsFileSize?n.get(e.epsFileSizeIndex):null!==(t=n.last())&&void 0!==t&&t.epsUnavailable?n.pop().last():n.last()}(e.asset)),e=e.setIn(["calc","largestSizeAvailable"],t)},ln=function(e,t){var n=t.asset,r=t.userDetails,i=t.preferredDownloadSize,a=t.preferredEpsDownloadSize,o=t.localePhoneNumber,s=t.buyCardData,c=t.categories,l=t.editable,u=t.isAiEditable,d=t.keywordsView,f=t.metaTags,p=t.mobileSimplification,_=t.showVideoPnp,h=t.searchPhrase,m=t.searchScope,v=t.versionCount,g=t.hasAvailableCredits;n.sizes=n.sizes||[];var y=(e=e.merge({asset:q.fromJS(n),buyCardData:q.fromJS(s),categories:q.fromJS(c),editable:l,isAiEditable:u,keywordsView:q.fromJS(d),licenses:q.fromJS([n.standardLicense]),metaTags:q.fromJS(f),mobileSimplification:p,showVideoPnp:_,searchPhrase:h,searchScope:m,userDetails:q.fromJS(r),versionCount:v})).calc.withMutations((function(e){e.merge(function(e,t){return sn(V().Map({calc:V().Map()}),{subscription:t.subsInfo,includedWithSubscription:!1}).toJS().calc}(0,r));var t=U.getAssetCollectionName(n);return e.merge({assetCollectionName:U.getAssetCollectionName(n),assetCollectionIsSignature:U.isSignature(t),assetIsIllustration:"illustration"===n.mediaType,assetIsImage:"image"===n.assetType,assetIsVideo:"film"===n.assetType,localePhoneNumber:o,userIsTeamUser:r.team_member||r.team_leader,hasSubscription:e.hasSubscription,hasAvailableCredits:g})}));return e=function(e){return nt(e)}(e=e.set("calc",y)),e=ht(e),e=Jt(e),e=cn(e),Ze(e,{preferredDownloadSize:i,preferredEpsDownloadSize:a})},un=function(e,t){return e=qt(e,{togglePricingOption:!0,pricingOptionSelected:t.pricingOptionSelected})},dn=function(e,t){return e=e.set("redirectToUrl",t.url)},fn=function(e,t){var n=t.licenses||[];return e=(e=e.set("licenses",q.fromJS(n))).setIn(["calc","optionalLicenseIndexes"],q.fromJS(function(e){return e.map((function(e,t){return"Standard"!==e.license_type?t:null})).filter((function(e){return null!==e}))}(n))),e=e.setIn(["calc","hasSelectedOptionalLicenses"],ke(e)),e=(e=ht(e)).calc.isInPricingClarity?rn(e):en(e)},pn=function(e,t){return e.userDetails.authenticated||(e.asset.freeFile?e=e.set("redirectToUrl","/sign-in?returnurl=".concat(window.location.pathname).concat(window.location.search,"&is_video=").concat(e.calc.assetIsVideo)):(e.userDetails.remembered||e.userDetails.has_purchase_history)&&(e=e.set("redirectToUrl","/sign-in?returnurl=".concat(window.siteMap.download_balance_check,"?url=").concat(window.location.pathname).concat(window.location.search,"&is_video=").concat(e.calc.assetIsVideo)))),e},_n=function(e){var t=ut.CONFIRM_DOWNLOAD,n="".concat(e.calc.assetCollectionName,"_download");return st(e,{name:_.SELECT_ACCOUNT_TYPE,title:n,ctaTitle:t,ctaClass:lt.PRIMARY_CTA,ctaAction:ct.CREATE_DOWNLOAD,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:te.ROYALTY_FREE_SUBSCRIPTION,isConfirmationState:!0,triggerTracking:function(){var t=e.userDetails.team_leader,n=e.calc.userIsTeamUser,r=e.userDetails.team_member&&e.calc.isTeamAccountSelected;n&&!t&&(window.tracking_data.download_with_team_credits=r)}},It.buildStepDetailsToShowDownloadChoices(e))};var hn=function(){return{tag:"contact_your_administrator"}},mn=function(e){return st(e,{name:_.TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:It.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,showSubTypeMessage:!1,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:hn()})},vn=function(e){var t=ut.CONFIRM_DOWNLOAD;return st(e,{name:_.CONFIRM_REDOWNLOAD_FOR_FREE,title:"re_download_for_free",ctaTitle:t,ctaClass:lt.PRIMARY_CTA,ctaAction:ct.CREATE_DOWNLOAD,confirmSection:!1,redownloadSection:!0,showExtendedLicenses:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,isConfirmationState:!0})},gn=function(e){return st(e,{name:_.TEAM_ACCOUNT_OUT_OF_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:It.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:hn()})},yn=function(e){return st(e,{name:_.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING,title:"".concat(e.calc.assetCollectionName,"_download"),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:te.ROYALTY_FREE_SUBSCRIPTION,showCreditCost:!1,creditsAvailable:!1,ctaTitle:ut.CONFIRM_DOWNLOAD,ctaClass:lt.PRIMARY_CTA,ctaAction:ct.CREATE_DOWNLOAD,confirmSection:!e.calc.step.viewLicenseSelection,isConfirmationState:!0,subsAvailable:!0},It.buildStepDetailsToShowDownloadChoices(e))},bn=lt.PRIMARY_CTA,wn=ct.CREATE_DOWNLOAD,Sn=function(e){var t=ut.CONFIRM_DOWNLOAD;return st(e,{name:_.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,title:"".concat(e.calc.assetCollectionName,"_download"),ctaTitle:t,ctaClass:bn,ctaAction:wn,confirmSection:!0,isConfirmationState:!0,selectedAgreementType:te.ROYALTY_FREE_SUBSCRIPTION},function(e){var t=e.calc.includedWithSubscription;return e.calc.assetIsVideo,{showSubTypeMessage:t,showCreditCost:!t}}(e))},En=function(e){return st(e,It.buildConfirmDownloadPaidByCreditsStep(e,!0),{name:_.CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS,viewLicenseSelection:!0})},On=function(e){return st(e,It.buildConfirmDownloadPaidByCreditsStep(e),{name:_.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS,title:"".concat(e.calc.assetCollectionName,"_collection"),focusView:!0,paymentSelect:!0})},Cn=function(e){var t=It.premiumVideoEnabled(e)?"image_not_available_with_subscription":"image_only_with_sig_or_credits";return st(e,It.buildConfirmDownloadPaidByCreditsStep(e),{name:_.CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS,title:"".concat(e.calc.assetCollectionName,"_download"),reasonForBox:t,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},It.buildStepDetailsToShowDownloadChoices(e))},An=function(e){var t=It.hasPremiumVideoSub(e),n="look_no_downloads_".concat(e.calc.assetCollectionName).concat(t&&e.calc.assetIsVideo?"_video":"");return st(e,It.buildConfirmDownloadPaidByCreditsStep(e),{name:_.CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING,title:"".concat(e.calc.assetCollectionName,"_download"),reasonForBox:n,warningBox:!0,hideDetails:!0,showDownloadChoices:!0,showCreditCost:!1,confirmSection:!1,subsAvailable:!1},It.buildStepDetailsToShowDownloadChoices(e))},In="urls.plans_and_pricing_images",Nn="urls.plans_and_pricing_images_credit_pack",Tn="urls.plans_and_pricing_images_subscriptions",xn="urls.plans_and_pricing_video",jn="urls.plans_and_pricing_videos_credit_pack",Pn="urls.plans_and_pricing_videos_subscriptions",Dn={annualSelfUpgradeRoute:"urls.plans_and_pricing_self_serve",defaultPnpRoute:"urls.plans_and_pricing_subscriptions",pnpCreditsRoute:"urls.plans_and_pricing_credit_packs",getPricingRoute:function(e){return e?xn:In},getCreditsPricingRoute:function(e){return e?jn:Nn},getSubscriptionPricingRoute:function(e){return e?Pn:Tn},imagePnpRoute:In,imagePnpCreditRoute:Nn,imagePnpSubsRoute:Tn,videoPnpRoute:xn,videoPnpCreditRoute:jn,videoPnpSubsRoute:Pn},Ln=function(e){var t=It.premiumVideoEnabled(e),n=It.selfServeUpgradeEnabled(e),r=t&&"OneYear"===e.subscription.duration,i=r?"video_not_available_with_subscription":"video_not_available_with_subscription_no_link",a=null;return r&&(a=n?Dn.annualSelfUpgradeRoute:Dn.getSubscriptionPricingRoute(e.asset.isFilm)),st(e,It.buildConfirmDownloadPaidByCreditsStep(e),{name:_.CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION,title:"".concat(e.calc.assetCollectionName,"_download"),warningBox:!0,reasonForBox:t?i:"video_only_with_credits",reasonForBoxLink:a,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},It.buildStepDetailsToShowDownloadChoices(e))},Rn=function(e){return st(e,It.buildConfirmDownloadPaidByCreditsStep(e),{name:_.CONFIRM_DOWNLOAD_BY_TEAM_CREDITS,title:"confirm_download_team_account",confirmSection:!0,showTshirtSizes:!1,showCreditCost:!0,showSubTypeMessage:!1,showFileTypeDropdown:!1,selectedAgreementType:te.CREDIT_PACK,isConfirmationState:!0,selectedAccount:pe.TEAM})};var kn=function(){return{tag:"view_details_cta",url:window.siteMap.cleanRelativePath("/account")}},Fn={};Fn[f.suspended]=function(e){var t="your_subscription_suspended";if(e.subscription.can_unsuspend){return{additionalInfoHtml:{tag:"please_pay_your_outstanding_balance_to_continue_using_your_subscription"},reasonForBox:t,warningMessageClass:"warning-message--can-unsuspend",warningCta:{ctaClass:"warning-cta--can-unsuspend",tag:"pay_now",url:"/purchase/subscriptions/".concat(e.subscription.sku,"?unsuspend=true")}}}return{additionalInfoHtml:{tag:"download_subscription_phone",translationVariables:{phoneNumber:e.calc.localePhoneNumber}},reasonForBox:t}},Fn[f.paused]=function(e){return{additionalInfoHtml:{tag:"it_will_automatically_resume_on",translationVariables:{zero:"<strong>",resumeDate:new Date(e.subscription.resumed_date).toLocaleDateString(),one:"</strong>"}},reasonForBox:"your_subscription_paused",warningCta:kn()}},Fn[f.expired]=function(e){return{additionalInfoHtml:{tag:"your_subscription_has_expired"},warningClass:"expired-message",warningCta:{url:window.siteMap.cleanRelativePath("/account"),tag:"renew_today"}}};var Un=function(e){if(e.subscription){var t=Fn[e.subscription.status];return t?t(e):null}};function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn=function(e){var t=(e.subscription||{}).downloads_remaining||0,n="".concat(It.hasPremiumVideoSub(e)?"premium_video":e.calc.assetCollectionName,"_subscription"),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:_.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS,title:"".concat(e.calc.assetCollectionName,"_download"),focusView:!0,paymentSelect:!0,warningBox:!0,showDownloadChoices:!0,subsAvailable:!1,showSubscriptionField:!0,showCreditCost:!1,confirmSection:!1,subTitleTranslation:n,subDownloadsTranslationValue:t},Un(e));return st(e,It.buildConfirmDownloadPaidByCreditsStep(e),r)};function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){Hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vn=It.premiumVideoEnabled,Yn=It.hasPremiumVideoSub,Kn=It.buildInsufficientCreditsHtmlTranslation,qn=function(e){return function(e){return e.calc.assetIsVideo&&Vn(e)&&!Yn(e)}(e)?function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,r=Kn(e);return{tag:"premium_".concat(r.tag),translationVariables:Gn(Gn({},r.translationVariables),{},{credit_cost:t-n})}}(e):Kn(e)},Jn=function(e){var t=It.isVideoCreditPackFCO(e),n=It.premiumVideoEnabled(e),r=It.selfServeUpgradeEnabled(e),i="OneYear"===e.subscription.duration,a=r?Dn.annualSelfUpgradeRoute:Dn.getSubscriptionPricingRoute(e.asset.isFilm),o=n&&i&&{id:"upgrade-to-premium",href:a},s=n&&i?Dn.annualSelfUpgradeRoute:null,c=n?"video_not_available_with_subscription_no_link":"video_only_with_credits",l=It.isUsingTeamAccount(e)?hn():null,u=qn(e),d=_.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION;return n&&(i||(u.tag="".concat(u.tag,"_you_can_download")),o&&(u.tag="".concat(u.tag,"_link"))),st(e,It.buildMustBuyStep(e),{name:d,title:"".concat(e.calc.assetCollectionName,"_download"),warningBox:!0,reasonForBox:c,reasonForBoxLink:s,additionalInfoHtml:u,additionalInfoHtmlLink:o,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:It.isUsingTeamAccount(e),showCreditCost:!0,premiumVideoEnabled:n,videoCreditPackFCO:t,userHasAnnualSubscription:i,warningCta:l})};function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){Xn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $n=function(e){var t=It.premiumVideoEnabled(e),n=t?"image_not_available_with_subscription":"image_only_with_sig_or_credits",r=It.isUsingTeamAccount(e)?hn():null,i=_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS,a=qn(e);if(t){var o=e.calc.totalCreditCost,s=e.calc.selectedAccountCredits;a.tag=1==s?"premium_video_insf_one_credit_you_can_download":"premium_video_insf_credits_you_can_download",a.translationVariables=Zn(Zn({},a.translationVariables),{},{credit_cost:o-s})}return st(e,It.buildMustBuyStep(e),{name:i,title:"".concat(e.calc.assetCollectionName,"_collection"),showCreditCost:!0,warningBox:!0,reasonForBox:n,additionalInfoHtml:a,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:It.isUsingTeamAccount(e),warningCta:r})};function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nr=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION,title:"".concat(e.calc.assetCollectionName,"_download"),ctaTitle:ut.BUY_CREDITS,ctaClass:lt.PRIMARY_CTA,ctaAction:ct.REDIRECT_TO_PRICING,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:It.isUsingTeamAccount(e)},Un(e));return st(e,t)},rr=function(e){var t=It.premiumVideoEnabled(e),n=e.calc.assetIsVideo;return st(e,It.buildMustBuyStep(e),{name:_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION,title:"you_need_credits",showExtendedLicenses:!1,warningBox:!0,showCreditCost:!0,additionalInfoHtml:qn(e),focusView:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,showSubscribeToPremiumVideo:t&&n,ctaClass:t&&n?lt.HOLLOW_CTA:lt.PRIMARY_CTA})},ir=function(e){var t=It.isUsingTeamAccount(e)?hn():null,n=_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING;return st(e,It.buildMustBuyStep(e),{name:n,title:"out_of_downloads",warningBox:!0,reasonForBox:"looks_like_no_downloads",additionalInfoHtml:qn(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:It.isUsingTeamAccount(e),warningCta:t})},ar=function(e){var t=_.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES;return st(e,It.buildMustBuyStep(e),{name:t,title:"you_need_credits",warningBox:!0,showCreditCost:!0,showSubTypeMessage:!1,additionalInfoHtml:It.buildInsufficientCreditsHtmlTranslation(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,ctaAction:It.ctaPricingActionData(e)})},or=function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,r=t-n,i=1==r,a=1==n,o=Pt.PRICING_OPTION_CHECKOUT;return st(e,{title:"signature_collection",showBasicSelfServeUpgrade:!0,hideDownloadButton:!0,showCreditCost:!0,showDownloadChoices:!1,confirmSection:!0,upsellData:e.buyCardData.basicSelfServeUpgrade.upsellProducts,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,neededCredits:r,oneCreditNeeded:i,oneCreditRemaining:a,balance:n,pricingOption:o})},sr=function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,r=t-n;return st(e,{title:"signature_collection",showEnhancedPPVUpgrade:!0,hideDownloadButton:!0,showCreditCost:!0,showDownloadChoices:!1,confirmSection:!0,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,neededCredits:r,oneCreditNeeded:1==r,oneCreditRemaining:1==n,balance:n})};function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dr=function(e){var t=ut.CONFIRM_DOWNLOAD,n=lt.PRIMARY_CTA,r=ct.CREATE_DOWNLOAD,i=e.subscription.downloads_remaining,a={showHigherVolumeSelfUpgrade:!0,cancelButton:!0,subscriptionSku:e.subscription.sku,title:e.asset.isEssentialImage?"essentials_collection":"signature_collection",downloadsRemaining:i},o=lr(lr({},a),{},{hideDownloadButton:!0,showCreditCost:!1,showDownloadChoices:!1,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,upsellData:e.buyCardData.higherVolumeSelfUpgrade.upsellProducts}),s=lr(lr({},a),{},{name:_.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,ctaTitle:t,ctaClass:n,ctaAction:r,isConfirmationState:!0,selectedAgreementType:te.ROYALTY_FREE_SUBSCRIPTION});return st(e,0===i?o:s,{showSubTypeMessage:!1})},fr=function(e){return e.calc.hasSubscription&&e.calc.includedWithSubscription&&e.calc.isSubscriptionDownloadAllowed},pr=function(e){return e.calc.hasSubscription&&e.calc.includedWithSubscription&&!e.calc.isSubscriptionDownloadAllowed},_r=function(e){return function(e){var t=e.asset;return!(!e.userDetails.subsInfo.isPPV&&!t.isEssentialImage)||(e.userDetails.subsInfo.isSignature?!t.isFilm:void 0)}(e)&&!e.calc.hasAvailableCredits&&e.subscription.downloads_remaining<=2&&e.buyCardData.higherVolumeSelfUpgrade.eligible},hr=function(e){if(!e.calc.hasSelectedOptionalLicenses){if(e.asset.freeFile)return Sn(e);if(e.calc.redownloadForFree)return vn(e)}if(e.userDetails.team_member){if(!e.userDetails.has_purchase_history)return(e=nt(e,{selectedAccountName:pe.TEAM})).calc.selectedAccountHasEnoughCredits?Rn(e):gn(e);if(!e.calc.selectedAccount)return dt(e);if(e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits)return gn(e)}return e.calc.selectedAccount||(e=nt(e,{selectedAccountName:pe.PERSONAL})),e.calc.hasSelectedOptionalLicenses?e.calc.selectedAccountHasEnoughCredits?En(e):e.userDetails.team_member&&e.calc.isTeamAccountSelected?mn(e):ar(e):p(e)?e.calc.selectedAccountHasEnoughCredits?Wn(e):nr(e):function(e){return e.buyCardData.basicSelfServeUpgrade.eligible}(e)&&function(e){return e.calc.hasSubscription&&!e.calc.includedWithSubscription&&!e.calc.isSubscriptionDownloadAllowed&&e.calc.assetCollectionIsSignature&&!e.asset.isFilm&&!e.calc.selectedAccountHasEnoughCredits}(e)?or(e):!function(e){return e.buyCardData.enhancedPPVUpgrade.eligible&&e.asset.isFilm}(e)||function(e){return e.calc.selectedAccountHasEnoughCredits}(e)||_r(e)?_r(e)?dr(e):!e.calc.hasSubscription&&e.userDetails.team_member&&e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits?gn(e):e.calc.selectedAccountHasEnoughCredits&&fr(e)?_n(e):e.calc.selectedAccountHasEnoughCredits&&pr(e)?An(e):e.calc.selectedAccountHasAnyCredits&&!e.calc.selectedAccountHasEnoughCredits&&fr(e)?yn(e):!e.calc.assetIsVideo&&e.calc.assetCollectionIsSignature&&e.userDetails.subsInfo.isEssentials?e.calc.selectedAccountHasEnoughCredits?Cn(e):$n(e):!e.calc.selectedAccountHasEnoughCredits&&pr(e)?ir(e):e.calc.assetIsVideo&&e.calc.hasSubscription&&!It.hasPremiumVideoSub(e)?e.calc.selectedAccountHasEnoughCredits?e.calc.isTeamAccountSelected?On(e):Ln(e):Jn(e):e.calc.hasSubscription?e.calc.selectedAccountHasEnoughCredits||fr(e)?Sn(e):rr(e):e.calc.selectedAccountHasEnoughCredits?On(e):rr(e):sr(e)},mr=function(e,t){return e=e.mergeIn(["userDetails","subsInfo"],q.fromJS(t)),e=sn(e,{subscription:t,includedWithSubscription:e.calc.includedWithSubscription})},vr=function(e,t){var n=t.agreementOverview||{};if(null!=(null!=n.credit_pack_agreement?n.credit_pack_agreement.credits_available:void 0)&&(e=$t(e,{personalCredits:n.credit_pack_agreement.credits_available||0})),(null!=n.royalty_free_subscription_agreements?n.royalty_free_subscription_agreements.length:void 0)>0){var r=n.royalty_free_subscription_agreements[0];if(null!=r.download_count&&null!=r.download_limit&&null!=r.name){var i=function(e){var t=e.name||"",n=e.download_count||0,r=e.download_limit||0;return{isPPV:U.isPPV(t),isSignature:U.isSignature(t),isEssentials:U.isEssentials(t),downloadedCount:n,downloadLimit:r,downloadsRemaining:r-n,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0}}(r);e=mr(e,i)}}return e=function(e){if(!(e.asset.freeFile||e.calc.redownloadForFree||e.userDetails.team_member||e.calc.selectedAccountHasAnyCredits||e.calc.hasSubscription||p(e))){var t=e.calc.assetIsVideo,n=function(e){return It.premiumVideoEnabled(e)&&t}(e)&&!e.showVideoPnp?Dn.getSubscriptionPricingRoute(t):Dn.getPricingRoute(t);e=e.set("redirectToUrl",n)}return e}(e)},gr=function(e,t){return e=e.mergeIn(["calc"],{buyAndBurnDownload:t.buyAndBurnDownload})},yr={};yr[g.INITIALIZE]=ln,yr[g.GO_TO_BEGINNING]=Jt,yr[g.CANCEL_AND_BACK_TO_BEGINING]=Zt,yr[g.SELECT_ASSET_SIZE]=Ze,yr[g.SET_CTA_IN_PROGRESS]=De,yr[g.GO_TO_NEXT_STEP]=hr,yr[g.SET_AGREEMENTS]=Je,yr[g.SET_TOASTER]=Le,yr[g.SET_BUY_AND_BURN_DOWNLOAD]=gr,yr[g.SELECT_AGREEMENT_TYPE]=tt,yr[g.SET_LICENSES]=fn,yr[g.GO_TO_FREE_ADMIN_DOWNLOAD]=on,yr[g.CHECK_LICENSE]=an,yr[g.SET_AVAILABLE_CREDITS]=$t,yr[g.GO_TO_COMPLETE_DOWNLOAD]=tn,yr[g.GO_TO_COMPLETE_REDOWNLOAD]=nn,yr[g.SET_SELECTED_ACCOUNT]=nt,yr[g.SET_MINI_PNP_OPEN]=Xt,yr[g.SELECT_PRICING_CLARITY_OPTION_TOGGLE]=un,yr[g.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED]=vr,yr[g.SET_DISPLAY_ERROR]=Pe,yr[g.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD]=pn,yr[g.REDIRECT_TO_URL]=dn,yr[g.SET_DOWNLOAD_DATA]=rt,yr[g.SELECT_ACCOUNT_STEP]=dt,yr[g.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP]=en,Object.freeze(yr);var br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=yr[t.type];return n?n(e,t):e};function wr(e,t){return e}var Sr=(0,Ne.H)({agreements:wr,asset:wr,buyCardData:wr,calc:wr,categories:wr,displayError:wr,downloadData:wr,editable:wr,isAiEditable:wr,keywordsView:wr,licenses:wr,metaTags:wr,redirectToUrl:wr,mobileSimplification:wr,subscription:Te,userDetails:wr,postDownloadOnboarding:je,showVideoPnp:wr,searchPhrase:wr,searchScope:wr,versionCount:wr}),Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;return e=br(e,t),e=Sr(e,t)},Or=(n(45967),n(74848));function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){Ir(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ir(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nr=function(e,t){var n=function(e){return Ar(Ar({},e),{},{asset:D.formatAsset(e.asset),userDetails:G.formatUser(e.userDetails),preferredDownloadSize:D.getPreferredSize(e.buyCardData.preferences),preferredEpsDownloadSize:D.getEpsPreferredSize(e.buyCardData.preferences)})}(t),r=n.asset,i=n.userDetails,a=n.preferredDownloadSize,o=n.preferredEpsDownloadSize,s=n.localePhoneNumber,c=n.buyCardData,l=n.categories,u=n.editable,d=n.isAiEditable,f=n.keywordsView,p=n.metaTags,_=n.mobileSimplification,h=n.showVideoPnp,m=n.searchPhrase,v=n.searchScope,g=n.versionCount,y=n.hasAvailableCredits;e.dispatch(Ie.initializeDataStep(r,i,a,o,s,c,l,u,d,f,p,_,h,m,v,g,y))},Tr=function(e){var t=e.payload,n=e.children,r=e.testRecorder,i=S(Er,J);return r&&(r.getState=function(){return i.getState()}),Nr(i,t),(0,Or.jsx)(s.Kq,{store:i,children:n})};Tr.defaultProps={testRecorder:null};var xr=Tr,jr=n(22493),Pr=n(24156),Dr=n(44678),Lr=n(99298),Rr=n(65020),kr=n(84182),Fr=function(){var e=(0,s.d4)((function(e){return e.asset}));(0,r.useEffect)((function(){var t;"image"===e.assetType&&((t=(t=JSON.parse(localStorage.getItem("search.assetsViewedData"))||[]).filter((function(t){return t.id!==e.assetId}))).length>=100&&t.pop(),t.unshift({id:e.assetId,width:e.assetDimensions.width,height:e.assetDimensions.width,deliveryUrl:e.thumb612Url}),localStorage.setItem("search.assetsViewedData",JSON.stringify(t)))}),[])},Ur=n(47950),Mr=n(50340),Br=n(98159),Wr=n(97392),zr=n(65232),Gr=n(60254),Hr=n(40560),Vr=n(10706),Yr=n(32485),Kr=n.n(Yr),qr="gW7HFfb7Cin1PoIVRY3Q",Jr="LcswaaqKmLnYFfq7WfUk",Qr="wp3ztbULtfmWKUPyugTp",Zr="peHGEkbrpbJ7Y2woV2HA",Xr=n(47006),$r=n(24253),ei=n(80371),ti=function(){var e=(0,Xr.c)(),t=(0,s.d4)((function(e){return e.asset.isImage})),n=(0,s.d4)((function(e){return e.buyCardData.orderId})),i=(0,s.d4)((function(e){return e.userDetails.subscription_upgrade})),a=(0,$r.F)().cleanPath("/account"),o=e(i?"subscription_was_upgraded":"asset_purchase_thank_you"),c=(0,r.useMemo)((function(){var r=t?"image":"video",o=i&&!n?e("image_purchase_locate_upgrade_perb"):e("".concat(r,"_purchase_locate"),{zero:n,links:[a]}),s=[e("".concat(r,"_purchase_desired_size")),e("".concat(r,"_purchase_download")),o];return(0,Or.jsx)("ol",{"data-testid":"thank-you-".concat(r,"-steps"),children:s.map((function(e,t){return 2!==t?(0,Or.jsx)("li",{children:e},e):(0,Or.jsx)("li",{children:(0,Or.jsx)(ei.A,{children:e})},e)}))})}),[t,n,i]);return(0,Or.jsxs)("div",{className:"confirmation-text",children:[(0,Or.jsx)("h2",{className:"main-thanks","data-testid":"main-thanks",children:o}),c,n&&(0,Or.jsx)("p",{className:Zr,"data-testid":"invoice",children:(0,Or.jsx)(ei.A,{children:e("invoice_available_time",{zero:"</a><b>",one:"</b>",links:[a]})})})]})};function ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ri(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ri(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ii=function(){var e=ni((0,r.useState)(!1),2),t=e[0],n=e[1],i=t?Jr:"",a=function(e){"Enter"===e.key&&n(!0)};return(0,Or.jsxs)("section",{className:"inline-purchase ".concat(i),id:qr,children:[(0,Or.jsxs)("div",{className:Qr,children:[(0,Or.jsx)("div",{className:"close-button",id:"close-inline-purchase",onClick:function(){return n(!0)},onKeyPress:a,role:"button",tabIndex:0}),(0,Or.jsx)(ti,{})]}),t?null:(0,Or.jsx)("div",{className:"grey-out",onClick:function(){return n(!0)},onKeyPress:a,role:"button",tabIndex:0})]})},ai=(n(54824),n(96045)),oi="O7jjO1OCGh06gTa27jGT",si="ow0qGZRKCM7uQ_J7776T",ci="g5wSC_AVt_E9HjViAQuN",li=function(e){var t=e.asset,n=e.show,r=e.closeModal,i=e.trackClick,a=(0,Wr.A)().watermarkedAlteredImageUrl,o={zoomedImageUrl:t.zoomedImageUrl,zoomedWebPUrl:t.zoomedWebPUrl},c=(0,s.d4)((function(e){return e.metaTags.seoAlt})),l=(0,s.d4)((function(e){return e.metaTags.seoImageTitle})),u=function(e){"Enter"!==e.key&&"Escape"!==e.key&&" "!==e.key||(e.preventDefault(),r())},d=a||o.zoomedImageUrl,f=a?"cropped-img":"img";return n?(0,Or.jsxs)("div",{role:"button",tabIndex:0,onClick:r,onKeyDown:u,className:oi,children:[(0,Or.jsx)("div",{role:"button",tabIndex:0,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),i())},onClick:i,onContextMenu:i,children:(0,Or.jsx)("img",{id:"zoom-image","data-testid":f,src:d,alt:c,title:l,className:si})}),(0,Or.jsx)("div",{role:"button",tabIndex:0,className:ci,onClick:r,onKeyDown:u,children:(0,Or.jsx)(ai.A,{})})]}):null};li.defaultProps={closeModal:function(){},trackClick:function(){}};var ui=li,di=n(33335),fi=n(95399),pi="wlKPaIRRuGtLQ4k_LRRk",_i=function(e){var t=e.showLoadingErrorMessage,n=e.handleLoadingErrorDismissal,r=(0,Xr.c)(),i=(0,Or.jsx)(fi.A,{text:r("saved_modifications_couldnt_load_try_again"),handleDismissal:n});return(0,Or.jsx)("div",{className:pi,children:t&&i})},hi=function(){var e=(0,s.d4)((function(e){return e.asset})),t=(0,s.d4)((function(e){return e.metaTags.seoAlt})),i=(0,s.d4)((function(e){return e.metaTags.seoFilmAlt})),a=(0,s.d4)((function(e){return e.metaTags.seoImageTitle})),o=e.assetDimensions.width,c=e.assetDimensions.height,l=e.galleryComp1024Url,u=e.galleryHighResCompUrl;return(0,r.useEffect)((function(){var e,t,r,a;document.querySelector("body").classList.add("vr-asset"),function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return!1}}()&&(e=document.querySelector(".vr-image"),t=e.getAttribute("height"),r=e.getAttribute("width"),(a=document.createElement("div")).classList.add("viewer_360_image"),a.setAttribute("data-testid","panorama-image"),a.setAttribute("style","height: ".concat(t,"px; width: ").concat(r,"px")),a.id="panorama-image",a.alt=i,e.replaceWith(a),n.e(945).then(n.t.bind(n,15940,23)).then((function(){return window.pannellum.viewer("panorama-image",{type:"equirectangular",autoLoad:!0,autoRotate:-1,hfov:120,showZoomCtrl:!0,showFullscreenCtrl:!0,preview:l,panorama:u})})))}),[]),(0,Or.jsx)("section",{className:"preview ".concat(e.is360Image&&"viewer-360-container"),children:(0,Or.jsx)("img",{className:"vr-image viewer_360_image",width:o,height:c,src:l,alt:t,title:a,"data-preview":l,"data-ratio":e.ratio,"data-alt":i,style:{maxWidth:o,maxHeight:c}})})},mi=n(38420),vi=n(90014),gi=n(34504),yi=n(91592),bi=n(51078),wi=["styles"];function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(null,arguments)}var Ei=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,wi);return i().createElement("svg",Si({"data-testid":"reset-icon",width:"21",height:"18",viewBox:"0 0 21 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M12.472 14.488c-2.995 1.103-6.312-.463-7.396-3.493h.023l2.702-1.002-3.018-1.826-2.374-1.435-.258-.154L0 12.863l2.608-.96c1.588 4.405 6.406 6.682 10.767 5.075a8.386 8.386 0 003.774-2.799l-2.567-1.05a5.749 5.749 0 01-2.11 1.359zM7.625 1.016a8.333 8.333 0 00-3.774 2.793L6.418 4.87a5.75 5.75 0 012.11-1.358c2.995-1.103 6.306.463 7.396 3.493h-.023l-2.702 1.002 3.018 1.826 2.374 1.435.258.154L21 5.131l-2.608.96C16.804 1.687 11.986-.59 7.625 1.017z",fill:"#0C0D0D"}))},Oi=n(42015),Ci=n(65554),Ai=n(29455),Ii=n(6724),Ni=n(21162),Ti="AGfhrofv8p3H8ScXLUrp",xi="nNer6mASpD0jeJHW3FnX",ji="vW5coxBKRPGBITscIvaS",Pi="lfioeko9DzxwGEgLOFB1",Di=function(e){var t=e.open,n=e.onReset,r=e.onClose,i=(0,Ni.I)();return(0,Or.jsxs)(Oi.A,{open:t,onClose:r,rootProps:{className:Ti},children:[(0,Or.jsx)(Ci.Ay,{heading:i("want_to_reset_image"),handleClose:r,headingProps:{className:xi}}),(0,Or.jsx)(Ii.Ay,{component:Ii.QY.P,variant:Ii.PT.body.medium,className:ji,children:i("lose_changes_return_to_original")}),(0,Or.jsx)(Ai.A,{className:Pi,primaryButtonProps:{children:i("yes_reset"),onClick:function(e){n(),r(e)}},secondaryButtonProps:{children:i("cancel"),onClick:r}})]})},Li=Di;Di.defaultProps={open:!1,onReset:function(){},onClose:function(){}};var Ri="Gps0EhBfk59LuChvqHUe";function ki(){ki=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new x(r||[]);return i(o,"_invoke",{value:A(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",_="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(j([])));S&&S!==n&&r.call(S,o)&&(b=S);var E=y.prototype=v.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,o,s){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function A(t,n,r){var i=f;return function(a,o){if(i===_)throw Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?h:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=h,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,i(E,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(E),l(E,c,"Generator"),l(E,o,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Fi(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Ui(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Bi=function(e){var t=e.assetId,n=e.className,i=(0,yi.A)(),a=i.setImageFlipX,o=i.setZoomLevel,s=i.setTopRotate,c=i.setBottomRotate,l=i.setActivePresetAndRatio,u=i.setCropRatio,d=i.defaultPreset,f=(0,Wr.A)(),p=f.setEditDetails,_=f.setWatermarkedAlteredImageUrl,h=f.setImageIsEdited,m=Ui((0,r.useState)(!1),2),v=m[0],g=m[1],y=(0,Xr.c)(),b=function(){var e,n=(e=ki().mark((function e(){return ki().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(0),o(0),l(d),s(0),a(!1),u(void 0),h(!1),p(void 0),_(void 0),e.next=11,(0,bi.A)({assetId:t,editDetails:{}});case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Fi(a,r,i,o,s,"next",e)}function s(e){Fi(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)(gi.Ay,{onClick:function(e){e.stopPropagation(),g(!0)},variant:gi.Jr.HOLLOW,className:Kr()(Ri,n),"data-testid":"edit-reset-badge",children:[(0,Or.jsx)(Ei,{}),y("reset")]}),(0,Or.jsx)(Li,{open:v,onReset:b,onClose:function(e){e.stopPropagation(),g(!1)}})]})};Bi.defaultProps={className:""};var Wi=Bi,zi=n(80960),Gi="UcU8ureQnpvZvSsFIQQo",Hi="nd6A5E548WVOVWXWYAxO",Vi="wMgLANQ4KzDt3pL5JYIX",Yi="_StJSx0EdFAmrG6JvZo7";function Ki(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ji=function(e){var t=e.asset,n=t.assetId,i=t.mainImageUrl,a=t.mainWebPUrl,o=t.defaultMainImageURL,c=t.defaultMainWebPURL,l=t.largeMainImageURL,u=t.largeMainWebPURL,d=e.trackClick,f=e.toggleModal,p=e.imageEditorToolAvailable,_=(0,s.d4)((function(e){return e.metaTags.seoImageTitle})),h=(0,s.d4)((function(e){return e.metaTags.seoImageTitle})),m=Ki((0,r.useState)(!!a),2),v=m[0],g=m[1],y=(0,s.d4)((function(e){return e.versionCount})),b=(0,Wr.A)().watermarkedAlteredImageUrl,w=(0,zr.A)().setShowLoadingOverlay,S=(0,r.useRef)();(0,vi.A)({assetId:n,imageEditorToolAvailable:p});var E=function(){d(),f()},O=(0,r.useCallback)((function(){w(!1)}),[w]);(0,r.useEffect)((function(){var e=S.current;return e.addEventListener("load",O),function(){null!==b&&e.removeEventListener("load",O)}}),[b,O]);var C=!!b&&(0,Or.jsx)(Wi,{className:Vi,assetId:n}),A=y&&y>0?(0,Or.jsx)(zi.A,{assetId:n,versionCount:y}):null;return(0,Or.jsxs)("div",{role:"button","data-testid":"imageCard",tabIndex:0,onClick:E,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),E())},onContextMenu:function(){d(),g(!1)},className:Gi,children:[(0,Or.jsxs)("div",{className:Yi,children:[(0,Or.jsxs)("picture",{"data-testid":"hero-picture",className:Hi,children:[(0,Or.jsxs)(Or.Fragment,{children:[b?(0,Or.jsx)("source",{srcSet:b,type:"image/png","data-testid":"cropped-image"}):null,v&&!b&&(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("source",{srcSet:a,media:"(max-width: 1100px)",type:"image/webp"}),(0,Or.jsx)("source",{srcSet:c,media:"(max-width: 1530px)",type:"image/webp"}),(0,Or.jsx)("source",{srcSet:u,type:"image/webp"})]}),(0,Or.jsx)("source",{srcSet:i,media:"(max-width: 1100px)",type:"image/jpeg"}),(0,Or.jsx)("source",{srcSet:o,media:"(max-width: 1530px)",type:"image/jpeg"}),(0,Or.jsx)("source",{srcSet:l,type:"image/jpeg"})]}),(0,Or.jsx)("img",{"data-testid":"image-asset",src:o,alt:h,title:_,style:{maxHeight:668,maxWidth:"100%",objectFit:"scale-down",width:"auto",height:"auto"},fetchpriority:"high",ref:S})]}),A]}),C]})};Ji.defaultProps={trackClick:function(){}};var Qi=Ji,Zi=n(2070),Xi=n(12032),$i="ldJ0mz8r6T2R_LThLWr6",ea="QTyASGPMnJ4POb6oU1Af",ta="dMuK98MJmDy67rN26W2Z",na=function(e){var t=e.asset,n=(0,Zi.useExperience)("VideoADPPreviewResize"),i=t.filmCompUrl,a=t.orientation,o=t.actualMaxDimensions,c=o.width,l=o.height,u=t.filmPreviewDimensions,d=u.width,f=u.height,p=(0,s.d4)((function(e){return e.metaTags.seoImageTitle})),_=(0,r.useMemo)((function(){return(0,Xi.r)(d,f,c,l,a,n)}),[d,f,c,l,a,n]);return(0,Or.jsx)("div",{className:$i,style:{maxWidth:_.maxWidth},children:(0,Or.jsx)("div",{className:ea,style:{paddingBottom:_.paddingTop},children:(0,Or.jsx)("video",{"data-testid":"video-asset",className:ta,src:i,alt:p,controls:"controls",controlsList:"nodownload",autoPlay:!0,loop:!0})})})},ra=function(e){var t=e.asset,n=e.trackClick,r=e.toggleModal,i=t.isImage,a=t.is360Image,o=(0,mi.A)(t);return a?(0,Or.jsx)(hi,{}):i?(0,Or.jsx)(Qi,{asset:t,trackClick:n,toggleModal:r,imageEditorToolAvailable:o}):(0,Or.jsx)(na,{asset:t})};ra.defaultProps={trackClick:function(){}};var ia=ra,aa=["styles"];function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oa.apply(null,arguments)}var sa=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,aa);return i().createElement("svg",oa({xmlns:"http://www.w3.org/2000/svg",viewBox:"-15 -15 130 130"},t),i().createElement("path",{d:"M67.35 10.29v4h14.83l-21.2 21.19 2.83 2.83 21.2-21.2v14.84h4V10.29H67.35zM32 14.29v-4H10.34v21.66h4V17.11l21.2 21.2 2.83-2.83-21.2-21.19H32zM85.01 65.24v14.83l-21.2-21.2-2.83 2.83 21.2 21.2H67.35v4h21.66V65.24h-4zM35.54 58.87l-21.2 21.2V65.24h-4V86.9H32v-4H17.17l21.2-21.2-2.83-2.83z"}))},ca=n(80579),la="YiNp6dCG6jKbroaAQizq",ua="grPu5hBCNNNGZ9kT07oh",da="GNQT5my0fjBNGJibx49k",fa="CLKcR06MeB6QZKn5kKCE",pa="AAime6IsRoZeZI_puk4x",_a="_tt5W_xAaiYqJia95F5J",ha=function(e){var t=e.show,n=e.toggleModal,r=(0,Xr.c)();return t?(0,Or.jsx)(ca.A,{className:fa,"data-testid":"zoom-in-overlay",onClick:n,ariaLabel:r("zoom"),tabIndex:-1,children:(0,Or.jsx)("span",{children:(0,Or.jsx)(sa,{})})}):null};ha.defaultProps={show:null};var ma=ha,va=n(23252),ga=n(95653),ya=n(43450),ba=n(49358),wa="iuUSOOQ8NxtLiV0v_0p3",Sa=function(){return(0,Or.jsx)("div",{"data-testid":"onboarding-overlay",className:wa})},Ea=n(86260),Oa=function(){var e;window.tracking_data&&(window.tracking_data.merchandising_units=["adp_tools_panel_post_download_intro"]),null===(e=window.combinedGtmTracking)||void 0===e||e.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Shown",merch_unit_selection:"adp_tools_panel_post_download_intro-shown",ui_element_location:"adp_tools_panel_top_overlay"})},Ca=n(20350);function Aa(){Aa=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new x(r||[]);return i(o,"_invoke",{value:A(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",_="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(j([])));S&&S!==n&&r.call(S,o)&&(b=S);var E=y.prototype=v.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,o,s){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function A(t,n,r){var i=f;return function(a,o){if(i===_)throw Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?h:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=h,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,i(E,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(E),l(E,c,"Generator"),l(E,o,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Ia(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Na(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ia(a,r,i,o,s,"next",e)}function s(e){Ia(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ta=function(){var e=(0,s.wA)(),t=(0,s.d4)((function(e){return e.calc.selectedAgreement}));return Na(Aa().mark((function n(){var r;return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("RoyaltyFreeSubscription"===(null==t?void 0:t.type)){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,(0,Ca.A)("post_download_onboarding_client");case 5:r=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return");case 11:e(Ie.showPostDownloadOnboarding()),Oa(),r.dismiss();case 14:case"end":return n.stop()}}),n,null,[[2,8]])})))},xa=function(){var e=(0,s.wA)();return function(){var t;e(Ie.hidePostDownloadOnboarding()),null===(t=window.combinedGtmTracking)||void 0===t||t.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Click",merch_unit_selection:"adp_tools_panel_post_download_intro-close",ui_element_location:"adp_tools_panel_top_overlay"})}},ja="Xc9NMt5yrBJcz13LFAFb",Pa="tn2gkaUMkKAPIaiN87up",Da="hxGvbGjfTMDGrPSLg8ZE",La="rMGpQv6630Y5ZaxZ8Uz7",Ra="EUqkhY00_WqNk6OAlLgR";function ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ua=function(e){var t=e.src,n=e.thumbnailSrc,i=e.alt,a=ka((0,r.useState)(!1),2),o=a[0],s=a[1];return(0,Or.jsxs)("div",{className:ja,children:[(0,Or.jsx)("video",{"data-testid":"video",className:Kr()(Pa,o?La:Ra),autoPlay:!0,loop:!0,src:t,onLoadedData:function(){return s(!0)}}),(0,Or.jsx)("img",{"data-testid":"thumbnail",className:Kr()(Pa,Da,o?Ra:La),src:n,alt:i})]})},Ma=n.p+"static/post-download-onboarding-thumbnail-b24582a54bb3ac2018b9.png",Ba="r5dzD3s8qBdl0JZfyIpK",Wa="mkoqypVVYf0QbADac_gM",za="DjqO9t8jvFF5nES4UEhC",Ga="CgOl4IqyeBmyrorOp1uq",Ha="Mn348R8IuK_Y1yvvohFc",Va=["KO","NL","PL","PT-BR","PT-PT","RO","RU","SV","TH","TR","UK","VI","ZH-HK","CS","DE","EN-US","ES","FI","FR","HU","ID","IT","JA"],Ya=function(e){var t=e.children,n=(0,Xr.c)(),r=(0,Ea.Y)(),i=xa(),a=function(e){var t=e.toUpperCase();return Va.includes(t)?"https://static.istockphoto.com/display-sets/istock/adp/".concat(t,".mp4"):"https://static.istockphoto.com/display-sets/istock/adp/EN-US.mp4"}(r);return(0,Or.jsxs)("div",{"data-testid":"post-download-onboarding",className:Ba,children:[t,(0,Or.jsxs)("div",{className:Wa,children:[(0,Or.jsx)(ai.A,{"data-testid":"close-icon",className:Ha,onClick:i}),(0,Or.jsx)("div",{className:za,children:n("save_content_to_boards")}),(0,Or.jsx)(Ua,{src:a,thumbnailSrc:Ma,alt:n("save_your_favorite_images_and_videos")}),(0,Or.jsx)("div",{className:Ga,children:n("save_your_favorite_images_and_videos")})]})]})},Ka=n(13518),qa=n(51608),Ja=["styles"];function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qa.apply(null,arguments)}var Za=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ja);return i().createElement("svg",Qa({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16.1",height:"16.2"},t),i().createElement("path",{fill:"#353838",d:"M16.1 7.4H8.8V.1H7.3v7.3H0v1.5h7.3v7.3h1.5V8.9h7.3z"}))},Xa=["styles"];function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$a.apply(null,arguments)}var eo=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Xa);return i().createElement("svg",$a({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17"},t),i().createElement("path",{d:"M7.734-.001h1.531V0H7.734z"}),i().createElement("path",{fill:"#474747",d:"M15.16 7.735H-.001v1.53h7.735v.001h9.267V7.734z"}))},to=n(21200),no=n(68282),ro=function(e){var t=e.assetIsInBoard,n=(0,Xr.c)();return t?(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)("div",{className:no.A.boardsActive,children:[(0,Or.jsx)(to.A,{}),n("saved")]}),(0,Or.jsxs)("div",{className:no.A.boardsRemove,children:[(0,Or.jsx)(eo,{}),n("remove")]})]}):(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)(Za,{})," ",n("save")]})};ro.defaultProps={assetIsInBoard:null};var io=ro;function ao(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oo=function(e){var t=e.children,n=e.onClick,r=e.greenBorder,i=e.testid,a=e.disabled;return(0,Or.jsx)("button",{"data-testid":i,onClick:n,type:"button",className:Kr()(no.A.button,ao({},no.A.button__greenBorder,r)),disabled:a,children:t})};oo.defaultProps={greenBorder:!1,onClick:function(){},testid:"button",disabled:!1};var so=oo,co=function(e){var t=e.asset,n=(0,o.bH)(),r=n.boards,i=n.toggleAsset,a=(0,ba._k)().addToaster,c=r.isAssetInBoard(t),l=(0,kr.Z)(),u=(0,s.d4)((function(e){return e.postDownloadOnboarding})),f="adp_tools_panel_top",p=function(){if(c){var e=(0,Ka.A)({ui_element_location:f,board_interaction:"remove_single_asset_from_board",asset_id:t.assetId,asset_type:t.assetType,asset_family:t.assetFamily});(0,d.C)(e),l.sendBoardItemRemovedSignal(t,r.defaultBoard.id)}else{var n=(0,qa.A)({ui_element_location:f,board_interaction:"add_to_existing_board",asset_id:t.assetId,asset_type:t.assetType,asset_family:t.assetFamily});(0,d.C)(n),l.sendAssetAddedToBoardSignal(t,r.defaultBoard.id)}var s;u&&(null===(s=window.combinedGtmTracking)||void 0===s||s.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Click",merch_unit_selection:"adp_tools_panel_post_download_intro-clicked",ui_element_location:"adp_tools_panel_top_overlay"})),i(c?"remove_assets":"add_assets",r.defaultBoard.id,t.id),a((0,Or.jsx)(o.FW,{uiLocation:f,theme:"istock",asset:t}))},_=(0,Or.jsxs)(so,{disabled:!r.defaultBoard,onClick:function(){p()},greenBorder:u,testid:"boards-button",children:[(0,Or.jsx)("div",{className:no.A.boardsTooltip,children:(0,Or.jsx)(o.MS,{uiLocation:f,theme:"istock",asset:t,modal:(0,Or.jsx)(o.ho,{uiLocation:f,theme:"istock",asset:t})})}),(0,Or.jsx)(io,{assetIsInBoard:r.isAssetInBoard(t)})]});return u?(0,Or.jsx)(Ya,{children:_}):_},lo=n(71087),uo=n(59390),fo=n(36653),po=n(23156),_o=n(62218),ho={container:"Dqs20PpUHyfeUwA7ohm3",header:"ed44G7C6JFYw4GiJK0Pg",footer:"pby3pmwl6sptMWcsw0Xw",body:"v42us1KBxb3U2AcQYmQb",checkbox:"P5mCMOMaN04Atu8vsEzi"};function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var go=function(e){var t=e.downloadLink,n=e.trackDownload,i=e.isFilm,a=e.type,o=e.asset,s=e.open,c=e.onClose,l=mo((0,r.useState)(!1),2),u=l[0],f=l[1],p=(0,Xr.c)(),_=(0,Wr.A)().watermarkedAlteredImageUrl,h=function(){var e=(0,_o.A)({event:"close_modal",modal_content:"preview_".concat(a),modal_type:"detailed_modal_with_cta",cta_text:void 0,ui_element_location:"modal_x",modal_selection:"preview_".concat(a,"_close")});(0,d.C)(e),c()};return(0,Or.jsxs)(Oi.A,{open:s,onClose:h,rootProps:{className:ho.container},"data-testid":"preview-modal-container",children:[(0,Or.jsx)(Ci.Ay,{heading:p(i?"try_this_clip":"try_this_image"),handleClose:h,headingProps:{className:ho.headier}}),(0,Or.jsx)(Ii.Ay,{component:Ii.QY.P,variant:Ii.PT.body.medium,className:ho.body,children:p(i?"try_this_clip_disclaimer":"try_this_image_disclaimer")}),(0,Or.jsx)(po.A,{checked:u,onClick:function(){var e;e=!u,localStorage.setItem("assetDetail.hidePreviewLicense",e),f(!u)},className:ho.checkboxInput,label:p("download_workflow.dont_show_message")}),(0,Or.jsx)(Ai.A,{className:ho.footer,primaryButtonProps:{children:p("download"),onClick:function(){var e=(0,ne.A)({asset_details:{asset_id:null==o?void 0:o.id,asset_type:null==o?void 0:o.assetType,asset_family:null==o?void 0:o.assetFamily},download_method:"comp"}),r=!!_;(0,fo.hC)(t,null==o?void 0:o.id,r),(0,d.C)(e),n("".concat(a,"_adp_modal")),c()}},secondaryButtonProps:{children:p("cancel"),onClick:function(){var e=(0,_o.A)({event:"close_modal",modal_content:"preview_".concat(a),modal_type:"detailed_modal_with_cta",cta_text:"cancel",ui_element_location:"modal_cta",modal_selection:"preview_".concat(a,"_cancel")});(0,d.C)(e),c()}}})]})},yo=["styles"];function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(null,arguments)}var wo=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,yo);return i().createElement("svg",bo({width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("g",{clipPath:"url(.preview-icon)",fill:"#353838"},i().createElement("path",{d:"M15.71 12.15v2.91H1.5v-2.91H0v4.41h17.21v-4.41zM13.6 6.33l-1.06-1.06-3.18 3.18V0h-1.5v8.61L4.68 5.43 3.62 6.5l4.9 4.9z"})))};function So(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Eo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Oo=function(e){var t=e.asset,n=(0,Xr.c)(),i=(0,kr.Z)(),a=(0,Wr.A)().watermarkedAlteredImageUrl,o=(0,zr.A)().showLoadingOverlay,s="film"===t.assetType,c=s?"video":"image",l=(0,lo.A)(),u=So((0,r.useState)(!1),2),f=u[0],p=u[1],_=o,h=t.defaultMainImageURL?(0,fo.m1)(t.defaultMainImageURL):null,m=(0,fo.vh)({asset:t,watermarkedAlteredImage:a,compUrl:h}),v=function(){i.sendAssetCompDownloadedSignal(t)};return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)(so,{onClick:function(){var e=(0,uo.A)({cta_interaction:"preview_asset_cta_clicked",cta_text:"try",cta_url:m,ui_element_location:l});"true"===localStorage.getItem("assetDetail.hidePreviewLicense")?(v(),(0,fo.hC)(m)):p(!0),(0,d.C)(e)},testid:"preview-button",disabled:_,children:[(0,Or.jsx)(wo,{}),n("try")]}),f?(0,Or.jsx)(go,{downloadLink:m,trackDownload:v,isFilm:s,type:c,asset:t,open:f,onClose:function(){return p(!1)}}):null]})},Co=["styles"];function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(null,arguments)}var Io=function(e){var t=e.styles,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Co);return i().createElement("svg",Ao({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 16.443 16.132",fill:"#353838"},r),i().createElement("path",{className:n.st0||"st0",d:"M7.143 12.495h-.01l-2.412-.032a.751.751 0 01-.74-.74L3.947 9.31a.746.746 0 01.22-.54L12.718.22a.75.75 0 011.061 0l2.445 2.444a.75.75 0 010 1.06l-8.551 8.551a.75.75 0 01-.53.22zM5.47 10.973l1.365.018 7.797-7.797-1.384-1.383-7.797 7.796.019 1.366z"}),i().createElement("path",{className:n.st0||"st0",d:"M13.83 5.453a.747.747 0 01-.531-.22L11.235 3.17a.75.75 0 111.06-1.06l2.064 2.063a.75.75 0 01-.53 1.28zm-.322 10.679H2.209A2.212 2.212 0 010 13.922V3.056C0 1.837.991.845 2.209.845h5.65a.75.75 0 010 1.5h-5.65a.71.71 0 00-.709.71v10.868c0 .39.318.709.709.709h11.299a.71.71 0 00.709-.71V8.489a.75.75 0 011.5 0v5.435a2.212 2.212 0 01-2.21 2.209z"}))},No=function(e){var t=e.show,n=e.url,r=(0,Xr.c)(),i=(0,lo.A)();return t?(0,Or.jsxs)(so,{onClick:function(){var e;e=(0,uo.A)({cta_interaction:"edit_image_cta_clicked",cta_text:"edit",cta_url:n,ui_element_location:i}),(0,d.C)(e),window.open(n)},children:[(0,Or.jsx)(Io,{}),r("edit")]}):null};No.defaultProps={show:null,url:""};var To=No,xo=n(76406),jo=n(87261);function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ko(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ko(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Fo=(0,va.A)((function(e){var t=e.asset,n=Ro((0,r.useState)(null),2),i=n[0],a=n[1],o=(0,$r.F)(),c=t.assetId,l=(0,s.d4)((function(e){return e.editable})),u=(0,s.d4)((function(e){return e.userDetails.price_book})),d=(0,s.d4)((function(e){return e.userDetails.has_ai_generations})),f=(0,s.d4)((function(e){return e.userDetails.show_unlimited_content})),p=(0,mi.A)(t),_=l?(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)(ga.A,{asset:t}),(0,Or.jsx)(ya.A,{assetId:c})]}):null,h=(0,Or.jsx)(To,{show:l,url:o.editImagePath(c),asset:Do({id:c},t)}),m=p?_:h,v=(0,s.d4)((function(e){return e.isAiEditable})),g=(0,Or.jsxs)("div",{className:no.A.aiButtons,children:[(0,Or.jsx)(jo.A,{asset:t,hasAIGenerations:d,showUnlimitedContent:f,priceBook:u,isTooltipOpen:"AiRemoveBackground"===i,setIsTooltipOpen:function(e){return a(e?"AiRemoveBackground":null)},isAiEditable:v}),(0,Or.jsx)(xo.A,{asset:t,hasAIGenerations:d,showUnlimitedContent:f,priceBook:u,isTooltipOpen:"ModifyWithAi"===i,setIsTooltipOpen:function(e){return a(e?"ModifyWithAi":null)},isAiEditable:v})]});return(0,Or.jsxs)("div",{className:no.A.container,"data-testid":"actions-container",children:[(0,Or.jsxs)("div",{className:no.A.defaultActions,children:[(0,Or.jsx)(co,{asset:Do({id:c},t)}),(0,Or.jsx)(Oo,{asset:Do({id:c},t)}),m]}),g]})}),"tools_panel_top"),Uo=function(e){var t=e.caption;return(0,Or.jsx)("figcaption",{className:_a,"data-testid":"figcaption",children:t})};Uo.defaultProps={caption:""};var Mo=Uo,Bo=function(){return{singleDownload:function(e,t){(window.tracking_data||{}).download_type="comp download",re.singleDownload(e,t)},setZoomStatus:function(e){(window.tracking_data||{}).adp_is_zoomed=e},setUiElementLocation:function(e){return null==window.combinedGtmTracking?null:window.combinedGtmTracking.setUIElementLocation(e)},setAssetDetailTrackingData:function(e,t){var n=window.tracking_data||{};n.asset_details||(n.asset_details={}),n.asset_details[e]=t},setTrackingDataElement:function(e,t){(window.tracking_data||{})[e]=t}}};function Wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Go=function(){var e=Wo((0,r.useState)(!1),2),t=e[0],n=e[1],i=Bo(),a=function(){t?(n(!1),i.setZoomStatus(void 0),document.querySelector("body").classList.remove("modal-visible")):(n(!0),i.setZoomStatus("zoom"),document.querySelector("body").classList.add("modal-visible"))},o=function(e){t&&"Escape"===e.key&&a()};return(0,r.useEffect)((function(){return window.addEventListener("keyup",o),function(){window.removeEventListener("keyup",o)}}),[t]),{open:t,toggleModal:a,sendDownloadCompTracking:function(){var e,t=(0,ne.A)({asset_details:null===(e=window.tracking_data)||void 0===e?void 0:e.asset_details,download_method:"comp",is_eps:!1});(0,d.C)(t),i.singleDownload("comp")}}};function Ho(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ko=function(e){var t=e.asset,n=e.userDetails,a=e.showLoadingErrorMessage,o=e.handleLoadingErrorDismissal,c=(0,Gr.A)().showImageEditor,l=t.isImage,u=t.is360Image,d=t.isFilm,f=t.experiences,p=Go(l,f),_=p.open,h=p.toggleModal,m=p.sendDownloadCompTracking,v=(0,s.d4)((function(e){return e.postDownloadOnboarding})),g=(0,s.d4)((function(e){return e.metaTags.seoFigCaption})),y=i().useRef(null),b=Vo((0,r.useState)({width:0,height:0}),2),w=b[0],S=b[1];(0,r.useEffect)((function(){y.current&&S({width:y.current.offsetWidth,height:y.current.offsetHeight})}),[]);var E=ua,O=Kr()(da,Ho({},pa,"Horizontal"===t.orientation));return c?(0,Or.jsx)(di.A,{imagePath:t.galleryHighResCompUrl,assetId:t.assetId,initialDimensions:w}):(0,Or.jsxs)("section",{className:Kr()(la,d?O:E),"data-testid":"asset-card",ref:y,children:[v&&(0,Or.jsx)(Sa,{}),(0,Or.jsx)(_i,{showLoadingErrorMessage:a,handleLoadingErrorDismissal:o}),(0,Or.jsx)(Fo,{asset:t,userDetails:n}),(0,Or.jsx)(ui,{asset:t,show:_,closeModal:h,trackClick:m}),(0,Or.jsxs)("figure",{role:"figure",children:[(0,Or.jsx)(ia,{asset:t,trackClick:m,toggleModal:h}),(0,Or.jsx)(Mo,{caption:g}),(0,Or.jsx)(ma,{show:l&&!u,toggleModal:function(){return h()}})]})]})},qo=(0,r.memo)(Ko),Jo=function(e){var t=e.descriptionContent,n=e.editorialImage,r=(0,Xr.c)(),i=(0,s.d4)((function(e){return e.mobileSimplification})),a=(0,Ea.Y)(),o=t&&t.match(/[^\x00-\x7F]+/g),c=["ko","vi"].includes(a),l=o&&o.length>0;return!c||l?n?(0,Or.jsx)("section",{className:"editorial-caption","data-testid":"editorial-description-content",children:t}):t?(0,Or.jsx)("section",{className:"description ".concat(i?"simplification-test-margin":""),children:(0,Or.jsxs)("div",{className:"section-content",children:[i?(0,Or.jsx)("p",{className:"description-header",children:r("file_description")}):(0,Or.jsx)("h2",{children:r("file_description")}),(0,Or.jsx)("p",{"data-testid":"description-content",children:t})]})}):null:null},Qo=Jo;Jo.defaultProps={descriptionContent:null};var Zo=n(12697),Xo=n(29452),$o={searchBar:"Tfz2TGD82STf7R6UpfPc"},es=(0,Zo.A)("search_bar","./SearchBar"),ts=function(){var e=function(e,t){return{options:{hideOnScroll:!0,mobileMediaFilter:!0,peekyScroll:!0},searchParameters:{assettype:t||e.assetType,assetfiletype:e.isVector?"eps":null,family:e.assetFamily}}}((0,s.d4)((function(e){return e.asset})),(0,s.d4)((function(e){return e.searchScope}))),t=(0,Rr.Jd)(),n=(0,Xo.Z)();return(0,Or.jsx)("div",{className:$o.headerSearchBar,children:(0,Or.jsx)(es,{config:e,user:t,siteName:n.nickname,locale:t.locale})})},ns=n(21609),rs="UoALWQ90Q3abTzfxHYA4",is="kiF1ERA25iBulfkeA2RH",as=function(e){var t=e.show,n=(0,Xr.c)();return t?(0,Or.jsx)("div",{className:rs,"data-testid":"istock-exclusive",children:(0,Or.jsx)("span",{className:is,children:n("only_from_istock")})}):null},os="U0QAixDdezN2ssj131uy",ss="x8wPOfs4tCJPGjn4Qkbo",cs="xK0cpH1ZT3qYtRbvkl99",ls="Bez0nq4IPLfbrOzuvZZE",us="Ah4WgIQNM_jGg7mlwBZ0",ds="pJvS4Uw7WV6omszWW76f",fs=function(e){var t,n=e.show,r=e.keywords;return n?(0,Or.jsx)("div",{className:cs,children:n&&(0,Or.jsx)("h2",{"data-testid":"keywords",children:(t=r,t.slice(0,5).map((function(e){return e.text})).join(", "))})}):null};function ps(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var hs=function(e){var t=e.asset,n=(0,Xr.c)(),i=t.title,a=t.keywords,o=t.isImage,s=t.isIllustration,c=t.isFilm,l=t.isIstockExclusive,u=t.filmDefinition,d=ps((0,r.useState)(!1),2),f=d[0],p=d[1],_=(0,ns.h)(n,u);return(0,Or.jsxs)("section",{className:os,"data-testid":"asset-title",children:[(0,Or.jsxs)("div",{className:ls,children:[l&&(0,Or.jsx)("div",{className:ds,"data-testid":t.assetId,children:(0,Or.jsx)(as,{show:l})}),(0,Or.jsxs)(Ii.Ay,{component:Ii.QY.H1,variant:Ii.PT.body.large,"data-asset-id":t.assetId,className:us,children:[i?s?n("attributes.seo_title_illustrations",{title:i}):o?n("attributes.seo_title_photos",{title:i}):c?n("seo_film_title",{title:i,film_definition:_}):i:"",!f&&(0,Or.jsx)("button",{type:"button",className:ss,title:n("see_full_title"),onClick:function(){return p(!0)},children:(0,Or.jsx)("span",{children:"..."})})]})]}),(0,Or.jsx)(fs,{show:f,keywords:a})]})},ms=n(75133),vs="pdg7g3UG49eFBtbMMdZw",gs="eEOt6ZGqipFaNm2I3TDc",ys="qCXzjdeh_ml_vY5fqTVQ",bs="P8J2KpxsMpYv4bU0urGP",ws="Bx9VgqugdY7mJ3NiMBPl",Ss="R5LqjvYFPXqMWgYhXQvA",Es="CEdBaudkkfTLYIVfna6j",Os="vMo8CFNGGdoAizNcsh0D",Cs=function(e){var t=e.category,n=(0,kr.Z)();return(0,Or.jsx)("a",{onClick:function(){var e=(0,ms.j)({event_name:"search_by_category",search_selection:t.text,ui_element_location:"category_list"});(0,d.C)(e),n.sendAdpCategoryBrowseClickSignal()},className:Os,"data-testid":"categoryPill",href:t.href,itemType:"http://schema.org/relatedLink",children:t.text})};function As(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Is(e){return function(e){if(Array.isArray(e))return Ns(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ns(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ns(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ts=function(){var e=(0,s.d4)((function(e){var t;return null===(t=e.categories)||void 0===t||null===(t=t.categoriesView)||void 0===t||null===(t=t.matchingInspirePages)||void 0===t||null===(t=t._tail)||void 0===t?void 0:t.array}))||[],t=(0,s.d4)((function(e){var t;return null===(t=e.categories)||void 0===t?void 0:t.showRelated}))||!1,n=(0,s.d4)((function(e){var t;return null===(t=e.categories)||void 0===t||null===(t=t.relatedCategories)||void 0===t||null===(t=t._tail)||void 0===t?void 0:t.array}))||[],r=(0,s.d4)((function(e){return e.asset})),i=(0,Xr.c)(),a=t?[].concat(Is(e),Is(n)):e,o=0===a.length?[]:a.map((function(e){return(0,Or.jsx)("li",{className:Es,children:(0,Or.jsx)(Cs,{category:e})},e.text)}));return o.length>0?(0,Or.jsx)("section",{className:Kr()(vs),"data-testid":"inspire-page-list",children:(0,Or.jsxs)("div",{className:Kr()(bs,As(As({},gs,r.isImage),ys,r.isFilm)),children:[(0,Or.jsx)("h2",{className:ws,children:i("categories_no_colon")}),(0,Or.jsx)("ul",{className:Ss,children:o})]})}):null},xs=function(e){var t=e.errorType,n=(0,Xr.c)();return t?(0,Or.jsx)("section",{className:"error",children:(0,Or.jsx)("div",{className:"error-bar",children:(0,Or.jsx)("span",{children:n("download_failed")})})}):null};xs.defaultProps={errorType:null};var js=xs,Ps=n(79198),Ds=n(24128),Ls="ov7hidRfj6r17Xo7kOum",Rs="O5qkceU1kn1uYV6Mm03A",ks="n8gnpe9sVSlKqgA_16qm",Fs="zmTx1zA9omVOPG4h0sP2",Us="YeOmFF70dJQ0KqaLlzN1",Ms="XoqGbbLH7NbLfbQSyVFs",Bs="uxSwFOww6uMkAE3ycR35",Ws="d8jDIwL6fQGL6g5Pa7pb",zs="nPIzDdpXYYh0blbGv1Pg",Gs="F4h4tj92VxhM6ZFT1J2Z",Hs=function(e){var t=e.keyword,n=(0,Xr.c)(),r=(0,Ps.m)(),i=(0,Rr.Jd)(),a=(0,Ds.Cz)(),o=(0,s.d4)((function(e){return e.asset.assetType})),c=(0,s.d4)((function(e){return e.asset.mediaType})),l=n("photos"),u=null;"film"===o&&(l=n("videos")),"illustration"!==c&&"photo_and_illustration"!==c||(l=n("illustrations"),u="illustration");var f=t.text.replace(l,"").trim(),p={assettype:o,phrase:f,mediatype:u},_=a.seoSearchPath(p);return(0,Or.jsxs)("a",{onClick:function(){r.prepareEvent("search",{element_location:"keyword_button_adp",search_tools:"ADP_Keyword_Browse_Click"});var e=(0,ms.j)({event_name:"search_by_keyword",search_selection:f,ui_element_location:"keyword_list"});(0,d.C)(e)},className:Ws,href:_,"data-search-bot":i.isBot?"Bot":"NotBot","data-search-link":"film"===o?"FilmKeywordLink":"KeywordLink",itemType:"http://schema.org/relatedLink",children:[t.text,(0,Or.jsx)("span",{className:zs,children:","})]})};function Vs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ys(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ks(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ks(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var qs=function(){var e,t=(0,Xr.c)(),n=(0,s.d4)((function(e){return e.keywordsView})),i=n?null==n||null===(e=n.list)||void 0===e?void 0:e.toArray():[],a=Ys((0,r.useState)(!1),2),o=a[0],c=a[1],l=(0,s.d4)((function(e){return e.asset})),u=function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),c(!0))};return i.length>0?(0,Or.jsx)("section",{className:Ls,"data-testid":"keyword-list",children:(0,Or.jsxs)("div",{className:Kr()(Fs,Vs(Vs({},Rs,l.isImage),ks,l.isFilm)),children:[(0,Or.jsx)("h2",{className:Us,children:t("keywords")}),(0,Or.jsx)("ul",{className:Ms,children:function(){if(0===i.length)return[];var e=i.map((function(e,t){var n=(0,Or.jsx)("li",{className:Bs,children:(0,Or.jsx)(Hs,{keyword:e})},e.text);return!o&&t>=18?null:n}));if(!o){var n=(0,Or.jsx)("li",{className:Bs,children:(0,Or.jsx)("div",{"data-testid":"show-all-button",role:"button",tabIndex:0,className:Gs,onKeyDown:u,onClick:function(){return c(!0)},children:t("see_all_keywords")})},"show-all");e.push(n)}return e}()})]})}):null},Js=n(59192),Qs="f9aaG6PqBGm15lt0zhS4",Zs="Qy1Q9JW1QHFAUwgwD9Fq",Xs="azxlQqzbRECAOMCrIiR4",$s="vFAy5w684KCLQQzgVz_d",ec="hqcXtEwQxyYK4SihvtMI",tc="qjVPniXhZIZgddFIswnK",nc="FGGm7tPf4ZjbykwRd2QU",rc="QzTsMClEiL1JbmP3GFci",ic="JOIvcAEOMKEcZUQ45C9U",ac="nfx40gwvPmIGqFhbpuxN",oc="Rixk6XimcuoPryIUe2hM",sc="rjYS_O606BS_7EhsmDUX";function cc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lc=function(){var e,t=(0,Xr.c)(),n=(0,Rr.Jd)(),r=(0,$r.F)(),i=(0,Ds.Cz)(),a=(0,s.d4)((function(e){return e.asset.keywords})),o=(0,s.d4)((function(e){return e.asset.assetType})),c=(0,s.d4)((function(e){return e.asset.category})),l=(0,s.d4)((function(e){return e.asset.mediaType})),u=null==a||null===(e=a.first())||void 0===e?void 0:e.text,d={assettype:o,phrase:u};"illustration"===l&&(d.mediatype=l);var f=i.searchPath(d),p="<a href=".concat(f,">").concat(u,"</a>"),_=a.size>0?t("rf_licenses_features",{keyword_link:p}):t("rf_licenses_features_no_link"),h=t("rf_licenses_best_option",{links:[{href:r.photos()},{href:r.illustrations()},{href:r.video()}]}),m=a.size>0?t("rf_possibilities",{keyword_link:p}):t("rf_possibilities_no_link"),v={links:[{href:r.royaltyFreeImages()},{href:r.faqUsingFiles(c)}]},g=t(function(e){switch(e){case Js.A.ILLUSTRATIONS:return"learn_more_about_faq_illustrations";case Js.A.VIDEOS:return"learn_more_about_faq_videos";default:return"learn_more_about_faq_photos"}}(c),v);return n.isBot||n.isFirstTimeVisitor?(0,Or.jsx)("section",{className:Qs,children:(0,Or.jsx)("div",{className:Kr()($s,cc(cc({},Zs,"image"===o),Xs,"film"===o)),children:(0,Or.jsxs)("div",{className:ec,children:[(0,Or.jsx)("h2",{className:tc,children:t("frequently_asked_questions_capitalized")}),(0,Or.jsx)("hr",{className:nc}),(0,Or.jsxs)("dl",{className:ac,children:[(0,Or.jsx)("dt",{className:oc,children:t("what_is_a_rf_license")}),(0,Or.jsx)("dd",{className:sc,children:(0,Or.jsx)(ei.A,{children:_})}),(0,Or.jsx)("dt",{className:oc,children:t("what_kinds_rf_files_istock")}),(0,Or.jsx)("dd",{className:sc,children:(0,Or.jsx)(ei.A,{children:h})}),(0,Or.jsx)("dt",{className:oc,children:t("how_to_use_rf_assets")}),(0,Or.jsx)("dd",{className:sc,children:(0,Or.jsx)(ei.A,{children:m})})]}),(0,Or.jsx)("hr",{className:rc}),(0,Or.jsx)("p",{className:ic,children:(0,Or.jsx)(ei.A,{children:g})})]})})}):null},uc=n(9975);function dc(){dc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new x(r||[]);return i(o,"_invoke",{value:A(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",_="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(j([])));S&&S!==n&&r.call(S,o)&&(b=S);var E=y.prototype=v.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,o,s){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function A(t,n,r){var i=f;return function(a,o){if(i===_)throw Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?h:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=h,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,i(E,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(E),l(E,c,"Generator"),l(E,o,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(n),!0).forEach((function(t){_c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hc(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function mc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){hc(a,r,i,o,s,"next",e)}function s(e){hc(a,r,i,o,s,"throw",e)}o(void 0)}))}}var vc=function(e,t){return e.filter((function(e){return e.id!==t}))},gc=function(e){return e.map((function(e){return new Promise((function(t){var n=new Image;n.onload=function(){t(n)},n.onerror=function(){t()},n.src=e.thumb612Url||e.thumbUrl}))}))},yc=function(e){return Promise.all(e).then((function(e){return e.filter((function(e){return e}))}))};function bc(){return(bc=mc(dc().mark((function e(t){var n,r,i,a,o,s;return dc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=uc.A.appendQueryParamsToString("/asset-detail/mosaics/visual-search",t),e.next=4,O().get(n,{headers:{Accept:"application/json"}});case 4:return r=e.sent,i=vc(r.data.assets,t.id),a=gc(i),o=yc(a),e.next=10,o;case 10:return s=e.sent.map((function(e,t){return pc(pc({},i[t]),{},{image:e.src})})),e.abrupt("return",{assets:s,totalNumberOfResults:r.data.totalNumberOfResults});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{assets:[],totalNumberOfResults:0});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function wc(){return(wc=mc(dc().mark((function e(t){var n,r,i,a,o;return dc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O().get("/asset-detail/mosaics/get-stack/".concat(t.stackId,"?assettype=").concat(t.assettype,"&pagesize=").concat(t.pagesize),{headers:{Accept:"application/json"}});case 3:return n=e.sent,r=vc(n.data.assets,t.id),i=gc(r),a=yc(i),e.next=9,a;case 9:return o=e.sent.slice(0,t.pagesize-1).map((function(e,t){return pc(pc({},r[t]),{},{image:e.src})})),e.abrupt("return",{assets:o,totalNumberOfResults:n.data.totalNumberOfResults});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{assets:[],totalNumberOfResults:0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var Sc=n(65235),Ec=n(71432),Oc=function(e){(0,d.C)(e)},Cc=function(e,t,n){e.sendItemSelectedSignal("subfold",n,"view_all_grid"),t.prepareEvent("search",{ui_element_location:"view_all_".concat(n,"_overlay_adp")});var r=(0,ms.j)({event_name:"search_".concat(n),search_selection:"view_all_asset_overlay_cta",ui_element_location:"mosaic_grid"});Oc(r)},Ac=function(e,t,n,r,i){var a,o,s=null!==(a=t.assetId)&&void 0!==a?a:t.id,c=(0,ms.j)({event_name:"".concat(r,"_click"),search_selection:s,ui_element_location:"mosaic_grid",search_grid_slot_number:n}),l=(0,Ec.A)({asset_interaction:"select_asset",asset_id:s,asset_type:"film"===t.assetType?"video":"image",asset_family:t.assetFamily,istock_collection:t.istockCollection,search_grid_slot_number:n,ui_element_location:i});o=l,(0,d.C)(o),Oc(c),e.sendItemSelectedSignal("subfold",r,s)},Ic={placeholderHeight:"aLEuO4fxsjJa5wvHUfPX"},Nc=n(37091);function Tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var jc=(0,Sc._h)({asyncImport:function(e){return Promise.resolve().then(n.bind(n,37091))},chunkName:function(e){return"MosaicGrid-MosaicGrid"},options:{}}),Pc=function(){return(0,Or.jsx)("div",{className:Ic.placeholderHeight,"data-testid":"mosaic-grid-placeholder"})},Dc=(0,va.A)((function(e){var t=e.increaseGridCounter,n=e.addTrackedGrid,i=(0,Xr.c)(),a=(0,kr.Z)(),o=(0,Ps.m)(),c=(0,s.d4)((function(e){return e.asset})),l=c.assetId,u=c.assetType,d=c.isImage,f=c.stackId,p=Tc((0,r.useState)(null),2),_=p[0],h=p[1];(0,r.useEffect)((function(){var e={id:l,stackId:f,assettype:u,pagesize:5},r=!0;return f&&(t(),function(e){return wc.apply(this,arguments)}(e).then((function(e){if(r){var t;h(e);var i=d?"same_series_images":"same_series_videos";(null==e||null===(t=e.assets)||void 0===t?void 0:t.length)>0?n(i):n(null)}})).catch((function(e){}))),function(){r=!1}}),[]);var m;return(0,Or.jsx)(Or.Fragment,{children:f&&0!==(null==_?void 0:_.assets.length)?_?_.assets.length>0?(0,Or.jsx)(jc,{data:_,isImage:d,containerStyles:Ic,header:i(d?"same_series_images":"same_series_videos"),linkText:i(d?"view_all_photos":"view_all_video_clips"),viewAllUrl:"/search/stack/".concat(f,"?assettype=").concat(d?"image":"film"),overlayText:i(d?"photos":"videos"),tracking:(m="same_series_".concat(d?"images":"videos"),{trackViewAllOverlay:function(){Cc(a,o,m)},trackAssetClick:function(e,t,n){Ac(a,e,t,m,n)}}),inGridCount:4,gridType:Nc.MOSAIC_GRID_TYPES.SINGLE_ROW}):null:(0,Or.jsx)(Pc,{}):null})}),"similar_series"),Lc={placeholderHeight:"dyci2fKWjtOQxtrC3X46"};function Rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Fc=(0,Sc._h)({asyncImport:function(e){return Promise.resolve().then(n.bind(n,37091))},chunkName:function(e){return"MosaicGrid-MosaicGrid"},options:{}}),Uc=function(){return(0,Or.jsx)("div",{className:Lc.placeholderHeight,"data-testid":"mosaic-grid-placeholder"})},Mc=(0,va.A)((function(e){var t=e.increaseGridCounter,n=e.addTrackedGrid,i=(0,Xr.c)(),a=(0,Zi.useExperience)("UseVisualSearchSRPVideoSimilars"),o=(0,kr.Z)(),c=(0,Ps.m)(),l=(0,Ds.Cz)(),u=(0,s.d4)((function(e){return e.asset})),d=u.assetId,f=u.assetType,p=u.mediaType,_=u.isImage,h=(0,s.d4)((function(e){return e.searchPhrase})),m=(0,s.d4)((function(e){return e.searchScope})),v=Rc((0,r.useState)(null),2),g=v[0],y=v[1];(0,r.useEffect)((function(){var e={assetid:d,assettype:f,mediatype:p};h&&"image"===f&&(e.phrase=h);var r=!0;return t(),function(e){return bc.apply(this,arguments)}(e).then((function(e){if(r){y(e);var t=_?"similar_images":"similar_videos";(null==e?void 0:e.assets.length)>0?n(t):n(null)}})),function(){r=!1}}),[]);var b=function(e){return{trackViewAll:function(){!function(e,t,n){e.sendItemSelectedSignal("subfold",n,"view_all"),t.prepareEvent("search",{ui_element_location:"view_all_".concat(n,"_adp")});var r=(0,ms.j)({event_name:"search_".concat(n),search_selection:"view_all_cta",ui_element_location:"mosaic_grid"});Oc(r)}(o,c,e)},trackViewAllOverlay:function(){Cc(o,c,e)},trackAssetClick:function(t,n,r){Ac(o,t,n,e,r)}}};return(0,Or.jsx)(Or.Fragment,{children:g?g.assets.length>0?(0,Or.jsx)(Fc,{data:g,isImage:_,containerStyles:Lc,header:i(_?"similar_images":"similar_films"),linkText:i(_?"view_all_photos":"view_all_video_clips"),viewAllUrl:a.isActive()?l.moreLikeThisPath(d,null,{assettype:f}):l.searchByAssetPath({assetid:d,assettype:f}),overlayText:i(_?"similar_images":"similar_films"),tracking:b(_?"similar_images":"similar_videos"),inGridCount:30,gridType:Nc.MOSAIC_GRID_TYPES.MULTI_ROW,searchScope:m}):null:(0,Or.jsx)(Uc,{})})}),"similar_assets"),Bc="cDB0XfdgBlHwrSf1wGRq";function Wc(e){return function(e){if(Array.isArray(e))return Hc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||Gc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gc(e,t){if(e){if("string"==typeof e)return Hc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hc(e,t):void 0}}function Hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Vc=function(){var e=zc((0,r.useState)([]),2),t=e[0],n=e[1],i=zc((0,r.useState)(0),2),a=i[0],o=i[1],s=function(){o((function(e){return e+1}))},c=function(e){n((function(t){return[].concat(Wc(t),[e])}))};return(0,r.useEffect)((function(){if(a>0&&t.length===a){var e=t.filter((function(e){return null!==e})).join(",");n=e,r=(0,ms.j)({event_name:"search_grid_shown",search_selection:n,ui_element_location:"mosaic_grid"}),Oc(r)}var n,r}),[t]),(0,Or.jsxs)("section",{className:Bc,children:[(0,Or.jsx)(Dc,{increaseGridCounter:s,addTrackedGrid:c}),(0,Or.jsx)(Mc,{increaseGridCounter:s,addTrackedGrid:c})]})},Yc=n(30134),Kc=function(e,t){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;"checkout"===t?n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?"?":"&":n=e.search(/\?/)<0?"?":"&";return e+=n+(r?"fastcheckoutasset=".concat(r):"in-pricing-clarity=true")},qc={getPricingUrl:function(e){return Kc(e,"pricing",!(arguments.length>1&&void 0!==arguments[1])||arguments[1])},getCheckoutUrl:function(e){return Kc(e,"checkout",!(arguments.length>1&&void 0!==arguments[1])||arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},Jc=qc,Qc=n(82171),Zc=n(85385),Xc=n(69825),$c=n(59816);function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){nl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rl=function(){var e=(0,lo.A)(),t=(0,s.d4)((function(e){return e.calc.selectedAssetSize})),n=(0,s.d4)((function(e){return e.calc.step.name})),r=(0,s.d4)((function(e){return e.calc.step.ctaAction})),i=(0,s.d4)((function(e){return e.calc.step.ctaTitle})),a=(0,s.d4)((function(e){return e.calc.step.triggerTracking})),o=(0,s.d4)((function(e){return e.calc.step.pricingOption})),c=(0,s.d4)((function(e){return e.buyCardData.pricingClarityPacks})),l=null==c?void 0:c[o],u=(0,s.d4)((function(e){return e.asset})),f=u.assetId,p=u.assetType,h=u.assetFamily,m=u.category,v=u.freeFile,g=(0,s.d4)((function(e){return e.calc.selectedAccount===pe.TEAM})),y=(0,s.d4)((function(e){return e.userDetails.team_leader})),b=(0,s.d4)((function(e){return e.userDetails.team_member})),w=(0,s.d4)((function(e){return e.calc.step.upsellData})),S=(0,s.d4)((function(e){return e.userDetails.currency_code})),E=(0,s.d4)((function(e){return e.calc.redownloadForFree})),O=function(){var t,n,r,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(i=a===(null==w||null===(t=w.product_one)||void 0===t?void 0:t.sku)?w.product_one:a===(null==w||null===(n=w.product_two)||void 0===n?void 0:n.sku)?w.product_two:l){var o=tl(tl({},i.toJS()),{},{location_id:e}),s=(0,Qc.A)({products:[o],download_flow:"fast_checkout_option",ui_element_location:e,billing_currency:S||i.currency_code,price:null===(r=i.final_price)||void 0===r?void 0:r.amount});(0,d.C)(s)}};return{track:function(){var i=null;switch(r){case ct.INITIATE_DOWNLOAD:i=(0,uo.A)({cta_selection:v?"start_free_download":"start_paid_download",cta_text:"Download this image",cta_url:void 0,download_flow:"no_checkout_option",ui_element_location:e});break;case ct.HANDLE_ACCOUNT_SELECTION:i=(0,Zc.A)({event_name:"choose_account",member_interaction:"choose_account",member_selection:g?"team_account":"personal_account",ui_element_location:e});break;case ct.REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL:i=(0,Xc.A)({event_name:"view_promotion",notification_description:"free_trial_sub",ui_element_location:"mobile_cta",item_id:"SUBISTOCKPREM10AF",creative_name:"mobile_cta",item_name:"istock_free_trial_subscription",item_category:"subscription"});break;case ct.CREATE_DOWNLOAD:i=(0,$c.A)({asset_details:{asset_id:f,asset_type:p,asset_family:h,asset_category:m,asset_size:t.name},download_selection:E?"redownload":v?"free_download":"paid_download",account_type:y?"leader":b?"team_member":"individual",download_flow:"download_confirm",ui_element_location:n===_.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP?"download_actions_licenses":"download_actions"});break;case ct.REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION:case ct.REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK:case ct.REDIRECT_TO_CHECKOUT:O()}null!=i&&(0,d.C)(i),a&&a()},trackCheckoutProduct:O,preserveAdpToPnpLegacyTracking:function(e){"undefined"!=typeof window&&window.$&&window.$.storageQueueManager.cookieStore.set("purchase-path-entry-point",e)},trackPlansAndPricingCtaClick:function(t){var n=(0,uo.A)({cta_interaction:"view_plans_and_pricing_cta_clicked",cta_selection:"view_plans_and_pricing",cta_text:i,cta_url:t,download_flow:"pnp_checkout_option",ui_element_location:e});(0,d.C)(n)}}},il=function(){var e=(0,Xr.c)(),t=(0,$r.F)(),n=rl(),i=(0,s.wA)(),a=(0,s.d4)((function(e){return e.redirectToUrl})),o=(0,s.d4)((function(e){return e.calc.isInPricingClarity})),c=(0,s.d4)((function(e){return e.calc.assetIsVideo})),l=(0,s.d4)((function(e){return e.calc.hasAvailableCredits})),u=(0,s.d4)((function(e){return e.calc.step.name})),d=(0,s.d4)((function(e){return e.calc.step.pricingOption})),f=(0,s.d4)((function(e){return e.calc.step.showPricingClarity})),p=(0,s.d4)((function(e){return e.calc.step.viewLicenseSelection})),_=(0,s.d4)((function(e){return e.userDetails.fast_checkout_subs_pack_sku})),h=(0,s.d4)((function(e){return e.userDetails.fast_checkout_subs_annual_pack_sku})),m=(0,s.d4)((function(e){return e.userDetails.istock_fast_checkout_larger_offer_credit_pack_sku})),v=(0,s.d4)((function(e){return e.userDetails.free_trial_premium_route})),g=(0,s.d4)((function(e){return e.userDetails.premium_video_subscription_enabled})),y=(0,s.d4)((function(e){return e.userDetails.standard_asset_credit_pack})),b=(0,s.d4)((function(e){return e.userDetails.country_code})),w=(0,s.d4)((function(e){return e.userDetails.has_subscription})),S=(0,s.d4)((function(e){return e.asset.assetId})),E=(0,s.d4)((function(e){return e.buyCardData.mubRedirectUrl})),O=(0,s.d4)((function(e){return e.buyCardData.basicSelfServeUpgrade})),C=(0,s.d4)((function(e){return e.buyCardData.enhancedPPVUpgrade})),A=(0,s.d4)((function(e){return e.buyCardData.higherVolumeSelfUpgrade})),I=(0,s.d4)((function(e){return e.buyCardData.singleTierPremiumNewCustomerOffer})),N=(0,s.d4)((function(e){return e.buyCardData.pricingClarityPacks})),T=(0,Zi.useExperience)("PnpVideoFocusTest"),x=function(n){if(n===E||n.includes("sign-in"))return n;var r="/".concat(e(n));return function(n){return/(.*)JS translation missing(.*)/.test(n)?t.cleanPath(e("urls.plans_and_pricing")):n}(t.cleanPath(r))},j=function(){return T.isActive()&&c?(e=x(a),uc.A.appendQueryParamsToString(e,{videofocus:!0})):x(a);var e},P=function(e){return window.location.href=e};(0,r.useEffect)((function(){a&&P(j())}),[a]);var D=function(){var e;return d===Pt.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK?m:null!=y&&y.product_sku?y.product_sku:null==N||null===(e=N[d])||void 0===e?void 0:e.product_sku},L=function(){return o&&f&&!p},R=function(){return x(Dn.annualSelfUpgradeRoute)},k=function(e){var n=t.addSubscription(e,{upgrade:!0});return t.cleanPath(Jc.getCheckoutUrl(n,!1,S))},F=function(){return x(Dn.pnpCreditsRoute)};return{redirectToPricing:function(){d===Pt.PRICING_OPTION_PRICING&&"PICK_PRICING_CLARITY_PAYMENT_OPTION"===u&&n.preserveAdpToPnpLegacyTracking("adp-subscription");var e=x(Dn.getPricingRoute(c));return L()&&!g?e=t.cleanPath(Jc.getPricingUrl(e)):T.isActive()&&"TestA"===T.activeOffer()&&c&&!l&&!w?e=x(Dn.videoPnpRoute):O.eligible||C.eligible||A.eligible?e=F():!c&&It.inGeoLocPricingTest(b)&&(e=x(Dn.defaultPnpRoute)),T.isActive()&&c&&!l&&!w?e=uc.A.appendQueryParamsToString(e,{videofocus:!0}):c&&l&&!w&&(e=x(Dn.videoPnpSubsRoute)),n.trackPlansAndPricingCtaClick(e),P(e)},redirectToFastCheckoutWithSubscription:function(){var e={},n=!0;I&&(e.premNco=!0,n=!1);var r=t.addSubscription(_,e);return r=t.cleanPath(Jc.getCheckoutUrl(r,n,S)),P(r)},pnpCreditsUrl:F,fastCheckoutWithUpgradeUrl:k,redirectToFastCheckoutWithUpgrade:function(e){var t=k(e);return n.trackCheckoutProduct(e),P(t)},redirectToFastCheckoutWithAnnualPack:function(){var e=t.addSubscription(h);return e=t.cleanPath(Jc.getCheckoutUrl(e,!0,S)),P(e)},redirectToCheckout:function(){var e,r=D();return n.preserveAdpToPnpLegacyTracking("adp-creditPack"),e=t.creditPackCheckout(r),L()&&(e=t.cleanPath(Jc.getCheckoutUrl(e,!0,S))),P(e)},redirectToCheckoutWithFreeTrial:function(){return P(v?t.addFreeTrial({premium:!0,ftsfastcheckout:!0}):t.addFreeTrial({ftsfastcheckout:!0}))},handleAccountSelection:function(){return i(Ie.goToNextStep())},redirectToCreditPacks:function(){var e=Dn.getCreditsPricingRoute(c),t=x(e);return P(t)},translateCleanAndValidatePath:x,redirectToFastCheckout:function(){var e=D(),n=t.creditPackCheckout(e,{asset_type:"film"});return n=t.cleanPath(Jc.getCheckoutUrl(n,!1,S)),P(n)},redirectToUrlFromState:function(){P(j())},redirectToPPVUpgradeContactUs:function(){P("/customer-support/upgrade")},selfServeUpgradeUrl:R,redirectToSelfServeUpgrade:function(){return P(R())},higherVolumeUpgradeRedirectUrl:function(){return"".concat(t.cleanPath("/plans-and-pricing/self-serve"),"?target=volume&assetcarryingpnp=true")},upgradePlanRedirectUrl:function(){return"".concat(t.cleanPath("/plans-and-pricing/self-serve"),"?target=premium&assetcarryingpnp=true")}}},al=["styles"];function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ol.apply(null,arguments)}var sl=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,al);return i().createElement("svg",ol({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M10 19.5C4.776 19.5.5 15.224.5 10S4.776.5 10 .5s9.5 4.276 9.5 9.5-4.276 9.5-9.5 9.5z",fill:"#fff",stroke:"#AEDDD6"}),i().createElement("path",{d:"M9.145 5v5.922h1.71V5h-1.71zM11 13.094c0-.558-.436-.927-.994-.927-.56 0-1.006.369-1.006.927 0 .559.447.939 1.006.939.558 0 .994-.38.994-.939z",fill:"#02A388"}))},cl="s7zJ6flazXeb0i1UtVug",ll="YpbZgjd7r4dFQ5htn7BP",ul="MT19e4f4g7osxjGa14ce",dl="KW3Kdz6_SS6SmSmR7bul",fl="nvLTNVscW2f7ZO2VzdSQ",pl=["styles"];function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(null,arguments)}var hl=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,pl);return i().createElement("svg",_l({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M10 20C4.5 20 0 15.5 0 10S4.5 0 10 0s10 4.5 10 10-4.5 10-10 10z",fill:"#666E6E"}),i().createElement("path",{d:"M10 12.4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5zm.6-1.2H9.4L8.7 7V4.8c0-.1.1-.2.2-.2H11c.1 0 .2.1.2.2V7l-.6 4.2z",fill:"#fff"}))},ml=n(86583),vl="e4wiKtVSGO_8Jm8QnhHl",gl="aiBo2I8GKiFYKvA1MS3w",yl="dHYSF5dr9VZc4DurQWPN",bl="IOvPEbM1g30GyUL4pXD4",wl="QKxLIZgNOzKPzIPrhX_Y",Sl="ERyIVRSgtC1MXTTeboU6",El="sbHky8ZLIEpFcKZvtRQl",Ol="zjAhVEAOetjA2NRWwVIg",Cl="Pz6NQQghsn_UJ_dpKKzd",Al="ceQbTDLlCsDJV1l1OKbn",Il=(0,va.A)((function(e){var t,n,r,i,a,o=e.onReasonForWarningClick,c=e.handleReasonForWarningClick,l=e.handleAdditionalInfoWarningClick,u=e.handleAdditionalInfoWarningKeyDown,d=e.warningCtaClicked,f=(0,Xr.c)(),p=(0,Ea.Y)(),_=(0,s.wA)(),h=(0,s.d4)((function(e){return e.calc.step.reasonForBox})),m=(0,s.d4)((function(e){return e.calc.step.warningCta})),v=(0,s.d4)((function(e){return e.userDetails})),g=(0,s.d4)((function(e){return e.calc.step.persistentWarning})),y=(0,s.d4)((function(e){return e.calc.step.premiumVideoEnabled})),b=(0,s.d4)((function(e){return e.calc.step.userHasAnnualSubscription})),w=(0,s.d4)((function(e){return e.calc.step.reasonForBoxLink})),S=(0,s.d4)((function(e){return e.calc.step.additionalInfoHtml})),E=il().translateCleanAndValidatePath,O=function(){_(Ie.closeDownloadErrorMessage())};return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)("section",{className:vl,children:[!g&&(0,Or.jsx)("div",{className:"adp-file-cancel-button-wrapper ".concat(gl),"data-testid":"warning-box-close",children:(0,Or.jsx)("div",{role:"button",tabIndex:0,className:"adp-confirm-close-btn",onClick:O,onKeyDown:function(e){"Enter"===e.key&&O()}})}),(0,Or.jsx)("div",{className:ul,children:(0,Or.jsxs)("div",{role:"button",tabIndex:0,onClick:o,onKeyDown:c,className:"title ".concat(wl),"data-testid":"reason-for-warning",children:[(0,Or.jsx)("div",{className:"".concat(yl," ").concat(b?bl:""),children:(0,Or.jsx)(hl,{className:fl})}),(0,Or.jsx)("div",{children:(0,Or.jsx)(ei.A,{children:(a={},w&&(a.links=[{href:E(w),id:"reason-for-warning"}]),f(y?b?"video_not_available_with_annual_subscription_test_group":"video_not_available_with_monthly_subscription_test_group":h,a))})})]})})]}),(0,Or.jsx)("section",{className:Cl,"data-testid":"warning-box",children:(0,Or.jsxs)("div",{className:"download-box ".concat(Al),"data-testid":"warning-box-warning",children:[(0,Or.jsx)("div",{className:"warning-message ".concat(Ol),"data-testid":"warning-message",onClick:l,onKeyDown:u,children:(0,Or.jsxs)("div",{children:[(0,Or.jsx)("span",{className:El,children:(n=S.translationVariables.credit_amount,(r=null==v?void 0:v.standard_asset_credit_pack)&&void 0!==r.price&&(n=(0,ml.v)(r.price,p,v.currency_code,{minimumFractionDigits:0}).formattedPrice),i=n,f("amount_for_clip",{clip_amount:i}))}),(0,Or.jsx)("br",{}),(0,Or.jsx)("span",{className:Sl,children:(t={credit_units:S.translationVariables.credit_cost},f("when_you_buy_credits",t))})]})}),m&&(0,Or.jsxs)("div",{className:"warning-cta ".concat(m.ctaClass),"data-testid":"warning-cta",children:[m.url&&(0,Or.jsx)("a",{className:"warning-cta__text",href:m.url,onClick:d,"data-testid":"warning-cta-url",children:"".concat(f(m.tag)," >")}),!m.url&&(0,Or.jsx)("span",{className:"warning-cta__text",children:f(m.tag)})]})]})})]})}),"test_user_warning_box");function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jl=(0,va.A)((function(){var e=(0,s.d4)((function(e){return e.calc.step.videoCreditPackFCO})),t=(0,s.wA)(),n=(0,Xr.c)(),r=(0,s.d4)((function(e){return e.calc.step.warningClass})),i=(0,s.d4)((function(e){return e.calc.step.reasonForBox})),a=(0,s.d4)((function(e){return e.calc.step.reasonForBoxLink})),o=(0,s.d4)((function(e){return e.calc.step.warningMessageClass})),c=(0,s.d4)((function(e){return e.calc.step.warningCta})),l=(0,s.d4)((function(e){return e.calc.step.additionalInfoHtml})),u=(0,s.d4)((function(e){return e.calc.step.additionalInfoHtmlLink})),f=(0,s.d4)((function(e){return e.calc.step.persistentWarning})),p=(0,s.d4)((function(e){return e.calc.step.triggerTracking})),_=(0,s.d4)((function(e){return e.calc.step.lightBlueWarning})),h=il().translateCleanAndValidatePath,m=(0,lo.A)(),v=function(){return p()},g=function(e,t){var n=(0,uo.A)({cta_interaction:"cta_clicked",cta_text:e,cta_url:t,ui_element_location:m,download_flow:"pnp_checkout_option"});(0,d.C)(n)},y=function(e){"reason-for-warning"===e.target.id&&v(),null!=a&&a.includes("urls.plans_and_pricing")&&g(i,h(a))},b=function(e){"Enter"===e.key&&v()},w=function(e){var t;if("A"===e.target.tagName&&null!=u&&null!==(t=u.href)&&void 0!==t&&t.includes("urls.plans_and_pricing")){var n=h(u.href);g(l.tag,n)}},S=function(){var e={};return a&&(e.links=[{href:h(a),id:"reason-for-warning"}]),n(i,e)};return e?(0,Or.jsx)(Il,{onReasonForWarningClick:y,handleAdditionalInfoWarningClick:w,handleAdditionalInfoWarningKeyDown:w,handleReasonForWarningClick:b}):(0,Or.jsxs)("section",{className:"download-box ".concat(_?ll:""),"data-testid":"warning-box",children:[!f&&(0,Or.jsx)("div",{className:"adp-file-cancel-button-wrapper","data-testid":"warning-box-close",children:(0,Or.jsx)(ca.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",onClick:function(){t(Ie.closeDownloadErrorMessage())}})}),(0,Or.jsxs)("div",{className:"box ".concat(r),"data-testid":"warning-box-warning",children:[_?(0,Or.jsxs)("div",{className:ul,"data-testid":"light-blue-warning",children:[(0,Or.jsx)(sl,{className:fl}),i&&(0,Or.jsx)("div",{role:"button",tabIndex:0,onClick:y,onKeyDown:b,className:"title ".concat(dl),"data-testid":"reason-for-warning",children:(0,Or.jsx)(ei.A,{children:S()})})]}):(0,Or.jsxs)("div",{children:[(0,Or.jsx)("div",{className:"error-icon"}),i&&(0,Or.jsx)("div",{role:"button",tabIndex:0,onClick:y,onKeyDown:b,className:"title ".concat(l?cl:""),"data-testid":"reason-for-warning",children:(0,Or.jsx)(ei.A,{children:S()})})]}),l&&(0,Or.jsx)("div",{className:"warning-message ".concat(o),"data-testid":"warning-message",onClick:w,onKeyDown:function(e){"Enter"===e.key&&w()},children:(0,Or.jsx)(ei.A,{children:(u&&(l.translationVariables.links=[Tl(Tl({},Object.fromEntries(u)),{},{href:h(u.href)})]),n(l.tag,l.translationVariables))})}),c&&(0,Or.jsxs)("div",{className:"warning-cta ".concat(c.ctaClass),"data-testid":"warning-cta",children:[c.url&&(0,Or.jsx)("a",{className:"warning-cta__text",href:c.url,"data-testid":"warning-cta-url",children:"".concat(n(c.tag)," >")}),!c.url&&(0,Or.jsx)("span",{className:"warning-cta__text",children:n(c.tag)})]})]})]})}),"warning_box"),Pl=n(62092),Dl=n(36750),Ll=function(e){var t=e.postContent,n=e.className,r=e.preContent,i=e.checked,a=e.children,o=e.onChange,s=e.value,c=e.name,l=e.id;return(0,Or.jsxs)("div",{className:Kr()("purchase-choice",n,{"purchase-choice--selected":i,"radio-button-selected":i}),"data-testid":"radio-button",children:[(0,Or.jsxs)("label",{htmlFor:l,children:[r,(0,Or.jsxs)("div",{className:"purchase-choice__control",children:[(0,Or.jsx)("div",{className:"radio-button",children:(0,Or.jsx)("input",{onChange:function(){o()},"data-testid":"radio-button--input__".concat(l),type:"radio",value:s,name:c,id:l,checked:i})}),(0,Or.jsx)("div",{children:a})]})]}),t&&t]})};Ll.defaultProps={className:"",preContent:null,postContent:null,checked:!1,id:null,onChange:function(){},value:null};var Rl=Ll,kl=function(e){var t=e.option,n=e.selectedPricingOption,r=e.selectPricingClarityOptionToggle,i=(0,s.d4)((function(e){return e.buyCardData.pricingClarityTranslations.firstRadioContent})),a=""!==i.sub_content,o=void 0!==(null==i?void 0:i.tertiary_content);return(0,Or.jsx)(Rl,{onChange:function(){n!==t&&r(t)},value:"checkout",checked:n===t,name:"purchase-choice",id:"firstRadio",children:(0,Or.jsxs)("div",{className:"purchase-type",children:[(0,Or.jsx)("div",{className:"purchase-type__text purchase-type--bold","data-testid":"first-radio-content",children:(0,Or.jsx)(ei.A,{children:null==i?void 0:i.main})}),a&&(0,Or.jsx)("div",{className:"purchase-type__sub-text purchase-type__sub-text--savings","data-testid":"first-radio-sub-content",children:(0,Or.jsx)(ei.A,{children:null==i?void 0:i.sub_content})}),o&&(0,Or.jsx)("div",{className:"purchase-type__ter-text","data-testid":"first-radio-tertiary-content",children:(0,Or.jsx)(ei.A,{children:i.tertiary_content})})]})})};kl.defaultProps={selectedPricingOption:null};var Fl=kl,Ul={badge:"MnOXttMlK_n19IlHSCSb"},Ml=function(e){var t=e.children,n=e.className,r=[Ul.badge,n].join(" ");return(0,Or.jsx)("span",{className:r,children:t})};Ml.defaultProps={className:""};var Bl=Ml,Wl="fLtti_CGCgXIeRSOaVJN",zl="IhFfZJcLdZfiZOv3WCiA",Gl="pJrO8pPNWqfon7mJY8zc",Hl=function(){var e=(0,$r.F)(),t=(0,Ea.Y)(),n=(0,Xr.c)(),r=(0,s.d4)((function(e){return e.userDetails.free_trial_premium_route})),i=(0,s.d4)((function(e){return e.buyCardData.freeTrialSubscriptionEssentialsMonthlyPrice})),a=(0,s.d4)((function(e){return e.buyCardData.freeTrialSubscriptionSignatureMonthlyPrice})),o=(0,s.d4)((function(e){return e.userDetails.currency_code})),c=e.cleanPath("/plans-and-pricing/free-trial-subscription"),l=n(r?"get_any_10_images":"get_10_essentials_images"),u=r?a:i,f=(0,ml.v)(u,t,o,{minimumFractionDigits:0,includeCents:!1}).formattedPrice;return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)("ul",{className:Wl,"data-testid":"free-trial-bullet-points",children:[(0,Or.jsx)("li",{className:zl,children:l}),(0,Or.jsx)("li",{className:zl,children:n("first_month_free_then_price_per_month",{price:f})}),(0,Or.jsx)("li",{className:zl,children:n("cancel_anytime_during_your_trial_month")})]}),(0,Or.jsx)("a",{className:Gl,onClick:function(){var e=(0,uo.A)({cta_interaction:"cta_clicked",cta_text:"Learn more about the Free Trial",cta_url:c,ui_element_location:"adp_buy_card"});(0,d.C)(e)},href:c,children:n("learn_more_about_the_free_trial_right_quote")})]})},Vl="Bckg9G0LCGnPwBO2KP4F",Yl=function(e){var t=e.option,n=e.selectedPricingOption,i=e.selectPricingClarityOptionToggle,a=e.showNewCustomerPPVOffer,o=e.postContent,c=e.secondRadioContent,l=e.radioButtonTitle,u=e.radioButtonSubContent,d=(0,Xr.c)(),f=(0,s.d4)((function(e){return e.userDetails.fast_checkout_sub_savings})),p=(0,s.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),_=(0,s.d4)((function(e){return e.userDetails.free_trial_subscription_multivariant_eligible})),h=(0,s.d4)((function(e){return e.buyCardData.singleTierPremiumNewCustomerOffer})),m=p&&_,v=void 0!==(null==c?void 0:c.tertiary_content),g=function(){return m?d("one_month_free_trial_caps"):a?d("new_customer_price"):h?d("new_prem_sub_offer_all_caps"):null};return(0,r.useEffect)((function(){a&&(window.tracking_data.merchandising_units="ppv_new_customer_offer_adp_module")})),(0,Or.jsxs)(Rl,{onChange:function(){n!==t&&i(t)},name:"purchase-choice",value:t,id:"secondRadio",checked:n===t,postContent:o,children:[g()&&(0,Or.jsx)(Bl,{className:m||a?Vl:"",children:(0,Or.jsx)(ei.A,{children:g()})}),(0,Or.jsx)("div",{className:"purchase-type ".concat(f?"purchase-type--bold":""),"data-test-id":"second-radio-main-content",children:(0,Or.jsx)(ei.A,{children:l})}),u&&(0,Or.jsx)("div",{className:"purchase-type__sub-text ".concat(f?"purchase-type__sub-text--savings":""),"data-testid":"second-radio-sub-content",children:(0,Or.jsx)(ei.A,{children:u})}),v&&(0,Or.jsx)("div",{className:"purchase-type__ter-text","data-testid":"second-radio-tertiary-content",children:(0,Or.jsx)(ei.A,{children:c.tertiary_content})}),m&&(0,Or.jsx)(Hl,{})]})};Yl.defaultProps={selectPricingClarityOptionToggle:function(){},selectedPricingOption:null,showNewCustomerPPVOffer:!1,postContent:null,radioButtonTitle:"",radioButtonSubContent:"",secondRadioContent:null};var Kl=Yl,ql="RGwBdiHCCgKvjXW75qBa";function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach((function(t){Zl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eu=(0,va.A)((function(){var e=(0,Xr.c)(),t=(0,lo.A)(),n=Xl((0,r.useState)(!1),2),i=n[0],a=n[1],o=(0,s.d4)((function(e){return e.buyCardData.showPricingClarityDurationToggle})),c=(0,s.d4)((function(e){return e.calc.step.pricingOption})),l=(0,s.d4)((function(e){return e.userDetails.videoPricingClarityVariance})),u=(0,s.d4)((function(e){return e.userDetails.new_customer_ppv_offer})),f=(0,s.d4)((function(e){return e.buyCardData.pricingClarityTranslations.secondRadioContent})),p=(0,s.d4)((function(e){return e.buyCardData.pricingOptions.firstRadioOption})),_=(0,s.d4)((function(e){return e.buyCardData.pricingOptions.secondRadioOption})),h=0!==f.size,m=h?o?i?Pt.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:Pt.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:_:null,v=(0,s.d4)((function(e){return e.buyCardData.pricingClarityPacks})),g=(0,s.wA)(),y=function(e){g(Ie.selectPricingClarityOptionToggle(e))},b=Xl((0,r.useState)(o?f.alt_main_content:f.main),2),w=b[0],S=b[1],E=Xl((0,r.useState)(o?f.alt_sub_content:f.sub_content),2),O=E[0],C=E[1],A=function(e){var n=e.map((function(e){return v[e]})).filter((function(e){return!!e})).map((function(e){return Ql(Ql({},e.toJS()),{},{location_id:t})})),r=(0,Dl.A)({products:n,ui_element_location:t});(0,d.C)(r)};(0,r.useEffect)((function(){if(o){var e=i?Pt.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:Pt.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE;if(e!==c){var t=Xl(i?[f.main,f.sub_content]:[f.alt_main_content,f.alt_sub_content],2),n=t[0],r=t[1];y(e),C(r),S(n),A([m])}}}),[i]);return(0,r.useEffect)((function(){A([p,m])})),(0,Or.jsxs)("section",{className:"pricing-clarity","data-testid":"pricing-clarity-options",children:[l&&(0,Or.jsx)("hr",{"data-testid":"hr"}),(0,Or.jsx)(Fl,{option:p,selectedPricingOption:c,selectPricingClarityOptionToggle:y}),h&&(0,Or.jsx)(Kl,{option:m,selectedPricingOption:c,selectPricingClarityOptionToggle:y,showNewCustomerPPVOffer:u,secondRadioContent:f,radioButtonTitle:w,radioButtonSubContent:O,postContent:o?(0,Or.jsx)("div",{className:"toggle-wrapper","data-testid":"duration-toggle",children:(0,Or.jsx)(Pl.Ay,{id:"annual-monthly",className:ql,checked:i,onChange:function(e){var t=e.target.checked;a(t)},variant:Pl.F3.SECONDARY,checkedLabel:e("month_to_month"),uncheckedLabel:e("annual_plan")})}):null}),(0,Or.jsx)("hr",{})]})}),"pricing_clarity_options"),tu=function(e){var t=e.onSetSelectedAgreementType,n=e.selectedAgreementType,r=(0,s.d4)((function(e){return e.calc.totalCreditCost})),i=(0,s.d4)((function(e){return e.calc.selectedAccountCredits})),a=(0,s.d4)((function(e){return e.calc.step.creditsAvailable})),o=(0,Xr.c)(),c=te.CREDIT_PACK,l=function(){n!==c&&a&&t(c)};return(0,Or.jsx)("div",{role:"radio","aria-checked":n===c,tabIndex:0,className:"purchase-choice ".concat(n===c&&"purchase-choice--selected radio-button-selected"," ").concat(!a&&"purchase-choice--unavailable radio-button-disabled"),onClick:l,onKeyPress:function(e){"Enter"===e.key&&l()},"data-testid":"radio-button",children:(0,Or.jsxs)("div",{className:"purchase-choice__control",children:[(0,Or.jsx)("div",{className:"radio-button",children:(0,Or.jsx)("input",{type:"radio","data-testid":"radio",value:"credits",name:"purchase-choice",id:"credits"})}),(0,Or.jsxs)("label",{htmlFor:"credits","data-testid":"label",children:[(0,Or.jsxs)("div",{className:"purchase-type",children:[r>1&&(0,Or.jsx)("span",{children:o("more_than_one_credit",{zero:r})}),1===r&&(0,Or.jsx)("span",{children:o("one_credit")})]}),(0,Or.jsx)("div",{className:"amount-remaining",children:o("credit_balance_available",{credit_balance:i})})]})]})})};tu.defaultProps={selectedAgreementType:null};var nu=tu,ru=function(e){var t=e.onSetSelectedAgreementType,n=e.selectedAgreementType,r=(0,s.d4)((function(e){return e.calc.step.subsAvailable})),i=(0,s.d4)((function(e){return e.calc.step.subDownloadsTranslationValue})),a=(0,s.d4)((function(e){return e.calc.step.subTitleTranslation})),o=(0,Xr.c)(),c=te.ROYALTY_FREE_SUBSCRIPTION,l=function(){n!==c&&r&&t(c)};return(0,Or.jsx)("div",{className:"purchase-choice ".concat(n===c&&"purchase-choice--selected radio-button-selected"," ").concat(!r&&"purchase-choice--unavailable radio-button-disabled"),onClick:l,onKeyPress:function(e){"Enter"===e.key&&l()},"data-testid":"radio-button",role:"radio",tabIndex:0,"aria-checked":n===c,children:(0,Or.jsxs)("div",{className:"purchase-choice__control",children:[(0,Or.jsx)("div",{className:"radio-button",children:(0,Or.jsx)("input",{type:"radio",value:"subscription",name:"purchase-choice",id:"subscription","data-testid":"radio"})}),(0,Or.jsxs)("label",{htmlFor:"subscription","data-testid":"label",children:[(0,Or.jsx)("div",{className:"purchase-type",children:o(a)}),(0,Or.jsx)("div",{className:"amount-remaining",children:o("subscription_downloads_remaining",{downloads_remaining:i})})]})]})})};ru.defaultProps={selectedAgreementType:null};var iu=ru,au=function(){var e=(0,s.wA)(),t=(0,s.d4)((function(e){return e.calc.selectedAgreementType})),n=(0,s.d4)((function(e){return e.calc.step.showSubscriptionField})),r=(0,Xr.c)(),i=function(t){e(Ie.setSelectedAgreementType(t))};return(0,Or.jsxs)("section",{className:"adp-download-choices","data-testid":"download-choices",children:[(0,Or.jsx)("div",{className:"title",children:r("how_will_you_pay")}),(0,Or.jsx)("hr",{}),n&&(0,Or.jsx)(iu,{selectedAgreementType:t,onSetSelectedAgreementType:i}),(0,Or.jsx)("hr",{}),(0,Or.jsx)(nu,{selectedAgreementType:t,onSetSelectedAgreementType:i}),(0,Or.jsx)("hr",{})]})},ou=function(e){var t=e.selectedAccount,n=e.setSelectedAccountChoiceOption,r=(0,Xr.c)(),i=pe.PERSONAL,a=function(){n(i)};return(0,Or.jsxs)("div",{role:"radio",tabIndex:0,"aria-checked":t===i,className:"account-choice-container ".concat(t===i?"selected radio-button-selected":""),onClick:a,onKeyPress:function(e){"Enter"===e.key&&a()},"data-testid":"radio-button",children:[(0,Or.jsx)("div",{className:"radio-button",children:(0,Or.jsx)("input",{type:"radio",name:"account-choice",value:i,"data-testid":"radio",id:"personal"})}),(0,Or.jsx)("label",{"data-testid":"label",htmlFor:"personal",children:(0,Or.jsx)("div",{className:"account-type",children:r("download_using_my_account")})})]})};ou.defaultProps={selectedAccount:null};var su=ou,cu=function(e){var t=e.selectedAccount,n=e.setSelectedAccountChoiceOption,r=(0,s.d4)((function(e){return e.userDetails.team_name})),i=pe.TEAM,a=(0,Xr.c)(),o=function(){n(i)};return(0,Or.jsxs)("div",{role:"radio",tabIndex:0,"aria-checked":t===i,className:"account-choice-container ".concat(t===i?"selected radio-button-selected":""),onClick:o,onKeyPress:function(e){"Enter"===e.key&&o()},"data-testid":"radio-button",children:[(0,Or.jsx)("div",{className:"radio-button",children:(0,Or.jsx)("input",{type:"radio",name:"account-choice",value:i,id:"team","data-testid":"radio"})}),(0,Or.jsx)("div",{className:"company-icon"}),(0,Or.jsx)("label",{"data-testid":"label",htmlFor:"team",children:(0,Or.jsx)("div",{className:"account-type",children:a("download_on_behalf_of_the_team",{name:r})})})]})};cu.defaultProps={selectedAccount:null};var lu=cu;function uu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return du(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?du(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fu=function(){var e=(0,s.d4)((function(e){return e.calc.selectedAccount})),t=(0,s.wA)(),n=uu((0,r.useState)(e),2),i=n[0],a=n[1],o=function(e){t(Ie.setSelectedAccount(e)),a(e)};return(0,Or.jsxs)("section",{className:"adp-account-choices","data-testid":"account-choices",children:[(0,Or.jsx)("hr",{}),(0,Or.jsx)(su,{selectedAccount:i,setSelectedAccountChoiceOption:o}),(0,Or.jsx)("hr",{}),(0,Or.jsx)(lu,{selectedAccount:i,setSelectedAccountChoiceOption:o}),(0,Or.jsx)("hr",{})]})},pu=["styles"];function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(null,arguments)}var hu=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,pu);return i().createElement("svg",_u({xmlns:"http://www.w3.org/2000/svg",width:"60",height:"44.5",viewBox:"0 0 60 44.5"},t),i().createElement("path",{fill:"#FFF",d:"M19.75 22.302l2.851-2.851 5.701 5.702L39.705 13.75l2.851 2.851-14.254 14.253z"}))},mu=function(){var e=(0,s.wA)(),t=Bo(),n=(0,kr.Z)(),r=(0,s.d4)((function(e){return e.calc.step})).dropboxEnabled,i=(0,s.d4)((function(e){return e.buyCardData})).mubRedirectUrl,a=(0,s.d4)((function(e){return e})).asset,o=(0,s.d4)((function(e){return e.calc})),c=o.selectedAssetSize,l=o.selectedAgreementSize,u=o.selectedAgreementType,d=(0,Wr.A)(),f=d.imageIsEdited,p=d.editDetails,_=(0,Gr.A)().clearEditsPendingForDownload,h=(0,zr.A)().setShowOverlay;return{createDownload:function(){return l?(t.setAssetDetailTrackingData("asset_size",c.name),n.sendAssetDownloadedSignal(a,{agreement_type:u}),e(fe(window.korrelationId,i,r,f,_,h,null==p?void 0:p.imageState))):e(ae("download_failed"))}}},vu=n(15531),gu=(0,Zo.A)("plans_and_pricing","./PlansAndPricing"),yu=function(e){var t,n=e.asset,i=e.testVariation,a=e.onClose,o=(0,Rr.Jd)(),s=(0,Xo.Z)();return(0,Or.jsx)("div",{"data-testid":"mini-pnp-container",children:(0,Or.jsx)(r.Suspense,{children:(t=(0,Or.jsx)(gu,{payload:{user:o,site:s,asset:n,testVariation:i,onClose:a}}),(0,Or.jsx)(vu.A,{children:t}))})})},bu="gTohuItovlNtAwu_K5ti",wu="FsO0VaojVsVdZGuz3txe";function Su(){Su=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new x(r||[]);return i(o,"_invoke",{value:A(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",_="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(j([])));S&&S!==n&&r.call(S,o)&&(b=S);var E=y.prototype=v.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,o,s){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function A(t,n,r){var i=f;return function(a,o){if(i===_)throw Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?h:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=h,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,i(E,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(E),l(E,c,"Generator"),l(E,o,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Eu(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var Ou={"super-cta":gi.Jr.PRIMARY,"primary-cta":gi.Jr.SECONDARY,"hollow-cta":gi.Jr.HOLLOW},Cu=function(e){var t,n=e.validateEpsPickerAndSave,r=e.isEpsFormatTest,i=e.epsFormatCtaTitle,a=il(),o=rl(),c=(0,Xr.c)(),l=(0,s.wA)(),u=mu(),d=(0,s.d4)((function(e){return e.calc.ctaInProgress})),f=(0,s.d4)((function(e){return e.calc.step.ctaAction})),p=(0,s.d4)((function(e){return e.calc.step.ctaClass})),_=(0,s.d4)((function(e){return e.calc.step.ctaTitle})),h=(0,s.d4)((function(e){return e.calc.step.ctaTranslationVariables})),m=(0,s.d4)((function(e){return e.calc.step.completeSection})),v=(0,s.d4)((function(e){return e.calc.step.confirmSection})),g=(0,s.d4)((function(e){return!e.calc.step.hideDownloadButton})),y=(0,s.d4)((function(e){return e.asset})),b=null!==(t=Ou[p])&&void 0!==t?t:gi.Jr.PRIMARY,w=(0,s.d4)((function(e){return e.redirectToUrl})),S=(0,s.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),E=(0,s.d4)((function(e){return e.mobileSimplification})),O=Ta(),C=(0,s.d4)((function(e){return e.calc.isMiniPnpOpen})),A=(0,s.d4)((function(e){return e.userDetails.mini_pnp_active})),I=(0,Wr.A)().imageIsEdited,N=(0,zr.A)().setShowOverlay,T=S&&E,x=function(){var e,t=(e=Su().mark((function e(t){return Su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r||n()){e.next=3;break}return e.abrupt("return");case 3:if(o.track(),l(Ie.setCtaInProgress(!0)),!Ie[f]){e.next=14;break}if(!w){e.next=10;break}a.redirectToUrlFromState(),e.next=12;break;case 10:return e.next=12,l(Ie[f]());case 12:e.next=23;break;case 14:if(f!==ct.CREATE_DOWNLOAD){e.next=21;break}return O(),I&&N(!0),e.next=19,u[f]();case 19:e.next=23;break;case 21:return e.next=23,a[f]();case 23:l(Ie.setCtaInProgress(!1));case 24:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Eu(a,r,i,o,s,"next",e)}function s(e){Eu(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),j=m?(0,Or.jsx)(gi.Ay,{"data-testid":"complete-button",disabled:m,className:wu,variant:b,size:gi.Ni.LARGE,fullWidth:!0,children:(0,Or.jsx)("span",{className:"white-checkmark",children:(0,Or.jsx)(hu,{})})}):(0,Or.jsx)(gi.Ay,{id:"download-button",type:"submit","data-testid":"download-button",onClick:x,disabled:d,className:wu,variant:b,size:gi.Ni.LARGE,fullWidth:!0,children:d?(0,Or.jsx)(Mr.A,{"data-testid":"spinner",className:bu}):_?T?c("download_for_free"):function(){if(r){var e=i(),t=e.download,n=e.confirm,a=f===ct.INITIATE_DOWNLOAD?t:n;return c(a)}return c(_,h)}():null}),P=v?(0,Or.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,Or.jsx)(ca.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){l(Ie.cancelDownload())}})}):null;return(0,Or.jsxs)("section",{className:"adp-file-confirm-cancel-wrapper","data-testid":"confirm-cancel-wrapper",children:[g&&(0,Or.jsxs)("div",{className:"adp-file-download-button-wrapper","data-testid":"adp-download-button",children:[j,P]}),A&&C&&(0,Or.jsx)(yu,{asset:y,onClose:function(){l(Ie.setMiniPnpOpen(!1))}})]})};Cu.defaultProps={validateEpsPickerAndSave:function(){},isEpsFormatTest:!1,epsFormatCtaTitle:void 0};var Au=Cu,Iu=function(){var e=(0,Xr.c)(),t=(0,s.d4)((function(e){return e.asset})),n=(0,s.d4)((function(e){return e.userDetails.has_subscription})),r=(0,s.d4)((function(e){return e.calc.hasAvailableCredits})),i=(0,Zi.useExperience)("PnpVideoFocusTest"),a=(0,$r.F)(),o=(0,lo.A)(),c=function(){var o=a.cleanPath(e("urls.plans_and_pricing_images"));return t.isFilm&&(o=a.cleanPath(e("urls.plans_and_pricing_video")),!i.isActive()||n||r||(o=uc.A.appendQueryParamsToString(o,{videofocus:!0}))),o};return(0,Or.jsx)("a",{className:"hollow-cta adp-plans-and-pricing-cta","data-testid":"pnp-cta",href:c(),onClick:function(){var e=(0,uo.A)({cta_interaction:"cta_clicked",cta_text:"view_plans_and_pricing",cta_url:c(),ui_element_location:o,download_flow:"pnp_checkout_option"});(0,d.C)(e)},children:e("view_plans_and_pricing")})},Nu=n(7909),Tu=n(79855),xu="Hyfv_ewT6G9DUJopl4wc",ju="V03aNKWQWBid0o8p3OJw",Pu=function(e){var t,n,r,i=e.isEpsFormatTest,a=e.epsFormatCompleteDownload,o=e.editsPendingForDownload,c=e.imageIsEdited,l=(0,s.d4)((function(e){return e.calc.step.dropboxEnabled})),u=(0,s.d4)((function(e){return e.asset})),d=(0,zr.A)().setShowOverlay,f=(0,s.d4)((function(e){return e.calc.step.name}))===_.COMPLETE_DOWNLOAD&&o,p=mu(),h=l?"download_again":"issues_download_again",m=(0,Xr.c)(),v=function(e){"redownload-for-free"===e.target.id&&(c&&d(!0),p.createDownload())},g=function(e){"Enter"===e.key&&(c&&d(!0),p.createDownload())},y=(0,Or.jsx)(Nu.A,{downloadCompletionText:m("you_received"),firstListItemText:m("one_original_image"),secondListItemText:m("one_modified_image"),checkDownloadsText:m("please_check_your_downloads_folder"),redownloadLink:(0,Or.jsx)(ei.A,{children:m(h,{links:[{href:"#",id:"redownload-for-free"}]})})}),b=(0,Or.jsx)("div",{className:xu,"data-testid":"original-image-only-successful-download",children:(0,Or.jsx)(ei.A,{children:m(i?(t=a(),n=t.dropbox,r=t.local,l?n:r):l&&u.isFilm?"successful_download_dropbox_video":l&&u.isIllustration?"successful_download_dropbox_illustration":l?"successful_download_dropbox_photo":u.isFilm?"successful_download_local_video":u.isIllustration?"successful_download_local_illustration":"successful_download_local_photo",{start_strong:"<strong class=".concat(ju,">"),end_strong:"</strong>"})})}),w=(0,Or.jsx)("div",{onClick:v,onKeyDown:g,role:"button",tabIndex:0,"data-testid":"redownload-for-free",children:(0,Or.jsx)("span",{id:"download-again",children:(0,Or.jsx)(ei.A,{children:m(h,{links:[{href:"#",id:"redownload-for-free"}]})})})}),S=(0,Or.jsx)(Tu.A,{updatedText:m("youve_made_an_update"),redownloadText:(0,Or.jsx)(ei.A,{children:m("redownload_for_free",{links:[{href:"#",id:"redownload-for-free"}]})}),handleKeyDown:g,handleClick:v}),E=(0,Or.jsx)(Yc.A,{title:m("your_download_includes_v2"),firstListItemText:m("one_original_image"),secondListItemText:m("one_modified_image"),allowMultipleFileText:m("allow_multiple_files_saved")}),O=c?y:b;return(0,Or.jsx)("section",{className:"adp-content-animation-fade","data-testid":"complete-download",children:f?(0,Or.jsxs)(Or.Fragment,{children:[S,E]}):(0,Or.jsxs)(Or.Fragment,{children:[O,w]})})},Du=Pu;Pu.defaultProps={isEpsFormatTest:!1,epsFormatCompleteDownload:void 0,editsPendingForDownload:!1,imageIsEdited:!1};var Lu="t3cvXnZLl8qc0i9uF2rU",Ru="DL3rzyL3kPMkV6jZv0au";function ku(){ku=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new x(r||[]);return i(o,"_invoke",{value:A(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",_="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(j([])));S&&S!==n&&r.call(S,o)&&(b=S);var E=y.prototype=v.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,o,s){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function A(t,n,r){var i=f;return function(a,o){if(i===_)throw Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?h:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=h,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,i(E,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(E),l(E,c,"Generator"),l(E,o,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Fu(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var Uu=function(){var e=il(),t=(0,Xr.c)(),n=(0,s.d4)((function(e){return e.calc.step.triggerSubscribeTracking})),r=function(){var t,r=(t=ku().mark((function t(r){return ku().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n&&n(),t.next=4,e.redirectToPricing();case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(e){Fu(a,r,i,o,s,"next",e)}function s(e){Fu(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,Or.jsx)("div",{className:"subscribe-to-premium-video","data-testid":"subscribe-to-premium-video",children:(0,Or.jsx)("div",{className:Lu,children:(0,Or.jsx)("button",{className:Ru,type:"submit","data-testid":"subscribe-to-premium-video-button",onClick:r,children:(0,Or.jsx)("span",{"data-testid":"title",children:t("subscribe_to_premium_plus_video")})})})})},Mu="RZZjFWZEckW2RYjueUnx",Bu="SSKEpQo3j8KoavhySQIY",Wu="q_fhEb21QiNivijzViCN",zu="uCVwOJo9_m_SVafgpkPs",Gu=function(){var e=(0,Xr.c)(),t=(0,s.wA)(),n=(0,s.d4)((function(e){return e.calc.totalCreditCost})),r=(0,s.d4)((function(e){return e.calc.selectedAccountCredits}));return(0,Or.jsxs)("section",{className:Mu,"data-testid":"credit-balance-box",children:[(0,Or.jsx)("div",{className:zu,children:(0,Or.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,Or.jsx)(ca.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){t(Ie.cancelDownload())}})})}),(0,Or.jsxs)("div",{className:Bu,children:[(0,Or.jsxs)("div",{className:Wu,"data-testid":"credit-balance-cost",children:[n>1&&(0,Or.jsx)("span",{children:e("more_than_one_credit",{zero:n})}),1===n&&(0,Or.jsx)("span",{children:e("one_credit")})]}),(0,Or.jsx)("div",{className:"amount-remaining","data-testid":"credit-balance-available",children:e("multiple_credits_available",{available:r})})]})]})},Hu=function(e){var t=e.validateEpsPickerAndSave,n=e.isEpsFormatTest,i=e.epsFormatCtaTitle,a=e.epsFormatCompleteDownload,o=e.editsPendingForDownload,c=e.hasEnoughCredits,l=e.imageIsEdited,u=(0,s.d4)((function(e){return e.userDetails.fast_checkout_sub})),d=(0,s.d4)((function(e){return e.userDetails.fast_checkout_sub_savings})),f=(0,s.d4)((function(e){return e.userDetails.video_pricing_clarity_variance})),p=(0,s.d4)((function(e){return e.calc.step.showAccountChoices})),_=(0,s.d4)((function(e){return e.calc.step.showDownloadChoices})),h=(0,s.d4)((function(e){return e.calc.step.showPricingClarity})),m=(0,s.d4)((function(e){return e.calc.step.showSubscribeToPremiumVideo})),v=(0,s.d4)((function(e){return e.calc.step.viewLicenseSelection})),g=(0,s.d4)((function(e){return e.calc.step.warningBox})),y=(0,s.d4)((function(e){return e.buyCardData.licenseOverviewPath})),b=(0,s.d4)((function(e){return e.calc.redownloadForFree})),w=(0,s.d4)((function(e){return e.calc.step.completeSection})),S=(0,s.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),E=(0,s.d4)((function(e){return e.userDetails.free_trial_subscription_multivariant_eligible})),O=(0,Xr.c)(),C=Bo();return(0,r.useEffect)((function(){C.setTrackingDataElement("downloadActions",h&&!v?"clarity":"default")}),[h,v]),(0,Or.jsxs)("section",{className:"adp-file-download","data-testid":"download-pricing",children:[g&&!c&&(0,Or.jsx)(jl,{}),!v&&h&&(0,Or.jsx)(eu,{}),_&&!c&&(0,Or.jsx)(au,{}),c&&(0,Or.jsx)(Gu,{}),p&&(0,Or.jsx)(fu,{}),m&&(0,Or.jsx)(Uu,{}),(0,Or.jsx)(Au,{validateEpsPickerAndSave:t,isEpsFormatTest:n,epsFormatCtaTitle:i}),!h||b||!(S&&E||u||d||f)?null:(0,Or.jsx)(Iu,{"data-testid":"pnp-cta-container"}),v&&(0,Or.jsx)("span",{className:"not_sure_license","data-testid":"not-sure-license-link",children:(0,Or.jsx)(ei.A,{children:O("not_sure_what_license",{links:[{href:"".concat(y),target:"new"}]})})}),w&&(0,Or.jsx)(Du,{isEpsFormatTest:n,epsFormatCompleteDownload:a,editsPendingForDownload:o,imageIsEdited:l})]})},Vu=Hu;Hu.defaultProps={validateEpsPickerAndSave:function(){},isEpsFormatTest:!1,epsFormatCtaTitle:void 0,epsFormatCompleteDownload:void 0,editsPendingForDownload:!1,hasEnoughCredits:!1};var Yu=function(){var e=(0,Xr.c)();return(0,Or.jsx)("div",{className:"adp-content-animation-fade redownload","data-testid":"redownload",children:(0,Or.jsx)("div",{className:"adp-btn-flow-text",children:(0,Or.jsx)("small",{children:e("you_already_downloaded")})})})},Ku=function(e){var t=e.isEpsFormatTest,n=e.epsFormatTypeCreditAgreement,r=(0,s.d4)((function(e){return e.buyCardData.licenseAgreement})),i=(0,Xr.c)();return(0,Or.jsx)("div",{className:"adp-content-animation-fade","data-testid":"license-disclaimer",children:(0,Or.jsx)("div",{className:"adp-btn-flow-text",id:"license-agreement-link",children:(0,Or.jsx)("small",{children:(0,Or.jsx)(ei.A,{children:i(t?n():"credit_license_agreement",{links:[{href:r}]})})})})})};Ku.defaultProps={isEpsFormatTest:!1,epsFormatTypeCreditAgreement:null};var qu=Ku,Ju="M36zwv59j_huVvhClpXQ",Qu=function(){var e=(0,s.d4)((function(e){return e.buyCardData.licenseOverviewPath})),t=(0,Xr.c)();return(0,Or.jsx)("div",{className:Ju,"data-testid":"redownload-agreement",children:(0,Or.jsx)(ei.A,{children:t("redownload_free_agreements",{links:[{href:"".concat(e),target:"new"}]})})})},Zu="jsInk_jaLG5L1eWJUGwv",Xu="wD_iemGyRxuzLPJPx9RM",$u="dTR7tSm1CMo1uDAXlF0d",ed="mrnZDo7dSPNM6rO5uGiB",td=function(e){var t=e.children,n=(0,Rr.Jd)(),i=ed,a=n.isBot?null:$u;return(0,r.useEffect)((function(){var e=document.querySelector(".footer-copyright");return e&&e.classList.add(i),function(){e&&e.classList.remove(i)}}),[]),(0,Or.jsxs)("div",{className:"".concat(Zu," ").concat(a),id:"mobile-cta-modal","data-testid":"mobile-cta-modal",children:[t,(0,Or.jsx)("div",{className:Xu,children:(0,Or.jsx)(Au,{})})]})},nd="_ynfpD1jAx8yxSkFXhMo",rd="HByGNe2mceGIAElzYJQa",id="Gjx9S7UusukrilRMBjd6",ad="RvunXRIKW7OhmgZcedbW",od=function(e){var t=e.assetSizes,n=(0,Xr.c)(),r=[{title:"size_format_4k",content:"maintain_high_quality_output"},{title:"size_format_hd",subTitle:"size_format_prores",content:"high_quality_full_hd_file"},{title:"size_format_hd",content:"most_commonly_used_format"},{title:"size_format_hd_web",content:"ideal_for_full_screen_web_projects"},{title:"web",content:"good_for_small_web_projects"}];(!Object.keys(t).length||null!=t&&t.some((function(e){return"Web"!==e.label})))&&r.pop();return(0,Or.jsx)(a.aF,{modalClassName:nd,onClose:function(){var e=(0,_o.A)({event:"close_modal",modal_content:"video_size_and_format",modal_type:"detailed_modal",cta_text:void 0,ui_element_location:"modal_x",modal_selection:"video_size_and_format_modal"});(0,d.C)(e)},children:function(){return(0,Or.jsx)(Or.Fragment,{children:(0,Or.jsxs)("div",{className:rd,"data-testid":"sizes-formats-modal-body",children:[(0,Or.jsx)("h2",{children:n("video_sizes_and_formats")}),(0,Or.jsx)("p",{children:n("find_the_right_format")}),(0,Or.jsx)(Or.Fragment,{children:r.map((function(e){var t=e.title,r=e.subTitle,i=e.content;return(0,Or.jsxs)("div",{className:id,children:[(0,Or.jsxs)("div",{children:[(0,Or.jsx)("h3",{children:n(t)}),r&&(0,Or.jsx)("h3",{className:ad,children:n(r)})]}),(0,Or.jsx)("p",{children:n(i)})]},i)}))})]})})}})},sd={helpMeChoose:"o7tmlqNtSNyby0nRKTyt",noWrap:"v0LqeTgWALD9FCOxvNCY",flexBreak:"S3SOehgGqVF6u17eYj29",sizeDescriptionContainer:"qGMaEeDDkgAmYaBsFOSD"};function cd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ld(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ld(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ld(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ud=["image","raster","vector","film"],dd=["Web","SD","HD_Web","HD","4K"],fd=function(e,t,n){return t.find((function(t){return n?t.name===e:t.teeShirtSize===e}))},pd=function(){var e=(0,s.wA)(),t=(0,s.d4)((function(e){return e.asset})),n=(0,s.d4)((function(e){return e.calc.step})),i=(0,s.d4)((function(e){return e.calc.selectedAssetSize})),o=(0,s.d4)((function(e){return e.buyCardData.preferences})),c=(0,Xr.c)(),l=t.assetType,u=(0,s.d4)((function(e){return e.userDetails.authenticated})),f=(0,a.hS)().showModal,p=(0,lo.A)(),_=t.sizes.toArray().filter((function(e){return null!=e.description})),h=ud.includes(l)&&(n.showTshirtSizes||t.isFilm&&!u),m=cd((0,r.useState)(null),2),v=m[0],g=m[1];(0,r.useEffect)((function(){if(!i||"epsUnavailable"===i.name){var n=function(e,t,n){if(!n)return fd(e,t,n);if(e){var r=e.name,i=e.definition,a=t.find((function(e){return e.name===r}));if(a)return a;var o=t.filter((function(e){return e.definition===i}));if(1===o.length)return o[0];if(o.length>1)return o.find((function(e){return"H.264"===e.codec}))||o[0];var s=dd.findIndex((function(e){return e===i}));if(-1===s)return null;for(var c,l=function(){var e=dd[u],n=t.filter((function(t){return t.definition===e}));return 1===n.length?{v:n[0]}:n.length>1?{v:n.find((function(e){return"H.264"===e.codec}))||n[0]}:void 0},u=s;u<dd.length;u+=1)if(c=l())return c.v}}(t.isFilm?D.getVideoPreferredSize(o):D.getPreferredSize(o),_,t.isFilm),r=_.length-1,a=_[r];"epsUnavailable"===(null==a?void 0:a.name)&&(r=_.length-2),n&&"epsUnavailable"!==n.name?e(Ie.selectAssetSize(n)):e(Ie.selectAssetSize(_[r]))}}));var y,b=function(e){var n=e.target.attributes.name.value;return fd(n,_,t.isFilm)},w=function(){return v||i},S=function(e){g(b(e))},E=function(){g(null)},O=function(n){var r;"epsUnavailable"!==(r=b(n)).name&&(e(Ie.selectAssetSize(r)),t.isFilm||D.setPreferredSize(r.teeShirtSize),t.isFilm&&D.setPreferredVideoSize(r.name,r.definition))},C=function(){var e,t="size-description";return null!==(e=w())&&void 0!==e&&e.epsUnavailable&&(t+=" eps-unavailable-warning"),t},A=function(e){var t="tile";return i===e&&(t+=" selected-tile"),e.epsUnavailable&&(t+=" no-eps"),t},I=function(e){return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsxs)("span",{children:[e.pixels,"",e.codec]}),(0,Or.jsx)("span",{className:"divider",children:"|"}),(0,Or.jsxs)("span",{className:sd.noWrap,children:[e.frameRate," fps",(0,Or.jsx)("span",{className:"divider",children:"|"})]}),(0,Or.jsx)("span",{className:sd.noWrap,children:e.contentType}),e.hasFileSize&&(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("span",{className:"divider",children:"|"}),(0,Or.jsx)("span",{className:sd.noWrap,children:e.fileSize})]})]})},N=function(){var e=(0,uo.A)({cta_interaction:"help_me_choose_clicked",cta_text:"help_me_choose",cta_url:void 0,ui_element_location:p});return(0,d.C)(e),f((0,Or.jsx)(od,{assetSizes:_}))},T=function(e){"Enter"===e.key&&N()},x=function(e){"Enter"===e.key&&O(e)},j=function(e){if(t.isFilm)return e.label;var n=D.getSizeMap()[e.teeShirtSize];return e.isEps||e.epsUnavailable?n:c(n)};return h?(0,Or.jsx)("section",{className:"adp-fade-and-slide adp-set-max-height","data-testid":"AssetSizeTileSelector",children:(0,Or.jsxs)("div",{className:"sizes",children:[(0,Or.jsx)("ol",{className:"".concat(l," tiles"),children:_.map((function(e){var n=t.isFilm?e.name:e.teeShirtSize;return(0,Or.jsx)("li",{"aria-label":j(e),className:A(e),children:(0,Or.jsx)("div",{role:"radio",tabIndex:0,"aria-checked":i===e,onClick:O,onKeyPress:x,onMouseOver:S,onFocus:S,onMouseOut:E,onBlur:E,id:"download-size-".concat(n),name:n,children:j(e)})},n)}))}),(y=w(),y?t.isFilm?(0,Or.jsxs)("div",{className:Kr()(C(),sd.assetMetaData,sd.sizeDescriptionContainer),children:[I(y),(0,Or.jsx)("div",{className:sd.flexBreak}),(0,Or.jsx)("div",{role:"button",tabIndex:0,className:Kr()(sd.helpMeChoose,sd.noWrap),"data-testid":"HelpMeChooseLink",onClick:N,onKeyPress:T,children:c("help_me_choose")})]}):(0,Or.jsxs)("div",{className:C(),children:[" ",y.epsUnavailable?c(y.description):y.description," "]}):null)]})}):null},_d=function(){return!(0,s.d4)((function(e){return e.calc.step.viewLicenseSelection}))&&(0,Or.jsx)("section",{className:"size-options adp-licenses adp-fade-and-slide","data-testid":"size-options",children:(0,Or.jsx)(pd,{})})},hd=function(){var e=(0,s.d4)((function(e){return e.calc.step.showSubTypeMessage})),t=(0,s.d4)((function(e){return e.calc.step.dropboxEnabled})),n=(0,s.d4)((function(e){return e.asset.freeFile})),r=(0,Xr.c)();return(0,Or.jsxs)(Or.Fragment,{children:[e&&!n&&(0,Or.jsx)("div",{className:"adp-warning-box sub-type-message","data-testid":"info-subs",children:(0,Or.jsx)("span",{children:r("available_with_your_subscription")})}),t&&(0,Or.jsx)("div",{className:"adp-warning-box dropbox-message sub-type-simple-message","data-testid":"info-dropbox",children:(0,Or.jsx)("span",{children:r("download_workflow.download_will_be_saved_to_dropbox")})})]})},md=n(25074),vd="tXdiSc_DcwQodaWMcBgM",gd="m0LNKvsjmSPI0xjGPzau",yd="un7DUzLsnqcne4woRQ4I",bd="zNNi9wkKIKbQl7zsw3sg",wd=function(){var e=(0,Ps.m)(),t=(0,s.d4)((function(e){return e.calc.step.ctaClass})),n=(0,s.d4)((function(e){return e.userDetails.authenticated})),r=(0,s.d4)((function(e){return e.mobileSimplification})),i=(0,s.d4)((function(e){return e.userDetails.free_trial_premium_route})),a=(0,s.d4)((function(e){return e.userDetails.currency_code})),o=(0,s.d4)((function(e){return e.asset})),c=(0,s.d4)((function(e){return e.buyCardData.signInPath})),l=(0,md.DP)().link||{},u=(0,Xr.c)(),f=(0,$r.F)(),p=(0,lo.A)(),_=function(t,n){e.trackEvent("adpInteraction",{adp_interaction:t,adp_selection:n,ui_element_location:"adp_buy_card_start_free_trial_cta"});var r=(0,Qc.A)({products:[{asset_id:o.assetId,asset_type:o.assetType,license_type:o.licenseType,asset_family:o.assetFamily,media_type:o.mediaType,currency_code:a||"USD",final_price:{amount:0}}],download_flow:"free_trial_option",ui_element_location:p});(0,d.C)(r)},h=function(){_("ADP_Buy_Card_Sign_in_Button_Click","adp_sign_in"),window.location=f.cleanPath("/sign-in?returnurl=".concat(window.location.pathname).concat(window.location.search))},m=function(){_("ADP_Download_Button_Click","Free_Trial_Option"),window.location=i?f.addFreeTrial({premium:!0,ftsfastcheckout:!0}):f.addFreeTrial({ftsfastcheckout:!0})};return(0,Or.jsxs)("section",{"data-testid":"free-trial-subs-buyCard",children:[(0,Or.jsx)("h4",{className:vd,children:u("get_image_for_free")}),(0,Or.jsx)("p",{"data-testid":"learn-more-link",className:"".concat(gd," ").concat(l.textLink),children:(0,Or.jsx)(ei.A,{children:u("download_image_free_trial_learn_more",{links:[{href:f.cleanPath(u("urls.plans_and_pricing_free_trial_subscription"))}]})})}),r?!n&&(0,Or.jsx)("div",{"data-testid":"sign-in-cta",children:(0,Or.jsx)(ei.A,{children:u("already_member_sign_in",{links:[{href:c}]})})}):(0,Or.jsxs)("div",{"data-testid":"free-trial-cta",children:[(0,Or.jsx)("button",{className:"".concat(t," ").concat(yd),id:"download-free-trial-button",type:"button","data-testid":"download-free-trial-button",onClick:m,children:u("download_for_free")}),!n&&(0,Or.jsx)("button",{className:bd,id:"signin-free-trial-button",type:"button",onClick:h,"data-testid":"signIn-button",children:u("sign_in")})]})]})},Sd=function(){var e=(0,Xr.c)(),t=(0,s.d4)((function(e){return e.asset}));return(0,Or.jsx)("div",{className:"adp-free-file adp-content-animation-fade","data-testid":"free-file",children:(0,Or.jsx)("span",{children:t.isIllustration?e("free_illustration_otm"):t.isFilm?e("free_video_otm"):e("free_photo_otw")})})},Ed=function(e){var t=e.totalCreditCost,n=(0,Xr.c)(),r=Number(t);if(!r)return null;var i=r>1?n("more_than_one_credit",{zero:r}):n("one_credit");return(0,Or.jsx)("span",{children:i})},Od=function(e){var t=e.title,n=e.canPeekAtCost,r=e.showCreditCost,i=e.redownloadSection,a=(0,s.d4)((function(e){return e.buyCardData})).geoPricingPromoPolicy,o=a.showTestA,c=a.showTestB,l=(0,s.d4)((function(e){return e.calc.totalCreditCost})),u=(0,Xr.c)();return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("div",{className:"download-actions__header--geo-test","data-testid":"header-geo-promo",children:(0,Or.jsx)("span",{children:u("new_lower_prices")})}),(0,Or.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:[o&&(0,Or.jsxs)("span",{className:"card-title__sub-title","data-testid":"test-a",children:[t&&(0,Or.jsx)("span",{"data-testid":"title",children:u(t)}),t&&(r||n)&&(0,Or.jsx)("span",{children:" | "}),(r||n)&&(0,Or.jsx)("span",{"data-testid":"credit-cost",children:(0,Or.jsx)(Ed,{totalCreditCost:l})})]}),c&&(0,Or.jsx)("span",{className:"card-title__sub-title","data-testid":"test-b",children:i&&t?(0,Or.jsx)("span",{"data-testid":"title",children:u(t)}):(0,Or.jsx)("span",{"data-testid":"subtitle",children:u("high_quality_for_projects")})})]})]})};Od.defaultProps={title:null,canPeekAtCost:null,showCreditCost:null,redownloadSection:null};var Cd=Od,Ad=n(50180),Id=["styles"];function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nd.apply(null,arguments)}var Td=function(e){var t=e.styles,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Id);return i().createElement("svg",Nd({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),i().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__bg"]||"icons-unisporkal-istock-tooltip-svg__bg",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"}),i().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__border"]||"icons-unisporkal-istock-tooltip-svg__border",d:"M12 1c6.065 0 11 4.935 11 11s-4.935 11-11 11S1 18.065 1 12 5.935 1 12 1zm0-1C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0z"}),i().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__icon"]||"icons-unisporkal-istock-tooltip-svg__icon",d:"M12.834 13.443v.112h-2.158v-.252c0-1.71 2.34-1.835 2.34-3.264 0-.616-.45-.98-1.262-.98-.658 0-1.33.238-1.877.84l-1.19-1.415c.91-.854 1.947-1.302 3.277-1.302 1.976 0 3.349.98 3.349 2.69 0 2.31-2.48 2.52-2.48 3.57zm-1.065.714c.728 0 1.33.603 1.33 1.331a1.33 1.33 0 11-1.33-1.33z"}))},xd="bKL2hIUxRhzeBpub_cgF",jd=function(e){var t=e.className,n=Kr()(xd,t);return(0,Or.jsx)(Td,{className:n})};jd.defaultProps={className:""};var Pd=jd,Dd="kdZrypqPcxYUebEMLyDp",Ld="a4SeezPVDeTi7mWep0Ui",Rd=function(e){var t=e.title,n=e.canPeekAtCost,r=e.showCreditCost,i=e.showPricingClarity,a=(0,Xr.c)(),o=(0,s.d4)((function(e){return e.userDetails.team_name})),c=(0,s.d4)((function(e){return e.buyCardData.downloadActionsPolicy.showInfoTooltip})),l=(0,s.d4)((function(e){return e.buyCardData.pricingClarityTranslations.tooltipText})),u=(0,s.d4)((function(e){return e.calc.totalCreditCost}));return(0,Or.jsxs)(Or.Fragment,{children:[(r||n)&&(0,Or.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,Or.jsx)("div",{className:"download-actions__header",children:(0,Or.jsx)(Ed,{totalCreditCost:u})})}),t&&(0,Or.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:[(0,Or.jsx)("span",{"data-testid":"title",children:a(t,{team_name:o})}),i&&(0,Or.jsx)("span",{children:c&&(0,Or.jsx)(Ad.A,{"data-testid":"info-tooltip",className:Ld,content:l,children:(0,Or.jsx)(Pd,{className:Dd})})})]})]})};Rd.defaultProps={title:null,canPeekAtCost:null,showCreditCost:null,showPricingClarity:null};var kd=Rd,Fd=function(e){var t=e.title,n=(0,Xr.c)(),r=(0,s.d4)((function(e){return e.userDetails.team_name})),i=(0,s.d4)((function(e){return e.asset.assetCost}));return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,Or.jsx)("div",{className:"download-actions__header",children:i})}),t&&(0,Or.jsx)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:(0,Or.jsx)("span",{"data-testid":"title",children:n(t,{teamName:r})})})]})};Fd.defaultProps={title:null};var Ud=Fd,Md=function(e){var t=e.isEpsFormatTest,n=e.epsFormatTitleDownload,r=e.editsPendingForDownload,i=e.imageIsEdited,a=(0,Xr.c)(),o=(0,s.d4)((function(e){return e.asset})),c=(0,s.d4)((function(e){return e.calc.step.title})),l=(0,s.d4)((function(e){return e.calc.step.name})),u=(0,s.d4)((function(e){return e.calc.step.showCreditCost})),d=(0,s.d4)((function(e){return e.calc.step.showPricingClarity})),f=(0,s.d4)((function(e){return e.calc.step.redownloadSection})),p=(0,s.d4)((function(e){return e.calc.selectedOptionalLicenses})),_=(0,s.d4)((function(e){return e.calc.selectedAgreementType})),h=(0,s.d4)((function(e){return e.buyCardData.geoPricingPromoPolicy.show})),m=p&&_,v=(0,s.d4)((function(e){return e.mobileSimplification})),g=(0,s.d4)((function(e){return e.calc.step})).completeSection,y=c;return"COMPLETE_DOWNLOAD"===l&&(i&&(y="your_download_is_complete"),r&&(y="youve_updated_this_photo")),o.freeFile?(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)(Sd,{}),y&&(0,Or.jsx)("h2",{id:"card-title","data-testid":"title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:a(y)})]}):h?(0,Or.jsx)(Cd,{title:y,canPeekAtCost:m,showCreditCost:u,redownloadSection:f}):v?(0,Or.jsx)(Ud,{title:y}):(0,Or.jsx)(kd,{title:t&&g?n():y,canPeekAtCost:m,showCreditCost:u,showPricingClarity:d})};Md.defaultProps={isEpsFormatTest:!1,epsFormatTitleDownload:void 0,editsPendingForDownload:!1,imageIsEdited:!1};var Bd=Md,Wd="ITe3EojEowNtmkiK79On",zd=function(){var e=(0,s.d4)((function(e){return e.buyCardData.restrictedUsesPath})),t=(0,Xr.c)();return(0,Or.jsxs)("section",{className:"editorial-use-only","data-testid":"editorial-use-only",children:[(0,Or.jsx)(ei.A,{children:t("editorial_use_only_with_link",{links:[{href:"".concat(e),target:"_blank",rel:"noopener noreferrer"}]})}),(0,Or.jsx)(Ad.A,{content:t("editorial_use_clarification"),children:(0,Or.jsx)(Pd,{className:Wd})})]})},Gd=function(){var e=(0,s.d4)((function(e){return e.asset})),t=(0,s.d4)((function(e){return e.calc.hasSelectedOptionalLicenses})),n=(0,s.d4)((function(e){return e.calc.selectedAgreementType})),r=(0,s.d4)((function(e){return e.calc.step.showCreditCost})),i=t&&n,a=(0,s.d4)((function(e){return e.calc.totalCreditCost}));return(0,Or.jsx)(Or.Fragment,{children:e.freeFile?(0,Or.jsx)(Sd,{}):r||i?(0,Or.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-credit-cost",children:(0,Or.jsx)("div",{className:"download-actions__header",children:(0,Or.jsx)(Ed,{totalCreditCost:a})})}):null})},Hd="mYBkt5RleZd5SvNvAGsQ",Vd="rSdZF1J6Jjnxhi71p6BC",Yd="JfX9VvvG5YXwBqOHFENQ",Kd="gxbSGKPNgW1agrnD9g91",qd="NFewzkaSWd7_cENynmj1",Jd="YvwlaNWqE8of9mfE366e",Qd="lncPfMCyzhBqOLYKy3aP",Zd="sem1lo74ysNecGf_kxsy",Xd="wuLKuLie0XLRvynrxylL",$d=function(){var e=(0,s.d4)((function(e){return e.licenses})).toArray(),t=(0,Xr.c)(),n=(0,s.wA)(),i=(0,md.DP)().checkbox||{};(0,r.useEffect)((function(){document.querySelector("#licenses-close-btn").focus()}),[]);var a=function(e){var t=[];return e.is_acquired_and_not_repurchasable&&t.push(Vd),e.is_selected&&t.push(Yd),(e.is_purchase_required||e.is_acquired_and_not_repurchasable)&&t.push(Kd),t.join(" ")},o=(0,Or.jsxs)("header",{className:"el-header",children:[(0,Or.jsx)("h2",{children:t("add_licenses")}),(0,Or.jsx)(ca.A,{id:"licenses-close-btn",className:"el-close-btn",ariaLabel:"close license picker",onClick:function(){n(Ie.closeLicensePicker())}})]}),c=(0,Or.jsxs)("div",{className:Kr()("el-title",Jd),children:[(0,Or.jsx)("div",{children:t("license_types")}),(0,Or.jsx)("div",{children:t("istock_credits")})]}),l=(0,Or.jsx)("ul",{"data-testid":"license-list",children:e.map((function(e,t){var r=e.is_purchase_required||e.is_acquired_and_not_repurchasable;return(0,Or.jsx)("li",{className:Kr()(qd,a(e)),"data-testid":"license-listitem",children:(0,Or.jsxs)("label",{htmlFor:"el_".concat(t),className:Qd,children:[(0,Or.jsx)("input",{id:"el_".concat(t),type:"checkbox",className:Kr()(i.checkboxInput,r?i.defaultChecked:"",Zd),disabled:Boolean(r),defaultChecked:r,onChange:function(){return function(e){n(Ie.checkLicense(e))}(t)}}),(0,Or.jsxs)("div",{className:Xd,"data-testid":"license-description",children:[e.description,e.sub_description&&(0,Or.jsx)("p",{className:Hd,"data-testid":"license-sub-description",children:e.sub_description})]}),(0,Or.jsx)("span",{className:"el-credit-cost",children:e.credit_cost})]})},"".concat(e.license_type))}))});return(0,Or.jsxs)("section",{className:"adp-licenses","data-testid":"adp-licenses",children:[o,(0,Or.jsxs)("div",{children:[c,(0,Or.jsx)("hr",{}),l]})]})};function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach((function(t){nf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return af(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?af(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var of=function(e){return"eps"===e.format?"eps":"jpeg"===e.format&&""!==e.size&&e.size},sf=function(){var e,t=(0,s.wA)(),n=(0,s.d4)((function(e){return e.asset})).sizes,i=(0,s.d4)((function(e){return e.buyCardData.preferences})),a=D.getEpsPreferredSize(i),o=(e=a)?"eps"===e?e:"jpeg":"",c=rf((0,r.useState)(""),2),l=c[0],u=c[1],d=rf((0,r.useState)(tf({format:o,size:""},"eps"!==a&&{size:a})),2),f=d[0],p=d[1],_=n.toArray();return{errorElem:l,pickerOptions:f,setSelected:function(e){u("");var n=tf(tf({},f),e);p(n);var r,i=of(n),a="";i&&(a=_.filter((function(e){return e.teeShirtSize===i})),t(Ie.selectAssetSize(a[0])),D.setPreferredSize(null===(r=a[0])||void 0===r?void 0:r.teeShirtSize))},validateEpsPickerAndSave:function(){if(""===f.format?(u("format"),0):"jpeg"!==f.format||f.size||(u("size"),0)){var e=of(f);return D.setPreferredSize(e),!0}return!1},epsFormatCtaTitle:function(){return"eps"===f.format?{download:"download_eps",confirm:"confirm_eps_download"}:"jpeg"===f.format?{download:"download_jpeg",confirm:"confirm_jpeg_download"}:{download:"download_illustration",confirm:"confirm_illustration_download"}},epsFormatCompleteDownload:function(){return"eps"===f.format?{dropbox:"successful_download_dropbox_eps_file",local:"successful_download_local_eps_file"}:{dropbox:"successful_download_dropbox_jpeg_file",local:"successful_download_local_jpeg_file"}},epsFormatTitleDownload:function(){return"eps"===f.format?"eps_download_complete":"jpeg_download_complete"},epsFormatTypeCreditAgreement:function(){return"eps"===f.format?"credit_license_agreement_for_eps":"credit_license_agreement_for_jpeg"}}},cf="SZupAPXHv9lwE4bHCnsh",lf="H2YLK8XGNKtJ73S2beSK",uf="aZjghFc_EfeKZ3zoHVsg",df="lrWt7GlujgxII793DNvb",ff="kJrQ8UxwAS0BaY2jd6kQ";function pf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _f=function(e){var t=e.errorElem,n=(0,Xr.c)(),r="format"===t,i=r?"select_file_type_above":"select_file_size_above";return(0,Or.jsx)("section",{"data-testid":"vector-".concat(t,"-error-banner"),className:Kr()(uf,pf({},ff,r)),children:(0,Or.jsx)("span",{className:df,children:n(i)})})};_f.defaultProps={errorElem:""};var hf=_f,mf="fhVykPXUvWLQ_4CHdMqV",vf="iH6kD78V6BOobcFbUxUW",gf="a7Uf4MIj08i2PkWU18od";function yf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Sf=function(e){var t,n,i=e.size,a=e.selected,o=e.setSelected,s=(0,Xr.c)(),c=bf((0,r.useState)(!1),2),l=c[0],u=c[1];return(0,Or.jsx)("button",{type:"button","data-testid":"jpeg-size-option",onMouseEnter:function(){u(!0)},onMouseLeave:function(){u(!1)},onClick:function(e){e.stopPropagation(),o({size:i.teeShirtSize})},className:Kr()(mf,yf(yf({},gf,l),vf,a)),children:(t=i,n=D.getSizeMap()[t.teeShirtSize],s(n))})},Ef=function(e){var t,n,r=e.pickerOptions,i=e.errorElem,a=e.setSelected,o=(0,s.d4)((function(e){return e.asset})).sizes,c=r.size,l="size"===i,u=Array.from(o).filter((function(e){return!0!==e.isEps})),d=(t=c)?null===(n=u.filter((function(e){return e.teeShirtSize===t}))[0])||void 0===n?void 0:n.description:"";return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("section",{"data-testid":"jpeg-size-options",className:cf,children:u.map((function(e){return(0,Or.jsx)(Sf,{size:e,selected:c===e.teeShirtSize,setSelected:a},e.teeShirtSize)}))}),c&&(0,Or.jsx)("section",{"data-testid":"jpeg-size-details",className:lf,children:d}),l&&(0,Or.jsx)(hf,{errorElem:i})]})};Ef.defaultProps={pickerOptions:{format:"jpeg",size:""},errorElem:"",setSelected:function(){}};var Of=Ef,Cf="NOg5aJnAnpuiBR0ocdDS",Af="_8lQ3dOKZZycl9kurd8r",If="RX4NIVexP91oNlrpcQh0",Nf="RHnGInCTXn2qLXHVPJsw",Tf="fIhh1pLZd10WS629EGg_",xf="m8gSKFreN1AxHI0YC6W8",jf="vcsuBKPoBGDCQsSXd7qR",Pf="lVqzYL7ojvRfxvYckZQw",Df="nXnXnDfEs9QNb_dWKWEJ",Lf="qEEtfKuAngkCL5kqu2X4",Rf="XKVzhOYAppZCuOjGl8cq",kf="CiIZHu0zkDMOf2daQQdI",Ff="UxrzRcRPko5ZSBWIEkd5",Uf="xQ_jDxkTWlHiQ7BDi_mg",Mf="sOIAq9mBM91w6mfmsPwA",Bf="ou8YqaeUZ06nXKha5ZoC";function Wf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Hf=function(e){var t,n,i,a,o=e.value,s=e.heading,c=e.description,l=e.selected,u=e.setSelected,d=e.error,f=e.children,p=l===o,_=""===l,h="vector-format-option-".concat(o),m=zf((0,r.useState)(!1),2),v=m[0],g=m[1];return(0,Or.jsxs)("div",{role:"radio","aria-label":s,"data-testid":h,className:(t=p,n=_,i=v,a=d,Kr()(Tf,Wf(Wf(Wf(Wf(Wf({},xf,t),jf,!t&&!n),Pf,n),Lf,i),Df,a))),tabIndex:0,"aria-checked":p,onClick:function(){u({format:o})},onKeyDown:function(e){32===e.keyCode&&u({format:o})},onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},name:h,children:[(0,Or.jsx)("span",{"data-testid":"".concat(h,"-radio"),className:Kr()(Rf,Wf(Wf(Wf({},Ff,p),Lf,v),kf,p&&f))}),(0,Or.jsxs)("div",{className:Uf,children:[(0,Or.jsx)("span",{className:Mf,children:s}),(0,Or.jsx)("span",{className:Bf,children:c}),p&&f]})]},o)};Hf.defaultProps={selected:void 0,setSelected:function(){},children:void 0,error:!1};var Vf=Hf;function Yf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kf=function(e){var t=e.errorElem,n=e.pickerOptions,r=e.setSelected,i=(0,Xr.c)(),a=""!==t,o=n.format,s=""!==o;return(0,Or.jsxs)("section",{"data-testid":"vector-format-options",className:Kr()(Cf,Yf(Yf({},Af,s),If,a)),role:"radiogroup",children:[(0,Or.jsx)(Vf,{value:"jpeg",heading:i("jpeg_file"),description:i("jpeg"===o?"choose_preferred_file_type":"pixel_based"),selected:o,setSelected:r,error:"size"===t,children:(0,Or.jsx)(Of,{pickerOptions:n,errorElem:t,setSelected:r})}),!s&&(0,Or.jsx)(qf,{isError:a&&"format"===t}),(0,Or.jsx)(Vf,{value:"eps",heading:i("eps_file"),description:i("vector_based_requires_software"),selected:o,setSelected:r})]})};Kf.defaultProps={errorElem:"",pickerOptions:{format:"",size:""},setSelected:function(){}};var qf=function(e){var t=e.isError;return(0,Or.jsx)("div",{className:Kr()(Nf,Yf({},If,t)),"data-testid":"vector-format-divider"})};qf.defaultProps={isError:!1};var Jf=Kf,Qf="YvRnAIqISUDf57rcrbwY",Zf="PgyBWPUAKXUfCQsD0p53";function Xf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $f=function(e){var t=e.errorElem,n=e.setSelected,r=e.pickerOptions,i="format"===t;return(0,Or.jsxs)("section",{"data-testid":"vector-format-size-picker",className:Kr()(Qf,Xf({},Zf,i)),children:[(0,Or.jsx)(Jf,{errorElem:t,pickerOptions:r,setSelected:n}),i&&(0,Or.jsx)(hf,{errorElem:t})]})};$f.defaultProps={errorElem:"",setSelected:function(){},pickerOptions:""};var ep=$f,tp=["styles"];function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},np.apply(null,arguments)}var rp=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tp);return i().createElement("svg",np({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M5.372 20.361h8.6l3.376-8.055h-4.9l-7.076 8.055zM14.621 21.03h10.74l-5.303 14.09-5.437-14.09zM22.485 12.306l3.67 8.055h8.184l-6.543-8.055h-5.31z",fill:"#AEDDD6"}),i().createElement("path",{d:"M35.864 20.704c0-.006.003-.011.003-.017 0-.033-.015-.061-.019-.093a.816.816 0 00-.04-.2c-.018-.047-.046-.086-.072-.129-.022-.037-.034-.078-.063-.113l-7.198-8.605a.834.834 0 00-.64-.299H12.363a.835.835 0 00-.627.285l-7.53 8.605c-.031.036-.045.079-.069.118-.027.044-.058.083-.077.132-.025.066-.033.135-.04.204-.005.033-.02.061-.02.095 0 .005.003.008.003.013a.832.832 0 00.056.277c.004.011.003.025.007.036a.839.839 0 00.143.21c.014.017.02.039.036.053l15.141 15.141c.013.013.03.018.044.03a.82.82 0 00.18.12c.025.012.048.027.075.037.09.034.186.057.286.057h.01c.1-.001.193-.023.283-.057.028-.01.053-.025.08-.039a.82.82 0 00.175-.117c.014-.013.034-.018.047-.032l15.059-15.141a.83.83 0 00.175-.261c.006-.014.005-.03.01-.043a.83.83 0 00.054-.267zm-22.254.816l4.19 10.955L6.845 21.52h6.765zm7.896-8.605l3.135 6.939H15.43l2.87-6.939h3.207zm3.203 8.605l-4.723 12.004-4.592-12.004h9.315zm1.791 0h6.53L22.226 32.382 26.5 21.52zm6.75-1.666h-6.78l-3.136-6.939h4.112l5.805 6.939zm-20.509-6.939h3.753l-2.868 6.939H6.67l6.071-6.939zM20.225 8.632a.833.833 0 01-.833-.833V4.167a.833.833 0 111.666 0v3.632c0 .46-.373.833-.833.833zM27.796 9.384a.833.833 0 01-.59-1.423l2.57-2.567a.833.833 0 111.178 1.178L28.385 9.14a.83.83 0 01-.589.244zM12.072 9.384a.83.83 0 01-.59-.244L8.914 6.572a.833.833 0 111.178-1.178l2.569 2.568a.833.833 0 01-.59 1.422z",fill:"#0D0D0D"}))},ip={upgradePromo:"YWNFEPrrte3fgo0AVs6M",icon:"Qm4OUR1N6KSNuZyJIVZB"},ap={upgradeChoice:"J6MRDdLvtd1jb6mESeB3",selected:"PPimrFg0Nh0WmLjCjE0o",radioContainer:"KV_3zPeX0fbJc3qsakSg",label:"hzfcWekMwy5qix19gZwb",badge:"auBpBBkkPpuuRriL5l8A",radioButton:"BEz1heXsMkvtHKP91_wE",title:"X3l7OQmH1kC7ffWJ8pb7",subtitle:"DLl1UMCI4C19vHoCm51t"},op=function(e){var t=e.product,n=e.showBadge,r=e.selectedSku,i=e.handleRadioSelection,a=e.showCreditsOption,o=void 0!==a&&a,c=(0,Xr.c)(),l=(0,s.d4)((function(e){return e.calc.selectedAccountHasAnyCredits})),u=(0,s.d4)((function(e){return e.calc.step.neededCredits})),d=(0,s.d4)((function(e){return e.calc.step.oneCreditNeeded})),f=(0,s.d4)((function(e){return e.calc.step.oneCreditRemaining})),p=(0,s.d4)((function(e){return e.calc.step.balance})),_=!l,h=function(){return r===(o?"credit":t.sku)};return(0,Or.jsxs)("div",{className:"".concat(ap.upgradeChoice," ").concat(h()?ap.selected:""),"data-testid":"radio-button",onChange:i,role:"radio",tabIndex:0,"aria-checked":!0,children:[n?(0,Or.jsx)(Bl,{className:ap.badge,"data-testid":"badge",children:(0,Or.jsx)("span",{"data-testid":"badge",children:(0,Or.jsx)(ei.A,{children:c("best_value_caps")})})}):null,(0,Or.jsxs)("label",{className:ap.label,htmlFor:o?"credit":t.sku,"data-testid":"label",children:[(0,Or.jsx)("input",{type:"radio",className:ap.radioButton,value:o?"credit":t.sku,name:"purchase-choice",id:o?"credit":t.sku,"data-testid":"radio",defaultChecked:h()}),(0,Or.jsxs)("div",{className:ap.titleContainer,children:[(0,Or.jsx)("div",{className:ap.title,"data-testid":"title",children:o?c("get_image_with_credits"):_?c("any_downloads_for_price",{downloads:t.download_cap,price:t.price_per_month}):c("get_image_by_upgrading")}),(0,Or.jsx)("div",{className:ap.subtitle,"data-testid":"subtitle",children:function(){if(o){var e=d?"buy_one_more_credit":"buy_multiple_credits";return"".concat(c(f?"single_credit_available":"multiple_credits_available",{available:p}),"\n        ").concat(c(e,{needed:u}))}return _?c("per_image",{price:t.price_per_image}):c("any_downloads_for_price",{downloads:t.download_cap,price:t.price_per_month})}()})]})]})]})};op.defaultProps={product:null,showBadge:!1,showCreditsOption:!1};var sp=op,cp="lewH3g0fs1B9xAb_2vXZ",lp="vh7oVkyqBObJQ0gfOwU6";function up(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dp=function(e){var t,n=e.buttonText,r=e.variant,i=e.isUpgradeButton,a=e.selectedSku,o=e.ga4CtaLabel,s=il(),c=(0,lo.A)(),l=null!==(t={"super-cta":gi.Jr.PRIMARY,"primary-cta":gi.Jr.SECONDARY,"hollow-cta":gi.Jr.HOLLOW}[r])&&void 0!==t?t:gi.Jr.PRIMARY,u=Kr()(up(up({},cp,i),lp,!i));return(0,Or.jsx)(gi.Ay,{type:"submit","data-testid":"cta-button",className:u,variant:l,size:gi.Ni.LARGE,onClick:function(e){(e.preventDefault(),a&&"credit"!==a)?(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(0,d.C)(e)}((0,uo.A)({cta_text:o,cta_url:"/purchase/subscriptions/".concat(a,"?upgrade=true"),ui_element_location:c})),s.redirectToFastCheckoutWithUpgrade(a)):s.redirectToPricing()},fullWidth:!0,children:n})};dp.defaultProps={selectedSku:null,isUpgradeButton:!0,ga4CtaLabel:null};var fp=dp;function pp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var hp=function(){var e,t,n=(0,Xr.c)(),i=(0,Ps.m)(),a=(0,s.d4)((function(e){return e.calc.totalCreditCost})),o=(0,s.d4)((function(e){return e.calc.step.upsellData})),c=(0,s.d4)((function(e){return e.calc.step.oneCreditNeeded})),l=pp((0,r.useState)((null==o||null===(e=o.product_two)||void 0===e?void 0:e.sku)||(null==o||null===(t=o.product_one)||void 0===t?void 0:t.sku)),2),u=l[0],d=l[1],f=function(e){d(e.target.value)};return(0,r.useEffect)((function(){i.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_View",adp_selection:"is_premium_self_upgrade-no-credits"})}),[]),(0,Or.jsxs)("div",{"data-testid":"zero-credits-component",children:[(0,Or.jsxs)("div",{className:ip.upgradePromo,children:[(0,Or.jsx)(rp,{className:ip.icon,"data-testid":"icon"}),(0,Or.jsx)(ei.A,{children:n("get_this_image_by_upgrading",{strong:"<strong>",end_strong:"</strong>"})})]}),(0,Or.jsx)("span",{className:ip.optionsText,children:(0,Or.jsx)(ei.A,{children:n("ready_to_upgrade")})}),(0,Or.jsx)("hr",{}),o.product_one&&(0,Or.jsx)(sp,{product:o.product_one,selectedSku:u,handleRadioSelection:f}),(0,Or.jsx)("hr",{}),o.product_two&&(0,Or.jsx)(sp,{product:o.product_two,selectedSku:u,handleRadioSelection:f,showBadge:!0}),(0,Or.jsx)("hr",{}),(0,Or.jsx)(fp,{buttonText:n("upgrade_to_premium"),variant:"primary-cta",selectedSku:u,ga4CtaLabel:"upgrade_to_premium"}),(0,Or.jsx)(fp,{buttonText:n(c?"get_image_one_credit":"get_image_x_credits",{amount:a}),variant:"hollow-cta",isUpgradeButton:!1,selectedSku:"credit"})]})};function mp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var gp=function(){var e,t,n,i=(0,Xr.c)(),a=(0,Ps.m)(),o=(0,s.d4)((function(e){return e.calc.step.upsellData})),c=mp((0,r.useState)((null==o||null===(e=o.product_one)||void 0===e?void 0:e.sku)||(null==o||null===(t=o.product_two)||void 0===t?void 0:t.sku)),2),l=c[0],u=c[1],d=function(e){u(e.target.value)},f="credit"===l?"buy_credits":"upgrade_your_subscription",p=null!==(n=null==o?void 0:o.product_one)&&void 0!==n?n:null==o?void 0:o.product_two;return(0,r.useEffect)((function(){a.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_View",adp_selection:"is_premium_self_upgrade-insufficient-credits"})}),[]),(0,Or.jsxs)("div",{"data-testid":"insufficient-credits-component",children:[(0,Or.jsx)("hr",{}),(0,Or.jsx)(sp,{selectedSku:l,handleRadioSelection:d,showCreditsOption:!0}),(0,Or.jsx)("hr",{}),(0,Or.jsx)(sp,{product:p,selectedSku:l,handleRadioSelection:d,showBadge:!0}),(0,Or.jsx)("hr",{}),(0,Or.jsx)(fp,{buttonText:i(f),variant:"primary-cta",selectedSku:l,ga4CtaLabel:f})]})},yp="ubQ2qE9EQCIjLa4WspC1",bp=function(){var e=(0,s.wA)(),t=(0,s.d4)((function(e){return e.calc.selectedAccountHasAnyCredits})),n=(0,s.d4)((function(e){return e.subscription.sku})),r=!t,i=(0,s.d4)((function(e){return e.calc.step.confirmSection}))?(0,Or.jsx)("div",{className:yp,children:(0,Or.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,Or.jsx)(ca.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){e(Ie.cancelDownload())}})})}):null;return function(e,t){window.tracking_data&&(window.tracking_data.page_mode=e?"premium_self_upgrade_insufficient-credits":"premium_self_upgrade-no-credits",window.tracking_data.sku=t)}(t,n),(0,Or.jsxs)(Or.Fragment,{children:[i,r?(0,Or.jsx)(hp,{}):(0,Or.jsx)(gp,{})]})},wp=["styles"];function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(null,arguments)}var Ep=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,wp);return i().createElement("svg",Sp({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M5.5 7.806v8.212h28.826V7.806h-5.172s.42 4.801-2.37 4.428c0 0-2.733.264-2.622-4.61h-8.76v2.765s-.636 1.996-2.368 1.845c0 0-2.923.57-2.37-4.61L5.5 7.806z",fill:"#AFDED7"}),i().createElement("path",{d:"M11.5 32.154l-1.116-1.116 7.154-7.153 4 4 7.043-8 1.053 1.034-8.076 9.216-4.02-4.02-6.038 6.039z",fill:"#000"}),i().createElement("path",{d:"M34.325 6.79h-4.548v-.467a2.962 2.962 0 00-2.958-2.958 2.962 2.962 0 00-2.958 2.958v.468h-7.92v-.5a2.962 2.962 0 00-2.96-2.958 2.962 2.962 0 00-2.958 2.959v.499H5.5a.833.833 0 00-.833.833v27.89c0 .461.373.834.833.834h28.825c.46 0 .834-.373.834-.833V7.624a.833.833 0 00-.834-.833zm-8.798-.467c0-.712.58-1.292 1.292-1.292.712 0 1.292.58 1.292 1.292V9.99c0 .712-.58 1.291-1.292 1.291-.712 0-1.292-.58-1.292-1.291V6.323zM11.69 6.292c0-.713.58-1.292 1.292-1.292.712 0 1.291.58 1.291 1.292v3.666c0 .713-.579 1.292-1.291 1.292s-1.292-.58-1.292-1.292V6.292zm-1.667 2.165v1.501a2.962 2.962 0 002.959 2.959 2.962 2.962 0 002.958-2.959v-1.5h7.92V9.99a2.962 2.962 0 002.959 2.958 2.962 2.962 0 002.958-2.958V8.457h3.715v6.727H6.333V8.457h3.69zm-3.69 26.225V16.85h27.16v17.83H6.332z",fill:"#0D0D0D"}))};function Op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ap=function(e){return e.includes("PLUS")?"ppv":e.includes("PREM")?"premium":"basic"},Ip=function(e,t){return"self_upgrade_higher_".concat(Ap(e),"_").concat(t?"no":"low","_downloads")},Np=function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,s=(0,uo.A)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Op(Object(n),!0).forEach((function(t){Cp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({cta_interaction:e,cta_text:t,cta_selection:Ip(n,r),cta_url:i,ui_element_location:a},o?{download_flow:o}:{}));(0,d.C)(s)},Tp=function(e,t,n){Np("cta_clicked",t,e,!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n,"download_actions","{}")},xp=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Np("cta_shown","upgrade_to_higher_".concat(Ap(e)),e,n,void 0,t,void 0)},jp={closeIcon:"ikuDVmF1txCkCU1xwZtB",promoContainer:"jdfAc5y5Ia5Ujv3qmwx_",upgradePromo:"TwVfDobsP_y3VVqrrVsL",icon:"z0oTiNcwTiO6Z1Kd0Ocj",upgradeText:"yla_8raVrA_M5VK0CAk_"},Pp={upgradeChoice:"B_xpaXl9yRu0zqDbF_qx",selected:"N9nNIqw355ARxtYm7PPQ",radioContainer:"_NRbRgEvBecD1xb_cxfQ",label:"HyDWKb22U90gTUTMAYSK",badge:"BjSMXhDqBzSvwBlTFtOH",radioButton:"eqnUlo8vQzkfX4ZFvvkQ",title:"PiG_Wgy9EOI3LEjIqgc8",subtitle:"grPj47ko1NWUPvU2CmO1"},Dp=function(e){var t,n,r,i=e.product,a=e.showBadge,o=e.selectedSku,c=e.handleRadioSelection,l=e.showCreditsOption,u=(0,Xr.c)(),d=(0,s.d4)((function(e){return e.userDetails.subsInfo})).isPPV,f=function(){return!!l||o===(null==i?void 0:i.sku)},p=(0,s.d4)((function(e){return e.userDetails.istock_asset_credit_cost})),_=d?"file_amount_for_price":"image_amount_for_price",h=l?u("get_image_with_credits"):u(_,{amount:i.download_cap,formatted_price:i.price_per_month}),m=l?u("buy_one_credit_for_price",{price:p}):u(d?"price_per_asset":"per_image",{price:i.price_per_image});return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("hr",{}),(0,Or.jsxs)("div",{className:"".concat(Pp.upgradeChoice," ").concat(f()?Pp.selected:""),"data-testid":"radio-button",onChange:c,role:"radio",tabIndex:0,"aria-checked":!0,children:[a?(0,Or.jsx)(Bl,{className:Pp.badge,"data-testid":"badge",children:(0,Or.jsx)("span",{"data-testid":"badge",children:(0,Or.jsx)(ei.A,{children:u("best_value_caps")})})}):null,(0,Or.jsxs)("label",{className:Pp.label,htmlFor:null!==(t=null==i?void 0:i.sku)&&void 0!==t?t:"credits","data-testid":"label",children:[(0,Or.jsx)("input",{type:"radio",className:Pp.radioButton,value:null!==(n=null==i?void 0:i.sku)&&void 0!==n?n:"credits",name:"purchase-choice",id:null!==(r=null==i?void 0:i.sku)&&void 0!==r?r:"credits","data-testid":"radio",defaultChecked:f()}),(0,Or.jsxs)("div",{className:Pp.titleContainer,children:[(0,Or.jsx)("div",{className:Pp.title,"data-testid":"title",children:h}),(0,Or.jsx)("div",{className:Pp.subtitle,"data-testid":"subtitle",children:m})]})]})]})]})};Dp.defaultProps={product:null,showBadge:!1,showCreditsOption:!1};var Lp=Dp,Rp="HDRbCrU7iFckDXOKf1b4",kp="rqnWryK5G7noWCRnvbbN",Fp=function(e){var t=e.buttonText,n=e.variant,r=e.isUpgradeButton,i=e.selectedSku,a=il(),o=(0,s.d4)((function(e){return e.calc.step.subscriptionSku})),c=function(e){r?Tp(o,"upgrade_subscription",a.fastCheckoutWithUpgradeUrl(i)):Tp(o,"get_this_image_credits",a.pnpCreditsUrl()),e.preventDefault(),r?a.redirectToFastCheckoutWithUpgrade(i):window.location.href=a.pnpCreditsUrl()},l=null!=n?n:gi.Jr.PRIMARY,u=Kr()("secondary"===n?Rp:kp);return(0,Or.jsx)(gi.Ay,{type:"submit","data-testid":"cta-button",className:u,variant:l,size:gi.Ni.LARGE,onClick:function(e){return c(e)},fullWidth:!0,children:t})};Fp.defaultProps={isUpgradeButton:!0,selectedSku:null};var Up=Fp;function Mp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Wp=function(){var e,t,n=(0,$r.F)(),i=(0,Xr.c)(),a=(0,lo.A)(),o=(0,s.d4)((function(e){return e.calc.step.upsellData})),c=(0,s.d4)((function(e){return e.calc.totalCreditCost})),l=(0,s.d4)((function(e){return e.buyCardData.higherVolumeSelfUpgrade.canSelfUpsell})),u=(0,s.d4)((function(e){return e.userDetails.subsInfo.downloadLimit})),d=(0,s.d4)((function(e){return e.calc.step.subscriptionSku})),f=Mp((0,r.useState)((null==o||null===(e=o.product_two)||void 0===e?void 0:e.sku)||(null==o||null===(t=o.product_one)||void 0===t?void 0:t.sku)),2),p=f[0],_=f[1],h=(0,s.d4)((function(e){return e.asset})).isFilm,m=function(e){_(e.target.value)},v=n.cleanPath("/customer-support/upgrade"),g=h?"boost_subscription_add_more":"boost_your_subscription";return(0,r.useEffect)((function(){xp(d,a)}),[]),(0,Or.jsxs)("div",{"data-testid":"zero-downloads-component",children:[(0,Or.jsxs)("div",{className:jp.upgradePromo,children:[(0,Or.jsx)(Ep,{className:jp.icon,"data-testid":"icon"}),(0,Or.jsxs)("div",{className:jp.upgradeText,children:[(0,Or.jsx)(ei.A,{children:i("no_available_downloads",{strong:"<strong>",download_cap:u,end_strong:"</strong>"})}),l?i(g):(0,Or.jsxs)("a",{href:v,children:[(0,Or.jsx)("span",{children:i("dont_run_out_again")}),(0,Or.jsxs)("span",{children:[i("contact_us"),">"]})]})]})]}),(0,Or.jsx)("span",{className:jp.optionsText,children:(0,Or.jsx)(ei.A,{children:i("download_options")})}),l&&(0,Or.jsxs)(Or.Fragment,{children:[o.product_one&&(0,Or.jsx)(Lp,{product:o.product_one,selectedSku:p,handleRadioSelection:m}),o.product_two&&(0,Or.jsx)(Lp,{product:o.product_two,selectedSku:p,handleRadioSelection:m,showBadge:!0}),(0,Or.jsx)("hr",{}),(0,Or.jsx)(Up,{buttonText:i("upgrade_cta"),variant:gi.Jr.SECONDARY,selectedSku:p}),(0,Or.jsx)(Up,{buttonText:i(1===c?"get_image_one_credit":"get_image_x_credits",{amount:c}),variant:gi.Jr.HOLLOW,isUpgradeButton:!1,selectedSku:"credit"})]}),!l&&(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)(Lp,{selectedSku:"credits",handleRadioSelection:m,showCreditsOption:!0}),(0,Or.jsx)(Up,{buttonText:i("buy_credits"),variant:gi.Jr.SECONDARY,isUpgradeButton:!1})]})]})},zp=function(){var e=(0,Xr.c)(),t=(0,lo.A)(),n=(0,s.d4)((function(e){return e.calc.step.downloadsRemaining})),i=(0,s.d4)((function(e){return e.calc.step.subscriptionSku})),a=il().higherVolumeUpgradeRedirectUrl;return(0,r.useEffect)((function(){document.getElementById("upgrade-plan-redirect-link").addEventListener("click",(function(){return Tp(i,"upgrade_subscription_low_downloads",a(),!1)})),xp(i,t,!1)}),[]),(0,Or.jsxs)("div",{className:jp.promoContainer,"data-testid":"some-downloads-component",children:[(0,Or.jsx)(Ep,{className:jp.icon,"data-testid":"icon"}),(0,Or.jsxs)("div",{className:jp.upgradeText,children:[(0,Or.jsx)(ei.A,{children:1===n?e("one_download_remaining"):e("available_downloads_remaining",{available:n})}),(0,Or.jsx)(ei.A,{children:e("dont_run_out_of_downloads",{links:[{href:a(),target:"_blank",rel:"noopener noreferrer nofollow",id:"upgrade-plan-redirect-link"}]})})]})]})},Gp=function(){var e=(0,s.wA)(),t=(0,s.d4)((function(e){return e.calc.step.downloadsRemaining})),n=(0,s.d4)((function(e){return e.calc.step.isConfirmationState})),r=(0,s.d4)((function(e){return e.calc.step.cancelButton}))?(0,Or.jsx)("div",{className:jp.closeIcon,children:(0,Or.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,Or.jsx)(ca.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){e(Ie.cancelDownload())}})})}):null;return(0,Or.jsxs)(Or.Fragment,{children:[r,0===t&&(0,Or.jsx)(Wp,{}),n&&t>0&&(0,Or.jsx)(zp,{})]})},Hp="weMD47uojTSjy4Qw8ZRQ",Vp="KmTHr1nVV1xa5J0QStX6",Yp=function(){var e=(0,Xr.c)(),t=il().upgradePlanRedirectUrl;return function(e){window.tracking_data&&(window.tracking_data.page_mode="premium_self_upgrade-sufficient-credits",window.tracking_data.sku=e)}((0,s.d4)((function(e){return e.subscription.sku}))),(0,Or.jsx)("div",{"data-testid":"sufficient-credits-component",children:(0,Or.jsxs)("div",{className:Hp,children:[(0,Or.jsx)(rp,{className:Vp,"data-testid":"icon"}),(0,Or.jsxs)("span",{"data-testid":"sufficient-credit-msg",children:[e("want_to_access_all_images"),(0,Or.jsx)(ei.A,{children:e("upgrade_your_plan",{links:[{href:t(),id:"upgrade-plan-redirect-link"}]})}),(0,Or.jsx)("br",{})]})]})})},Kp=function(){var e=(0,s.d4)((function(e){return e.asset})),t=(0,s.d4)((function(e){return e.calc.step.showTshirtSizes})),n=(0,s.d4)((function(e){return e.calc.step.completeSection})),r=(0,s.d4)((function(e){return e.calc.step.isConfirmationState})),i=(0,s.d4)((function(e){return e.calc.step.redownloadSection})),a=(0,s.d4)((function(e){return e.calc.step.viewLicenseSelection})),o=(0,s.d4)((function(e){return e.calc.redownloadForFree})),c=(0,s.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),l=(0,s.d4)((function(e){return e.calc.step.showBasicSelfServeUpgrade})),u=(0,s.d4)((function(e){return e.calc.step.showHigherVolumeSelfUpgrade})),d=(0,s.d4)((function(e){return!e.asset.isFilm&&e.userDetails.has_subscription&&e.calc.assetCollectionIsSignature&&e.buyCardData.basicSelfServeUpgrade.upgradeCountryEligible&&e.calc.selectedAccountHasEnoughCredits})),f=sf(),p=f.errorElem,_=f.pickerOptions,h=f.setSelected,m=f.validateEpsPickerAndSave,v=f.epsFormatCtaTitle,g=f.epsFormatCompleteDownload,y=f.epsFormatTitleDownload,b=f.epsFormatTypeCreditAgreement;return(0,Or.jsx)("div",{className:"download-actions","data-testid":"eps-download-actions",children:(0,Or.jsxs)("form",{className:"istock-download-form","data-testid":"istock-download-form",children:[a?(0,Or.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,Or.jsx)(Gd,{}),(0,Or.jsx)($d,{})]}):!c&&(0,Or.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"columnheader","data-testid":"collection-options-header",children:[(0,Or.jsx)(Bd,{isEpsFormatTest:!0,epsFormatTitleDownload:y}),e.isEditorialUseOnly&&(0,Or.jsx)("div",{className:"editorial-bubble",children:(0,Or.jsx)(zd,{})}),!o&&!n&&(0,Or.jsx)(hd,{}),t&&(0,Or.jsx)(ep,{errorElem:p,setSelected:h,pickerOptions:_})]}),u&&(0,Or.jsx)(Gp,{}),(!c||a)&&(0,Or.jsx)(Vu,{validateEpsPickerAndSave:m,isEpsFormatTest:!0,epsFormatCtaTitle:v,epsFormatCompleteDownload:g}),i&&!e.freeFile&&(0,Or.jsx)(Yu,{}),r&&(0,Or.jsx)(qu,{isEpsFormatTest:!0,epsFormatTypeCreditAgreement:b}),l&&(0,Or.jsx)(bp,{}),r&&d&&(0,Or.jsx)(Yp,{})]})})},qp="zjuS5IAg5CQhd8M44bdT",Jp="e3pHE6gYUawxzoWGsSVz",Qp=function(e){var t,n=e.buttonText,r=e.variant,i=e.isUpgradeButton,a=e.selectedSku,o=e.creditsFastCheckout,s=e.redirectToPricing,c=il(),l=null!==(t={"primary-cta":gi.Jr.SECONDARY,"hollow-cta":gi.Jr.HOLLOW}[r])&&void 0!==t?t:gi.Jr.PRIMARY,u=Kr()("primary-cta"===r?qp:Jp);return(0,Or.jsx)(gi.Ay,{type:"submit","data-testid":"cta-button",className:u,variant:l,size:gi.Ni.LARGE,onClick:function(e){return function(e){e.preventDefault(),i?a?c.redirectToFastCheckoutWithUpgrade(a):s?c.redirectToSelfServeUpgrade():c.redirectToPPVUpgradeContactUs():o?c.redirectToFastCheckout():c.redirectToPricing()}(e)},fullWidth:!0,children:n})};Qp.defaultProps={isUpgradeButton:!1,selectedSku:null,creditsFastCheckout:!1,redirectToPricing:!0};var Zp=Qp,Xp="OCvLDWhVCWdAKiqLfmZg",$p="hyfQbD_caPSinI00Sjsp",e_="d6Iqfo2DeAxKwffGFS_A",t_="stGKa1H6RCI8kzbMHf_2",n_="IHQ18PQk_YlYPXVKIn0F",r_="ycqWZmIV1NdVSojlWi7U",i_="GZxXRTA0gNVw47MBbKAy",a_="iRrlxfEjoaK_CylNp6Di",o_="OPdYhmdxHYTmMwrHpjo5",s_="zmgKA4gHoA1gSQj4o0JP",c_=function(e){var t=e.upsellProduct,n=void 0===t?{price_per_image:"",download_cap:0}:t,r=e.showBadge,i=e.selectedOption,a=e.handleRadioSelection,o=e.isCredits,c=void 0!==o&&o,l=(0,Xr.c)(),u=(0,s.d4)((function(e){return e.calc.totalCreditCost})),d=(0,s.d4)((function(e){return e.userDetails.istock_asset_credit_cost})),f=!(0,s.d4)((function(e){return e.calc.selectedAccountHasAnyCredits})),p=(0,s.d4)((function(e){return e.calc.step.oneCreditRemaining})),_=c?"credits":"upgrade",h=(0,s.d4)((function(e){return e.calc.step.balance})),m=i===_,v=m?$p:"",g=l(c?"get_this_video_with_credits":"upgrade_to_an_annual_premium");return(0,Or.jsxs)("div",{className:"".concat(Xp," ").concat(v),"data-testid":"radio-button",onChange:a,role:"radio",tabIndex:0,"aria-checked":!0,children:[r?(0,Or.jsx)(Bl,{className:t_,"data-testid":"badge",children:(0,Or.jsx)("span",{"data-testid":"badge",children:(0,Or.jsx)(ei.A,{children:l("best_value_caps")})})}):null,(0,Or.jsxs)("label",{className:e_,htmlFor:_,"data-testid":"label",children:[(0,Or.jsx)("input",{type:"radio",className:n_,value:_,name:"purchase-choice",id:_,"data-testid":"radio",defaultChecked:m}),(0,Or.jsxs)("div",{className:r_,children:[(0,Or.jsx)("div",{className:i_,"data-testid":"title",children:g}),(0,Or.jsx)("div",{className:a_,"data-testid":"subtitle",children:c?f?l("buy_credits_for_price",{num_credits:u,price:d}):"".concat(l(p?"single_credit_available":"multiple_credits_available",{available:h}),"\n        ").concat(l("buy_more_credits")):(0,Or.jsxs)("ul",{className:o_,children:[(0,Or.jsx)("li",{className:s_,children:f?l("get_video_for_price",{price:n.price_per_image}):l("get_lowest_price_video")}),(0,Or.jsx)("li",{className:s_,children:f?l("any_x_files_per_month",{files_per_month:n.download_cap}):l("access_any_file")}),(0,Or.jsx)("li",{className:s_,children:l("rollover_250_unused_downloads")})]})})]})]})]})};c_.defaultProps={showBadge:!1,isCredits:!1,upsellProduct:{}};var l_=c_,u_="aTLuXBkRBecG2Edtu8FK",d_="_dHY7NeKnR5XEezRK02A";function f_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var __=function(){var e=(0,Xr.c)(),t=(0,s.d4)((function(e){return e.calc.totalCreditCost})),n=(0,s.d4)((function(e){return e.buyCardData.enhancedPPVUpgrade})),i=n.upsellProduct,a=n.canSelfUpsell?i.sku:null,o=function(){return n.canSelfUpsell?a?"primary-cta":"hollow-cta":"primary-cta"},c=f_((0,r.useState)(n.canSelfUpsell?"upgrade":"credits"),2),l=c[0],u=c[1],d="credits"===l,f=function(e){u(e.target.value)};return(0,Or.jsxs)("div",{className:d_,"data-testid":"zero-credits-component",children:[(0,Or.jsx)("hr",{}),(0,Or.jsx)(l_,{selectedOption:l,handleRadioSelection:f,isCredits:!0}),(0,Or.jsx)("hr",{}),(0,Or.jsx)(l_,{upsellProduct:i,selectedOption:l,handleRadioSelection:f,showBadge:!0}),(0,Or.jsx)("hr",{}),d?(0,Or.jsx)(Zp,{buttonText:e("get_video_with_credits",{price_per_clip:t}),variant:o(),creditsFastCheckout:!0}):(0,Or.jsx)(Zp,{buttonText:e("upgrade_to_premium_plus_video"),variant:o(),isUpgradeButton:!0,selectedSku:a,redirectToPricing:!1})]})};function h_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v_=function(){var e=(0,Xr.c)(),t=(0,s.d4)((function(e){return e.buyCardData.enhancedPPVUpgrade.upsellProduct})),n=h_((0,r.useState)("upgrade"),2),i=n[0],a=n[1],o=function(e){a(e.target.value)},c="credits"===i,l=c?"buy_credits":"upgrade_your_subscription";return(0,Or.jsxs)("div",{className:d_,"data-testid":"insufficient-credits-component",children:[(0,Or.jsx)("hr",{}),(0,Or.jsx)(l_,{selectedOption:i,handleRadioSelection:o,isCredits:!0}),(0,Or.jsx)("hr",{}),(0,Or.jsx)(l_,{upsellProduct:t,selectedOption:i,handleRadioSelection:o,showBadge:!0}),(0,Or.jsx)("hr",{}),(0,Or.jsx)(Zp,{buttonText:e(l),variant:"primary-cta",isUpgradeButton:!c})]})},g_=function(){var e=(0,s.wA)(),t=(0,s.d4)((function(e){return e.calc.selectedAccountHasAnyCredits})),n=(0,s.d4)((function(e){return e.calc.selectedAccountHasEnoughCredits})),i=t&&!n,a=(0,s.d4)((function(e){return e.calc.step.confirmSection}))?(0,Or.jsx)("div",{className:u_,children:(0,Or.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,Or.jsx)(ca.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:function(){e(Ie.cancelDownload())}})})}):null,o=!t;return(0,r.useEffect)((function(){window.tracking_data&&(window.tracking_data.page_mode=t?"ppv_midterm_upgrade-insufficient-credits":"ppv_midterm_upgrade-no-credits")}),[]),(0,Or.jsxs)("div",{className:d_,children:[a,o&&(0,Or.jsx)(__,{}),i&&(0,Or.jsx)(v_,{})]})},y_="fxB8oSWfDxxgqaxgIbyj",b_="gm2mIjLKm6OZpfNYmsEz",w_="d7TxhhKRUtUo8QO9l5Tr",S_=function(){var e=(0,Xr.c)(),t=il();return(0,r.useEffect)((function(){window.tracking_data&&(window.tracking_data.page_mode="ppv_midterm_upgrade-sufficient-credits")}),[]),(0,Or.jsxs)("div",{"data-testid":"sufficient-credits-component",children:[(0,Or.jsx)("hr",{}),(0,Or.jsxs)("div",{className:y_,children:[(0,Or.jsx)(rp,{className:b_,"data-testid":"icon"}),(0,Or.jsxs)("span",{children:[e("save_on_each_clip_download"),(0,Or.jsx)("a",{className:w_,"data-testid":"sufficient-credit-msg",href:t.selfServeUpgradeUrl(),children:(0,Or.jsx)("span",{children:e("upgrade_to_plan_to_premium_video")})}),(0,Or.jsx)("br",{})]})]})]})},E_=function(e){var t=e.showEPSFileTypeTest,n=e.imageIsEdited,r=e.editsPendingForDownload,i=(0,s.d4)((function(e){return e.asset})),a=(0,s.d4)((function(e){return e.calc.step.completeSection})),o=(0,s.d4)((function(e){return e.calc.step.isConfirmationState})),c=(0,s.d4)((function(e){return e.calc.step.redownloadSection})),l=(0,s.d4)((function(e){return e.calc.step.viewLicenseSelection})),u=(0,s.d4)((function(e){return e.calc.redownloadForFree})),d=(0,s.d4)((function(e){return e.mobileSimplification})),f=(0,s.d4)((function(e){return e.userDetails.istock_asset_credit_cost})),p=(0,s.d4)((function(e){return e.calc.totalCreditCost})),_=(0,Xr.c)(),h=(0,s.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),m=(0,s.d4)((function(e){return e.userDetails.free_trial_subscription_multivariant_eligible})),v=(0,s.d4)((function(e){return e.calc.step.showBasicSelfServeUpgrade})),g=(0,s.d4)((function(e){return e.calc.step.showEnhancedPPVUpgrade})),y=(0,s.d4)((function(e){return e.calc.step.showHigherVolumeSelfUpgrade})),b=(0,s.d4)((function(e){return e.calc.selectedAccountHasEnoughCredits&&e.buyCardData.enhancedPPVUpgrade.eligible&&e.asset.isFilm})),w=!d&&(!h||h&&m||l),S=h&&!m&&!l,E=!h||m,O=(0,s.d4)((function(e){return!e.asset.isFilm&&e.userDetails.has_subscription&&e.calc.assetCollectionIsSignature&&e.buyCardData.basicSelfServeUpgrade.upgradeCountryEligible&&e.calc.selectedAccountHasEnoughCredits}));return t?(0,Or.jsx)(Kp,{}):(0,Or.jsxs)("div",{className:"download-actions","data-testid":"download-actions",children:[(0,Or.jsxs)("form",{className:"istock-download-form","data-testid":"istock-download-form",children:[l?(0,Or.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,Or.jsx)(Gd,{}),(0,Or.jsx)($d,{})]}):E&&(0,Or.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"columnheader","data-testid":"collection-options-header",children:[(0,Or.jsx)(Bd,{editsPendingForDownload:r,imageIsEdited:n}),i.isEditorialUseOnly&&(0,Or.jsx)("div",{className:"editorial-bubble",children:(0,Or.jsx)(zd,{})}),!u&&!a&&(0,Or.jsx)(hd,{}),(0,Or.jsx)(_d,{})]}),v&&(0,Or.jsx)(bp,{}),g&&(0,Or.jsx)(g_,{}),y&&(0,Or.jsx)(Gp,{}),w&&(0,Or.jsx)(Vu,{editsPendingForDownload:r,imageIsEdited:n,hasEnoughCredits:o&&(O||b)}),S&&(0,Or.jsx)(wd,{}),c&&!i.freeFile&&(0,Or.jsx)(Yu,{}),!a&&n&&(0,Or.jsx)(Yc.A,{title:_("your_download_includes_v2"),firstListItemText:_("one_original_image"),secondListItemText:_("one_modified_image"),allowMultipleFileText:_("allow_multiple_files_saved")}),o&&(0,Or.jsx)(qu,{}),o&&O&&(0,Or.jsx)(Yp,{}),o&&b&&(0,Or.jsx)(S_,{}),u&&!a&&!d&&(!h||l)&&(0,Or.jsx)(Qu,{})]}),d&&(0,Or.jsx)(td,{children:!h&&(0,Or.jsxs)("div",{"data-testid":"mobile-cta-header",children:[(0,Or.jsx)("span",{children:f})," |"," ",(0,Or.jsx)("span",{className:"grey-cta-modal-text",children:(0,Or.jsx)(Ed,{totalCreditCost:p})})]})})]})};E_.defaultProps={showEPSFileTypeTest:null,editsPendingForDownload:!1,imageIsEdited:!1};var O_=(0,va.A)(E_,"download_actions"),C_=n(69668),A_=n(78664),I_=n(26260),N_="On2k0dR0Tp4fpe8sBNJo",T_=function(e){var t=e.editable,n=e.isFilm,i=(0,Xr.c)(),a=(0,r.useMemo)((function(){return t&&!n}),[t,n]),o=(0,r.useMemo)((function(){return t&&n}),[t,n]);return(0,Or.jsxs)(A_.A,{className:N_,children:[o&&(0,Or.jsx)(I_.A,{"data-testid":"create-video-projects-with-editor",children:i("create_video_projects_with_editor")}),(0,Or.jsx)(I_.A,{children:i("save_and_share")}),(0,Or.jsx)(I_.A,{children:i("track_download_history")}),(0,Or.jsx)(I_.A,{children:i("complete_purchase_faster")}),a&&(0,Or.jsx)(I_.A,{"data-testid":"and-much-more",children:i("and_much_more")})]})};T_.defaultProps={editable:!1};var x_=T_,j_="igP1hF6TJ_LwGwzHGcR1",P_="pA3UD7eDxqfWHJJonR7g",D_="um_Dm5NZkXLBd6DxbGOX",L_=function(){var e=(0,s.d4)((function(e){return e.asset.isFilm})),t=(0,s.d4)((function(e){return e.asset.isEditorialUseOnly})),n=(0,s.d4)((function(e){return e.editable})),r=(0,s.d4)((function(e){return e.calc.step.viewLicenseSelection})),i=(0,s.d4)((function(e){return e.buyCardData.signInPath})),a=(0,Xr.c)(),o=(0,Ps.m)(),c=Kr()("download-actions",j_),l=e?"sign-in__test sign-in__extra-space":"sign-in__test";return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("div",{className:c,"data-testid":"sign-in-actions",children:(0,Or.jsx)("form",{className:"istock-download-form",children:r?(0,Or.jsx)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:(0,Or.jsx)(Gd,{})}):(0,Or.jsxs)("section",{className:"adp-licenses adp-fade-and-slide","data-testid":"header",children:[(0,Or.jsx)(Bd,{}),(0,Or.jsx)("hr",{}),t&&(0,Or.jsx)("div",{className:"editorial-bubble",children:(0,Or.jsx)(zd,{})}),(0,Or.jsx)(Ii.Ay,{component:Ii.QY.H4,variant:Ii.PT.title.small,className:P_,children:a("sign_in_better_experience_colon")}),(0,Or.jsx)(x_,{isFilm:e,editable:n}),(0,Or.jsx)(C_.A,{buttonStyleProps:{size:gi.Ni.LARGE,variant:gi.Jr.SECONDARY,fullWidth:!0},className:D_,href:i,onClick:function(){o.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_Sign_in_Button_Click",adp_selection:"adp_sign_in",ui_element_location:"adp_buy_card"})},"data-testid":"sign-in-cta",children:a("sign_in")})]})})}),(0,Or.jsx)("hr",{className:l})]})},R_=n(74253),k_="DBlmRr9bCFZnhv34CY2d",F_="LnOLJ4WPBg1pjxPKMDBE",U_="cWU9wH5uj9cM5CMFEMVC",M_="nZzglQCZDqcndvQfpqOh",B_="lfKscdVREzvB1oVCcQsf",W_="hwFLofihT6hI1ximiYzB",z_=function(){var e,t,n=(0,Ds.Cz)(),r=(0,Zi.useExperience)("AIContributor"),i=(0,s.d4)((function(e){return e.asset})),a=(0,s.d4)((function(e){return e.calc.isInPricingClarity})),o=(0,s.d4)((function(e){return e.calc.largestSizeAvailable})),c=(0,s.d4)((function(e){return e.userDetails.istock_asset_credit_cost})),l=(0,s.d4)((function(e){return e.buyCardData.assetBuyCardContentPolicy.downloadSavingsDisclaimer})),u=(0,s.d4)((function(e){return e.categories.categoriesView})),d=(0,s.d4)((function(e){return e.asset.contributor.display_name})),f=(0,s.d4)((function(e){return e.asset.contributor.picture_url})),p=(0,s.d4)((function(e){return e.asset.contributor.member_name})),_={artists:i.artist,assettype:i.assetType,family:i.assetFamily},h=p?n.contributorPath(p,(t={},i.isFilm&&(t.assettype=i.assetType),i.mediaType&&"unknown"!==i.mediaType&&(t.mediatype=i.mediaType),t)):n.searchPath(_),m=(0,Xr.c)(),v=i.assetId,g=i.dateSubmitted,y=i.dateSubmittedFormatted,b=i.dateSubmittedVideo,w=i.dateSubmittedVideoFormatted,S=i.exclusiveContent,E=i.isIllustration,O=i.isFilm,C=i.isEssentialImage,A=i.location,I=Bo(),N=i.isFilm?b:g,T=i.isFilm?w:y,x=a,j=u&&(null===(e=u.parentKeywordCategory)||void 0===e?void 0:e.text),P=u&&u.ftlpCategory.text&&j,D=o?o.description:"";return(0,Or.jsxs)(Or.Fragment,{children:[(0,Or.jsx)("div",{className:"adp-contributor","data-testid":"asset-contributor",children:(0,Or.jsxs)("a",{className:"photographer ".concat(U_),"data-testid":"photographer",href:h,onClick:function(){return I.setUiElementLocation("contributor_credit_adp")},children:[(0,Or.jsx)("img",{"data-testid":"photographer-image",className:"adp-contributor-avatar",src:f||null,viewBox:"0 0 98 98",alt:""}),(0,Or.jsx)("span",{className:k_,children:m("credit")}),(0,Or.jsx)("span",{className:F_,children:d})]})}),x&&D&&(0,Or.jsxs)("div",{"data-testid":"largest-size-content",className:"size-description",children:[(0,Or.jsx)("span",{children:m("attributes.largest_size_available")}),(0,Or.jsx)("span",{"data-testid":"largest-size-description",children:D})]}),(0,Or.jsxs)("div",{className:"asset-id","data-testid":"asset-id",children:[(0,Or.jsx)("span",{children:m(E?"attributes.stock_illustration_id":O?"attributes.stock_video_id":"attributes.stock_photo_id")}),(0,Or.jsx)("span",{children:v})]}),g&&T?(0,Or.jsxs)("div",{className:"asset-upload-date","data-testid":"asset-upload-date",children:[(0,Or.jsx)("span",{children:m("upload_date")}),(0,Or.jsx)("span",{children:(0,Or.jsx)("time",{dateTime:N,children:T})})]}):null,i.location?(0,Or.jsxs)("div",{className:B_,"data-testid":"location",children:[(0,Or.jsx)("span",{className:M_,children:m("location")}),(0,Or.jsx)("span",{children:A})]}):null,P&&(0,Or.jsxs)("div",{className:W_,"data-testid":"asset-categories",children:[(0,Or.jsx)("span",{className:M_,children:m("categories")}),(0,Or.jsx)(R_.A,{ftlpCategory:u.ftlpCategory,parentKeywordCategory:u.parentKeywordCategory})]}),l&&(0,Or.jsx)("div",{className:"credits-usage-disclaimer","data-testid":"credits-usage-disclaimer",children:m(O?"video_asset_savings":C?"savings_based_on_essentials_image":"savings_based_on_signature_image",{file_cost:c})}),S&&(0,Or.jsx)("h5",{className:"exclusive","data-testid":"exclusive-content-label",children:m("exclusive_coverage_label")}),r.isOfferActive()&&i.ai?(0,Or.jsxs)("div",{className:"contributor-ai","data-testid":"contributor-ai",children:[(0,Or.jsx)("span",{children:"AI: "}),(0,Or.jsx)(C_.A,{href:"/contributorai",children:"Created with AI"})]}):null]})},G_=["styles"];function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H_.apply(null,arguments)}var V_=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,G_);return i().createElement("svg",H_({xmlns:"http://www.w3.org/2000/svg",width:"103.08",height:"96.199",viewBox:"2.608 1 103.08 96.199"},t),i().createElement("path",{fill:"#007EE5",d:"M33.36 2.125L3.609 21.55 24.18 38.025l29.999-18.523L33.36 2.125zM3.608 54.5L33.36 73.927l20.818-17.378-30-18.524L3.609 54.5zM54.18 56.549l20.818 17.378L104.75 54.5 84.178 38.025 54.18 56.55zM104.75 21.551L75 2.125 54.179 19.5l30 18.524 20.572-16.474z"}),i().createElement("path",{fill:"#007EE5",d:"M54.24 60.287L33.36 77.613l-8.933-5.833v6.54L54.24 96.199l29.814-17.88v-6.54l-8.933 5.834-20.88-17.326z"}))},Y_="mPNt5ils43ExWUpANmQX",K_="rlfOvthXUKl4El1wFOIw",q_="IvUHORlPOqQqTCL0ptMM",J_="ewGaJKYxecWX5H7AGEKg",Q_="gapYMHShkSqMHNu7fj7T";function Z_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var $_=function(e){var t=e.showDropboxModal,n=(0,Xr.c)(),i=Z_((0,r.useState)(t),2),a=i[0],o=i[1],s=null,c=function(){clearTimeout(s),o(!1)},l=function(){return o(!0),s=setTimeout((function(){c()}),3e4),function(){return clearTimeout(s)}};(0,r.useEffect)((function(){t&&l()}),[t]);var u=function(){c(),"undefined"!=typeof window&&window.giLocalStorage&&window.giLocalStorage.setItem("dropboxOptOut",!0)};return a&&(0,Or.jsxs)("aside",{className:Y_,id:"dropbox-intro-modal",role:"dialog",children:[(0,Or.jsx)(ai.A,{className:Q_,onClick:u,"data-testid":"close-link"}),(0,Or.jsxs)("div",{className:K_,children:[(0,Or.jsx)(V_,{className:J_,alt:n("dropbox")}),(0,Or.jsxs)("div",{className:q_,children:[(0,Or.jsx)("div",{children:n("download_workflow.dropbox_save_your_downloads")}),(0,Or.jsx)("a",{href:"/account/apps",children:"".concat(n("download_workflow.get_started")," >")})]})]})]})},eh=(0,va.A)((function(e){var t=e.licenseOverviewPath,n=(0,s.d4)((function(e){return e.calc.step.purchaseExtendedLicenseNotAllowed})),r=(0,Xr.c)(),i=(0,md.DP)().link||{},a=(0,s.wA)(),o=(0,s.d4)((function(e){return e.userDetails.free_trial_subscription_test_active})),c=(0,s.d4)((function(e){return e.mobileSimplification})),l=o&&c,u=(0,lo.A)(),f=function(e){e.preventDefault(),a(Ie.pickOptionalLicenses());var t=(0,uo.A)({cta_interaction:"extended_license_link_clicked",cta_text:"add_extended_license",cta_url:void 0,ui_element_location:u});(0,d.C)(t)};return!n&&(0,Or.jsx)("div",{className:"license-and-file-data","data-testid":"license-links",children:(0,Or.jsxs)("div",{children:[(0,Or.jsx)("hr",{}),(0,Or.jsxs)("div",{className:"license",children:[(0,Or.jsx)("span",{"data-testid":"standard-license-link",className:i.textLink,children:(0,Or.jsx)(ei.A,{children:r("includes_standard_license",{links:[{href:t,target:"_blank",rel:"noopener noreferrer nofollow"}]})})}),!l&&(0,Or.jsx)("div",{role:"presentation",id:"show_extended_licenses",className:i.textLink,onClick:f,onKeyPress:function(e){"Enter"===e.key&&f(e)},children:(0,Or.jsx)("span",{"data-testid":"extended-license-link",children:(0,Or.jsx)(ei.A,{children:r("add_extended_license",{links:[{href:"#"}]})})})})]})]})})}),"license_options"),th="W5UA9nv82mNCOvPuhJmw",nh=function(e){var t=e.imageIsEdited,n=e.editsPendingForDownload,i=(0,s.d4)((function(e){return e.buyCardData.assetBuyCardContentPolicy.displayAdpSignInCta})),a=(0,s.d4)((function(e){return e.buyCardData.licenseOverviewPath})),o=(0,s.d4)((function(e){return e.calc.showDropboxModal})),c=(0,s.d4)((function(e){return e.calc.step})),l=c.hideDetails,u=c.viewLicenseSelection,d=c.currentStep,f=(0,s.d4)((function(e){return e.userDetails})).has_subscription,p=(0,s.d4)((function(e){return e.calc})).hasAvailableCredits||f,h=(0,Zi.useExperience)("EPSFileType"),m=(0,s.d4)((function(e){return e.asset})).isVector,v=h.isOfferActive("TestA")&&m&&p,g=d===_.PICK_PAYMENT_OPTION;return(0,r.useEffect)((function(){if("undefined"!=typeof window&&h.isActive()){var e="Control"===h.activeOffer()?"is_epsfiletype-control":"is_epsfiletype-expA",t=window.tracking_data.ab_test_variation;window.tracking_data.ab_test_variation=t?"".concat(t,"|").concat(e):e}}),[]),i?(0,Or.jsxs)("section",{children:[(0,Or.jsx)(L_,{}),!l&&(0,Or.jsx)(z_,{}),(0,Or.jsx)($_,{showDropboxModal:o||!1})]}):(0,Or.jsxs)("section",{className:g?th:"",children:[(0,Or.jsx)(O_,{showEPSFileTypeTest:v,imageIsEdited:t,editsPendingForDownload:n}),!u&&(0,Or.jsx)(eh,{licenseOverviewPath:a}),!l&&(0,Or.jsx)(z_,{}),(0,Or.jsx)($_,{showDropboxModal:o||!1})]})};nh.defaultProps={editsPendingForDownload:!1};var rh=nh,ih="wmkAWS5w4QvLo_X19JpA",ah="QhGqtOrtIL3zYevRuhww",oh="MwK45fGCbCEnFYyf858O",sh="fk44HdjTaFM5QhxtwJWu";function ch(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var uh=function(){var e=(0,s.wA)(),t=(0,Xr.c)(),n=ch((0,r.useState)(!0),2),i=n[0],a=n[1],o=mu(),c=(0,s.d4)((function(e){return e.buyCardData.orderId})),l=(0,s.d4)((function(e){return e.calc.selectedAgreementSize})),u=function(e){var t="close_modal"===e?"modal_cta":void 0,n=(0,_o.A)({event:e,modal_content:"buy_n_burn",modal_type:"detailed_modal_with_cta",cta_text:void 0,ui_element_location:t,modal_selection:"buy_n_burn_modal"});(0,d.C)(n)};(0,r.useEffect)((function(){i&&l&&(u("modal_shown"),e(se(!0)),o.createDownload())}),[l]);return(0,Or.jsx)("aside",{children:i&&(0,Or.jsx)("div",{className:ih,children:(0,Or.jsx)("div",{className:ah,children:(0,Or.jsxs)("div",{className:sh,children:[(0,Or.jsx)("h2",{children:t("thanks_for_your_purchase")}),(0,Or.jsx)("p",{children:t("initiated_your_download")}),(0,Or.jsx)("div",{children:(0,Or.jsxs)("p",{children:[t("confirmation_sent_to_email"),(0,Or.jsx)("span",{role:"link",tabIndex:0,children:(0,Or.jsx)(ei.A,{children:t("view_order_here",{order_id:c,links:[{href:"/sales-order/".concat(c),target:"_blank",rel:"noopener noreferrer",id:"order-id-link"}]})})})]})}),(0,Or.jsx)("button",{type:"button",className:oh,"data-testid":"buy-and-burn-got-it",onClick:function(){u("close_modal"),a(!1)},children:t("got_it_cta")})]})})})})},dh=["styles"];function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fh.apply(null,arguments)}var ph=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dh);return i().createElement("svg",fh({width:"48",height:"47",viewBox:"0 0 48 47",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M29.078.237c0 5.983 0 5.983 0 0 1.555 11.758 6.066 16.27 19.32 19.32-13.254.059-17.765 4.57-19.32 19.32-1.555-14.75-6.066-19.261-19.32-19.32 13.254-3.05 17.765-7.562 19.32-19.32zM13.805 29.216c0 1.24 0 1.24 0 0 .915 4.639 3.57 7.294 8.52 8.52-4.95.606-7.605 3.261-8.52 8.52-.916-5.259-3.571-7.914-8.52-8.52 4.949-1.225 7.604-3.881 8.52-8.52zM5.14 20.132c0 .741 0 .741 0 0 .547 2.773 2.134 4.36 5.092 5.092-2.958.363-4.545 1.95-5.092 5.093-.547-3.143-2.134-4.73-5.092-5.093 2.958-.732 4.545-2.319 5.092-5.092z"},i().createElement("animate",{attributeName:"opacity",values:"0;1;0.75;0.5;0.25;0",dur:"3s",repeatCount:"indefinite"})))},_h={assetDetail:"o1mmrvbvek738U7UT2yr",main:"zahpcukElDRb_Ohm_lOq",assetContainerComp:"yHPYlHVGpzwlgFAJcHn4",assetContainerMeta:"Rfm5Ib9MsxDzwZ1PfoKh",assetContainer:"etgO5QRmCLU1wcj0BlPn",mainImage:"IpFd5ntbKXKzp0faqOiE",mainFilm:"s5U3t2AzNsmKR0qy8eTG",subFoldContainer:"cBjX34_XGwnfVF9NAZQx",loader:"T9cJEqHyL49ePXdpBQ_4"};function hh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mh(){mh=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new x(r||[]);return i(o,"_invoke",{value:A(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",_="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(j([])));S&&S!==n&&r.call(S,o)&&(b=S);var E=y.prototype=v.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,o,s){var c=d(e[i],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function A(t,n,r){var i=f;return function(a,o){if(i===_)throw Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?h:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=h,r.method="throw",r.arg=l.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,i(E,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(C.prototype),l(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new C(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(E),l(E,c,"Generator"),l(E,o,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function vh(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function gh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bh=function(){var e=(0,kr.Z)(),t=(0,Rr.Jd)(),n=(0,s.d4)((function(e){return e.asset})),i=(0,s.d4)((function(e){return e.userDetails.pricing_clarity_flow})),a=(0,s.d4)((function(e){return e.userDetails.eligible_for_pricing_clarity_premium_video_subscription_flow})),c=(0,s.d4)((function(e){return e.displayError})),l=(0,s.d4)((function(e){return e.calc.includedWithSubscription})),u=(0,s.d4)((function(e){return e.calc.isInPricingClarity})),f=(0,s.d4)((function(e){return e.mobileSimplification})),p=(0,s.d4)((function(e){return e.buyCardData.buyAndBurn})),_=(0,s.d4)((function(e){return e.buyCardData.orderId})),h=gh((0,r.useState)(!0),2),m=h[0],v=h[1],g=(0,Br.A)(),y=g.showLoadingErrorMessage,b=g.handleLoadingErrorDismissal,w=(0,Wr.A)().imageIsEdited,S=(0,zr.A)(),E=S.showOverlay,O=S.setShowOverlay,C=(0,Gr.A)().editsPendingForDownload,A="".concat(a&&i?"video-pricing-clarity-width":""),I=f?"simplification-test-margin":"",N=n.localizedCaption?n.localizedCaption:n.title,T=(0,s.wA)();Fr();var x=(0,s.d4)((function(e){return e.userDetails})),j=x.subscription_upgrade,P=_||j,D=function(){var e,t=(e=mh().mark((function e(){return mh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(Ie.goToInitialLoad());case 2:v(!1);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){vh(a,r,i,o,s,"next",e)}function s(e){vh(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,r.useEffect)((function(){e.sendAssetDetailsViewedSignal(n,(0,Ur.Q)()),(0,d.C)((0,Lr.A)(window.tracking_data)),D()}),[]),(0,Or.jsxs)("div",{className:_h.assetDetail,"data-testid":"asset-detail-container",children:[(0,Or.jsx)(o.PE,{}),(0,Or.jsx)(ts,{}),(0,Or.jsx)(Hr.A,{open:E,onClose:function(){return O(!1)},Icon:ph,header:"were_preparing_your_cropped_image",lines:["do_not_close_browser","we_appreciate_your_patience"]}),(0,Or.jsx)(Vr.A,{EditedIcon:Mr.A}),(0,Or.jsxs)("div",{"data-testid":"asset-detail-main",className:Kr()(_h.main,hh(hh({},_h.mainImage,n.isImage),_h.mainFilm,n.isFilm)),children:[P&&(p?(0,Or.jsx)(uh,{}):(0,Or.jsx)(ii,{})),(0,Or.jsx)(js,{errorType:c}),(0,Or.jsx)(hs,{asset:n}),(0,Or.jsxs)("div",{className:_h.assetContainer,children:[(0,Or.jsxs)("section",{className:"comp ".concat(A," ").concat(_h.assetContainerComp),children:[(0,Or.jsx)(qo,{asset:n.toObject(),userDetails:x,showLoadingErrorMessage:y,handleLoadingErrorDismissal:b}),(0,Or.jsx)(Qo,{descriptionContent:N,editorialImage:n.isImage&&n.isEditorialUseOnly})]}),(0,Or.jsx)("section",{className:"meta ".concat(A," ").concat(I," ").concat(_h.assetContainerMeta),children:m&&!t.isAnonymous?(0,Or.jsx)(Mr.A,{className:_h.loader}):(0,Or.jsx)(rh,{isInPricingClarity:u,buyCardSignedInData:l,imageIsEdited:w,editsPendingForDownload:C})})]})]}),(0,Or.jsx)("div",{className:_h.subFold,children:(0,Or.jsxs)("div",{className:Kr()(_h.subFoldContainer,hh(hh({},_h.subFoldImage,n.isImage),_h.subFoldFilm,n.isFilm)),children:[(0,Or.jsx)(Vc,{}),(0,Or.jsx)(qs,{}),(0,Or.jsx)(Ts,{}),(0,Or.jsx)(lc,{})]})})]})},wh=function(e){var t=e.payload;return(0,Or.jsx)(xr,{payload:t,children:(0,Or.jsx)(jr.Kq,{children:(0,Or.jsx)(Pr.A,{children:(0,Or.jsx)(a.Zn,{children:(0,Or.jsx)(o.v0,{children:(0,Or.jsx)(Dr.A,{children:(0,Or.jsx)(bh,{})})})})})})})}}}]);
//# sourceMappingURL=app-root-components-asset-detail-istock-index-597e4570c36a6f7e4f1d.js.map